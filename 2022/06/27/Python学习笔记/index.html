<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Python学习笔记 | Welcome to Durango's blog!</title><meta name="keywords" content="Python,面向对象,迭代器,生成器,装饰器"><meta name="author" content="Durango,1530268781@qq.com"><meta name="copyright" content="Durango"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="Python基础+面向对象+python高级">
<meta property="og:type" content="article">
<meta property="og:title" content="Python学习笔记">
<meta property="og:url" content="https://www.durango.cn/2022/06/27/Python%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/index.html">
<meta property="og:site_name" content="Welcome to Durango&#39;s blog!">
<meta property="og:description" content="Python基础+面向对象+python高级">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://www.durango.cn/img/python_cover1.jpg">
<meta property="article:published_time" content="2022-06-27T02:44:01.000Z">
<meta property="article:modified_time" content="2023-09-06T05:45:22.233Z">
<meta property="article:author" content="Durango">
<meta property="article:tag" content="Python">
<meta property="article:tag" content="面向对象">
<meta property="article:tag" content="迭代器">
<meta property="article:tag" content="生成器">
<meta property="article:tag" content="装饰器">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://www.durango.cn/img/python_cover1.jpg"><link rel="shortcut icon" href="/img/avatar2.jpg"><link rel="canonical" href="https://www.durango.cn/2022/06/27/Python%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//fonts.googleapis.com" crossorigin=""/><link rel="preconnect" href="//busuanzi.ibruce.info"/><meta/><meta/><meta/><meta/><meta/><meta/><meta/><meta/><meta/><meta/><meta/><meta/><meta/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Titillium+Web&amp;display=swap" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: {"path":"search.xml","languages":{"hits_empty":"找不到您查询的内容：${query}"}},
  translate: {"defaultEncoding":1,"translateDelay":0,"msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"简"},
  noticeOutdate: {"limitDay":1000,"position":"top","messagePrev":"It has been","messageNext":"days since the last update, the content of the article may be outdated."},
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":200},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '天',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: {"limitCount":50,"languages":{"author":"作者: Durango","link":"链接: ","source":"来源: Welcome to Durango's blog!","info":"著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。"}},
  lightbox: 'fancybox',
  Snackbar: {"chs_to_cht":"你已切换为繁体","cht_to_chs":"你已切换为简体","day_to_night":"你已切换为深色模式","night_to_day":"你已切换为浅色模式","bgLight":"#49b1f5","bgDark":"#121212","position":"bottom-left"},
  source: {
    jQuery: 'https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js',
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/js/jquery.justifiedGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/css/justifiedGallery.min.css'
    },
    fancybox: {
      js: 'https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js',
      css: 'https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.css'
    }
  },
  isPhotoFigcaption: true,
  islazyload: false,
  isanchor: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'Python学习笔记',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2023-09-06 13:45:22'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const fontSizeVal = saveToLocal.get('global-font-size')
    if (fontSizeVal !== undefined) {
      document.documentElement.style.setProperty('--global-font-size', fontSizeVal + 'px')
    }
    })(window)</script><link rel="stylesheet" href="APlayer.min.css"><div id="aplayer"></div><script src="https://cdn.jsdelivr.net/npm/meting@2/dist/Meting.min.js" async></script><meta name="generator" content="Hexo 5.4.0"></head><body><div id="loading-box"><div class="loading-left-bg"></div><div class="loading-right-bg"></div><div class="spinner-box"><div class="configure-border-1"><div class="configure-core"></div></div><div class="configure-border-2"><div class="configure-core"></div></div><div class="loading-word">加载中...</div></div></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="author-avatar"><img class="avatar-img" src="/img/avatar2.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data"><div class="data-item is-center"><div class="data-item-link"><a href="/archives/"><div class="headline">文章</div><div class="length-num">26</div></a></div></div><div class="data-item is-center"><div class="data-item-link"><a href="/tags/"><div class="headline">标签</div><div class="length-num">36</div></a></div></div><div class="data-item is-center"><div class="data-item-link"><a href="/categories/"><div class="headline">分类</div><div class="length-num">12</div></a></div></div></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 归档</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> 娱乐</span><i class="fas fa-chevron-down expand"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/music/"><i class="fa-fw fas fa-music"></i><span> 音乐</span></a></li><li><a class="site-page child" href="/Gallery/"><i class="fa-fw fas fa-images"></i><span> 照片</span></a></li><li><a class="site-page child" href="/movies/"><i class="fa-fw fas fa-video"></i><span> 视频</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('/img/python_topImg1.jpg')"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">Welcome to Durango's blog!</a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search"><i class="fas fa-search fa-fw"></i><span> 搜索</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 归档</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> 娱乐</span><i class="fas fa-chevron-down expand"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/music/"><i class="fa-fw fas fa-music"></i><span> 音乐</span></a></li><li><a class="site-page child" href="/Gallery/"><i class="fa-fw fas fa-images"></i><span> 照片</span></a></li><li><a class="site-page child" href="/movies/"><i class="fa-fw fas fa-video"></i><span> 视频</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">Python学习笔记</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2022-06-27T02:44:01.000Z" title="发表于 2022-06-27 10:44:01">2022-06-27</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2023-09-06T05:45:22.233Z" title="更新于 2023-09-06 13:45:22">2023-09-06</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E3%80%8APython%E3%80%8B/">《Python》</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">字数总计:</span><span class="word-count">21.2k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">阅读时长:</span><span>72分钟</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="Python学习笔记"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h2 id="1-Python简介"><a href="#1-Python简介" class="headerlink" title="1. Python简介"></a>1. Python简介</h2><h3 id="1-1-Python-定义"><a href="#1-1-Python-定义" class="headerlink" title="1.1 Python 定义"></a>1.1 Python 定义</h3><p>是一个免费、开源、跨平台、动态、面向对象的编程语言。</p>
<h3 id="1-2-Python程序的执行方式"><a href="#1-2-Python程序的执行方式" class="headerlink" title="1.2 Python程序的执行方式"></a>1.2 Python程序的执行方式</h3><h4 id="（1）交互式"><a href="#（1）交互式" class="headerlink" title="（1）交互式"></a>（1）交互式</h4><p>在命令行输入指令，回车即可得到结果。</p>
<p>(1) 打开终端</p>
<p>(2) 进入交互式：python3</p>
<p>(3) 编写代码：print(“hello world”) </p>
<p>(4) 离开交互式：exit()</p>
<h4 id="（2）文件式"><a href="#（2）文件式" class="headerlink" title="（2）文件式"></a>（2）文件式</h4><p>将指令编写到.py文件，可以重复运行程序。</p>
<p>(1)  编写文件</p>
<p>(2)  打开终端</p>
<p>(3)   进入程序所在目录：cd 目录</p>
<p>(4)  执行程序： python3 文件名</p>
<h3 id="1-3-执行过程"><a href="#1-3-执行过程" class="headerlink" title="1.3 执行过程"></a>1.3 执行过程</h3><p>计算机只能识别机器码(1010)，不能识别源代码(python)。由源代码转变成机器码的过程分成两类：编译和解释。</p>
<h4 id="（1）编译"><a href="#（1）编译" class="headerlink" title="（1）编译"></a>（1）编译</h4><p>在程序运行之前，通过编译器将源代码变成机器码，例如：C语言。</p>
<ul>
<li>优点：运行速度快</li>
</ul>
<ul>
<li>缺点：开发效率低，不能跨平台。</li>
</ul>
<h4 id="（2）解释"><a href="#（2）解释" class="headerlink" title="（2）解释"></a>（2）解释</h4><p>在程序运行之时，通过解释器对程序逐行翻译，然后执行，例如Javascript。</p>
<ul>
<li>优点：开发效率高，可以跨平台；</li>
</ul>
<ul>
<li>缺点：运行速度慢。</li>
</ul>
<h4 id="（3）Python是解释型语言"><a href="#（3）Python是解释型语言" class="headerlink" title="（3）Python是解释型语言"></a>（3）Python是解释型语言</h4><p>Python是解释型语言，但为了提高运行速度，使用了一种编译的方法。编译之后得到pyc文件，存储了字节码（特定于Python的表现形式，不是机器码）。</p>
<p>源代码 – 编译 –&gt; 字节码 – 解释 –&gt; 机器码</p>
<h3 id="1-4-解释器类型"><a href="#1-4-解释器类型" class="headerlink" title="1.4 解释器类型"></a>1.4 解释器类型</h3><p>(1) CPython（C语言开发)</p>
<p>(2)  Jython (java开发)</p>
<p>(3) IronPython (.net开发)</p>
<h2 id="2-数据基本运算"><a href="#2-数据基本运算" class="headerlink" title="2. 数据基本运算"></a>2. 数据基本运算</h2><h3 id="2-1-基础知识"><a href="#2-1-基础知识" class="headerlink" title="2.1 基础知识"></a>2.1 基础知识</h3><h4 id="（1）-pycharm常用快捷键"><a href="#（1）-pycharm常用快捷键" class="headerlink" title="（1） pycharm常用快捷键"></a>（1） pycharm常用快捷键</h4><ul>
<li><p>移动到本行开头：home键</p>
</li>
<li><p>移动到本行末尾：end键盘</p>
</li>
<li><p> 注释代码：ctrl + /</p>
</li>
</ul>
<ul>
<li> 复制行：<font color="red">ctrl +d</font></li>
</ul>
<ul>
<li>删除行：<font color="red">shift + delete</font></li>
</ul>
<ul>
<li> 选择列：shift + alt +鼠标左键</li>
</ul>
<ul>
<li>移动行：ctrl  + shift + 上下箭头</li>
</ul>
<ul>
<li>代码格式化：<font color="red"> ctrl+alt+l </font></li>
<li>查看函数参数：<font color="red">ctrl+P</font></li>
<li>重构成员：shift+F6</li>
</ul>
<h4 id="（2）注释"><a href="#（2）注释" class="headerlink" title="（2）注释"></a>（2）注释</h4><p>​    给人看的，通常是对代码的描述信息。</p>
<ul>
<li>单行注释：以#号开头。</li>
</ul>
<ul>
<li>多行注释：三引号开头，三引号结尾。</li>
</ul>
<h3 id="2-2-数据"><a href="#2-2-数据" class="headerlink" title="2.2 数据"></a>2.2 数据</h3><ul>
<li><p>整形int</p>
</li>
<li><p>浮点型float </p>
</li>
<li><p>字符串str</p>
</li>
<li><p>布尔bool</p>
</li>
</ul>
<h3 id="2-3-运算"><a href="#2-3-运算" class="headerlink" title="2.3 运算"></a>2.3 运算</h3><h4 id="（1）-类型转换"><a href="#（1）-类型转换" class="headerlink" title="（1） 类型转换"></a>（1） 类型转换</h4><ul>
<li>转换为整形: int(数据)</li>
</ul>
<ul>
<li>转换为浮点型:float(数据)</li>
</ul>
<ul>
<li>转换为字符串:str(数据)</li>
</ul>
<ul>
<li>转换为布尔:bool(数据)</li>
</ul>
<h4 id="（2）运算符"><a href="#（2）运算符" class="headerlink" title="（2）运算符"></a>（2）运算符</h4><h5 id="（1）算术运算符"><a href="#（1）算术运算符" class="headerlink" title="（1）算术运算符"></a>（1）算术运算符</h5><ul>
<li>+   加法</li>
</ul>
<ul>
<li>-   减法</li>
</ul>
<ul>
<li>*   乘法</li>
</ul>
<ul>
<li>/   除法：结果为浮点数</li>
</ul>
<ul>
<li>//  整除：除的结果去掉小数部分</li>
</ul>
<ul>
<li>%  求余</li>
</ul>
<ul>
<li>**  幂运算</li>
</ul>
<h5 id="（2）-增强运算符"><a href="#（2）-增强运算符" class="headerlink" title="（2） 增强运算符"></a>（2） 增强运算符</h5><ul>
<li>y += x     相当于 y = y + x</li>
</ul>
<ul>
<li>y -= x      相当于 y = y - x</li>
</ul>
<ul>
<li>y *= x      相当于 y = y * x</li>
</ul>
<ul>
<li>y /= x      相当于 y = y / x</li>
</ul>
<ul>
<li>y //= x     相当于 y = y // x</li>
</ul>
<ul>
<li>y %= x     相当于 y = y % x</li>
</ul>
<ul>
<li>y **= x     相当于 y = y ** x</li>
</ul>
<h5 id="（3）-比较运算符"><a href="#（3）-比较运算符" class="headerlink" title="（3） 比较运算符"></a>（3） 比较运算符</h5><ul>
<li> &lt;     小于</li>
</ul>
<ul>
<li> &lt;=    小于等于</li>
</ul>
<ul>
<li><p>&gt;     大于</p>
</li>
<li><p> &gt;=    大于等于</p>
</li>
</ul>
<ul>
<li> ==    等于</li>
</ul>
<ul>
<li> !=     不等于</li>
</ul>
<h5 id="（4）-逻辑运算符"><a href="#（4）-逻辑运算符" class="headerlink" title="（4） 逻辑运算符"></a>（4） 逻辑运算符</h5><ul>
<li>与and     </li>
</ul>
<ul>
<li>或or</li>
</ul>
<ul>
<li>非 not </li>
</ul>
<h5 id="（5）身份运算符"><a href="#（5）身份运算符" class="headerlink" title="（5）身份运算符"></a>（5）身份运算符</h5><ul>
<li><p>语法:</p>
<p>x is y</p>
<p>x is not y</p>
</li>
<li><p>作用：</p>
<p>is 用于判断两个对象是否是同一个对象,是时返回True,否则返回False。</p>
</li>
</ul>
<h5 id="（6）优先级"><a href="#（6）优先级" class="headerlink" title="（6）优先级"></a>（6）优先级</h5><p>​    高到低：</p>
<p>​        算数运算符</p>
<p>​        比较运算符</p>
<p>​        增强运算符</p>
<p>​        身份运算符</p>
<p>​        逻辑运算符</p>
<h2 id="3-语句"><a href="#3-语句" class="headerlink" title="3. 语句"></a>3. 语句</h2><h3 id="3-1-条件语句"><a href="#3-1-条件语句" class="headerlink" title="3.1 条件语句"></a>3.1 条件语句</h3><h4 id="（1）if-elif-语句"><a href="#（1）if-elif-语句" class="headerlink" title="（1）if elif 语句"></a>（1）if elif 语句</h4><ul>
<li> 作用:</li>
</ul>
<p>  让程序根据条件选择性的执行语句。</p>
<ul>
<li>语法:</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> 条件<span class="number">1</span>:</span><br><span class="line">   语句块<span class="number">1</span></span><br><span class="line"><span class="keyword">elif</span> 条件<span class="number">2</span>:</span><br><span class="line">   语句块<span class="number">2</span></span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">   语句块<span class="number">3</span></span><br></pre></td></tr></table></figure>

<h4 id="（2）真值表达式"><a href="#（2）真值表达式" class="headerlink" title="（2）真值表达式"></a>（2）真值表达式</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> <span class="number">100</span>:</span><br><span class="line">	<span class="built_in">print</span>(<span class="string">&quot;真值&quot;</span>)</span><br><span class="line"><span class="comment"># 等同于</span></span><br><span class="line"><span class="keyword">if</span> <span class="built_in">bool</span>(<span class="number">100</span>):</span><br><span class="line">	<span class="built_in">print</span>(<span class="string">&quot;真值&quot;</span>)</span><br></pre></td></tr></table></figure>

<h4 id="（3）条件表达式"><a href="#（3）条件表达式" class="headerlink" title="（3）条件表达式"></a>（3）条件表达式</h4><ul>
<li>  语法：变量 = 结果1 if 条件 else 结果2</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">value = <span class="number">1</span> <span class="keyword">if</span> <span class="built_in">input</span>(<span class="string">&quot;请输入性别:&quot;</span>) == <span class="string">&quot;男&quot;</span> <span class="keyword">else</span> <span class="number">0</span></span><br></pre></td></tr></table></figure>

<ul>
<li> 作用：根据条件(True/False) 来决定返回结果1还是结果2。</li>
</ul>
<h3 id="3-2-循环语句"><a href="#3-2-循环语句" class="headerlink" title="3.2 循环语句"></a>3.2 循环语句</h3><h4 id="（1）while语句"><a href="#（1）while语句" class="headerlink" title="（1）while语句"></a>（1）while语句</h4><h4 id="（2）for-语句"><a href="#（2）for-语句" class="headerlink" title="（2）for 语句"></a>（2）for 语句</h4><ul>
<li>作用:用来遍历可迭代对象的数据元素。可迭代对象是指能依次获取数据元素的对象，例如：容器类型。</li>
</ul>
<ul>
<li> 语法:</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> 变量列表 <span class="keyword">in</span> 可迭代对象:</span><br><span class="line">    <span class="comment"># 语句块</span></span><br></pre></td></tr></table></figure>

<h4 id="（3）range-函数"><a href="#（3）range-函数" class="headerlink" title="（3）range 函数"></a>（3）range 函数</h4><ul>
<li>作用:</li>
</ul>
<p>​      用来创建一个生成一系列整数的可迭代对象(也叫整数序列生成器)。</p>
<ul>
<li>语法:</li>
</ul>
<p>​       <font color="red">range(开始点，结束点，间隔)</font></p>
<ul>
<li><p>说明:</p>
<p>函数返回的可迭代对象可以用for取出其中的元素</p>
<p>返回的数字不包含结束点</p>
<p>开始点默认为0</p>
<p>间隔默认值为1 </p>
</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 写法1:range(开始,结束,间隔)</span></span><br><span class="line"><span class="comment"># 注意:不包含结束值</span></span><br><span class="line"><span class="keyword">for</span> item <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>, <span class="number">3</span>, <span class="number">1</span>):</span><br><span class="line">    <span class="built_in">print</span>(item)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 写法2:range(开始,结束)</span></span><br><span class="line"><span class="comment"># 注意:间隔默认为1</span></span><br><span class="line"><span class="keyword">for</span> item <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>, <span class="number">3</span>):	</span><br><span class="line">    <span class="built_in">print</span>(item)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 写法3:range(结束)</span></span><br><span class="line"><span class="comment"># 注意:开始默认为0</span></span><br><span class="line"><span class="keyword">for</span> item <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">3</span>):</span><br><span class="line">    <span class="built_in">print</span>(item)</span><br></pre></td></tr></table></figure>



<h3 id="3-3-跳转语句"><a href="#3-3-跳转语句" class="headerlink" title="3.3 跳转语句"></a>3.3 跳转语句</h3><h4 id="（1）break-语句"><a href="#（1）break-语句" class="headerlink" title="（1）break 语句"></a>（1）break 语句</h4><p>​    跳出循环体，后面的代码不再执行。</p>
<h4 id="（2）continue-语句"><a href="#（2）continue-语句" class="headerlink" title="（2）continue 语句"></a>（2）continue 语句</h4><p>​    跳过本次，继续下次循环。</p>
<h2 id="4-Python基础容器"><a href="#4-Python基础容器" class="headerlink" title="4. Python基础容器"></a>4. Python基础容器</h2><a href="/2021/12/24/Python%E5%9F%BA%E7%A1%80%E5%AE%B9%E5%99%A8/" title="Python基础容器">Python基础容器</a>



<h2 id="5-函数-function"><a href="#5-函数-function" class="headerlink" title="5. 函数 function"></a>5. 函数 function</h2><h3 id="5-1-定义"><a href="#5-1-定义" class="headerlink" title="5.1 定义"></a>5.1 定义</h3><ul>
<li>用于封装一个特定的功能，表示一个功能或者行为。</li>
<li> 函数是可以重复执行的语句块, 可以重复调用。</li>
<li>提高代码的可重用性和可维护性（代码层次结构更清晰）。</li>
</ul>
<h3 id="5-2-基础语法"><a href="#5-2-基础语法" class="headerlink" title="5.2 基础语法"></a>5.2 基础语法</h3><h4 id="（1）定义函数"><a href="#（1）定义函数" class="headerlink" title="（1）定义函数"></a>（1）定义函数</h4><ul>
<li><p>语法：</p>
<p>def 函数名(形式参数):</p>
<pre><code>   函数体
</code></pre>
</li>
<li><p> 说明：</p>
</li>
</ul>
<p>  def 关键字：全称是define，意为”定义”。</p>
<p>  函数名：对函数体中语句的描述，规则与变量名相同。</p>
<p>  形式参数：函数定义者要求调用者提供的信息。</p>
<p>  函数体：完成该功能的语句。</p>
<ul>
<li>函数的第一行语句建议使用文档字符串描述函数的功能与参数。</li>
</ul>
<h4 id="（2）调用函数"><a href="#（2）调用函数" class="headerlink" title="（2）调用函数"></a>（2）调用函数</h4><ul>
<li>语法：函数名(实际参数) </li>
</ul>
<ul>
<li>说明：根据形参传递内容。</li>
</ul>
<h4 id="（3）返回值"><a href="#（3）返回值" class="headerlink" title="（3）返回值"></a>（3）返回值</h4><ul>
<li><p>定义：</p>
<p>函数定义者告诉调用者的结果。</p>
</li>
<li><p>语法：</p>
<p>return 数据 </p>
</li>
<li><p>说明：</p>
<p>return后没有语句，相当于返回 None。</p>
<p>函数体没有return，相当于返回None。</p>
</li>
</ul>
<h3 id="5-3-可变／不可变类型"><a href="#5-3-可变／不可变类型" class="headerlink" title="5.3 可变／不可变类型"></a>5.3 可变／不可变类型</h3><h4 id="1-不可变类型参数"><a href="#1-不可变类型参数" class="headerlink" title="(1) 不可变类型参数:"></a>(1) 不可变类型参数:</h4><ul>
<li>数值型(整数，浮点数)</li>
</ul>
<ul>
<li>布尔值bool</li>
</ul>
<ul>
<li>None 空值</li>
</ul>
<ul>
<li>字符串str</li>
</ul>
<ul>
<li>元组tuple</li>
</ul>
<h4 id="2-可变类型参数"><a href="#2-可变类型参数" class="headerlink" title="(2) 可变类型参数:"></a>(2) 可变类型参数:</h4><ul>
<li>列表 list</li>
</ul>
<ul>
<li>字典 dict</li>
</ul>
<ul>
<li>集合 set</li>
</ul>
<h4 id="3-传参说明："><a href="#3-传参说明：" class="headerlink" title="(3) 传参说明："></a>(3) 传参说明：</h4><ul>
<li>不可变类型的数据传参时，函数内部不会改变原数据的值。</li>
</ul>
<ul>
<li>可变类型的数据传参时，函数内部可以改变原数据。 </li>
</ul>
<h3 id="5-4-函数参数"><a href="#5-4-函数参数" class="headerlink" title="5.4 函数参数"></a>5.4 函数参数</h3><h4 id="（1）实参传递方式"><a href="#（1）实参传递方式" class="headerlink" title="（1）实参传递方式"></a>（1）实参传递方式</h4><h5 id="①位置传参"><a href="#①位置传参" class="headerlink" title="①位置传参"></a>①<strong>位置传参</strong></h5><p>​    定义：实参与形参的位置依次对应。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">fun01</span>(<span class="params">p1, p2, p3</span>):</span></span><br><span class="line">    <span class="built_in">print</span>(p1)</span><br><span class="line">    <span class="built_in">print</span>(p2)</span><br><span class="line">    <span class="built_in">print</span>(p3)</span><br><span class="line"> </span><br><span class="line"><span class="comment"># 位置实参:根据顺序与形参进行对应</span></span><br><span class="line">fun01(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>)</span><br></pre></td></tr></table></figure>

<h5 id="②序列传参"><a href="#②序列传参" class="headerlink" title="②序列传参"></a>②<font color="red"><strong>序列传参</strong></font></h5><p>​    定义：<font color="red">实参用*将序列拆解后与形参的位置依次对应。</font></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">func01</span>(<span class="params">p1, p2, p3</span>):</span></span><br><span class="line">    <span class="built_in">print</span>(p1, p2, p3)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 序列实参:拆,按照顺序与形参对应</span></span><br><span class="line">list01 = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]</span><br><span class="line">name = <span class="string">&quot;孙悟空&quot;</span></span><br><span class="line">tuple01 = (<span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>)</span><br><span class="line"><span class="comment"># func01(list01)</span></span><br><span class="line">func01(*list01)  <span class="comment"># 拆  1, 2, 3</span></span><br><span class="line">func01(*name)  <span class="comment"># 拆  孙 悟 空</span></span><br><span class="line">func01(*tuple01)  <span class="comment"># 拆  4, 5, 6</span></span><br></pre></td></tr></table></figure>

<h5 id="③关键字传参"><a href="#③关键字传参" class="headerlink" title="③关键字传参"></a>③<font color="red"><strong>关键字传参</strong></font></h5><p>​    定义：实参根据形参的名字进行对应。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">fun01</span>(<span class="params">p1, p2, p3</span>):</span></span><br><span class="line">    <span class="built_in">print</span>(p1)</span><br><span class="line">    <span class="built_in">print</span>(p2)</span><br><span class="line">    <span class="built_in">print</span>(p3)</span><br><span class="line">    </span><br><span class="line"><span class="comment"># 关键字实参:根据名字与形参进行对应</span></span><br><span class="line">fun01(p1=<span class="number">1</span>, p2=<span class="number">2</span>, p3=<span class="number">3</span>)</span><br><span class="line">fun01(p2=<span class="number">2</span>, p1=<span class="number">1</span>, p3=<span class="number">3</span>)</span><br></pre></td></tr></table></figure>

<h5 id="④字典关键字传参"><a href="#④字典关键字传参" class="headerlink" title="④字典关键字传参"></a>④<font color="red"><strong>字典关键字传参</strong></font></h5><p>​    定义：实参用**将字典拆解后与形参的名字进行对应。</p>
<p>​    作用：配合形参的缺省参数，可以使调用者随意传参。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">func01</span>(<span class="params">p1, p2, p3</span>):</span></span><br><span class="line">    <span class="built_in">print</span>(p1, p2, p3)</span><br><span class="line">    </span><br><span class="line"><span class="comment"># 字典实参:拆,按照名称与形参对应</span></span><br><span class="line">dict01 = &#123;<span class="string">&quot;p2&quot;</span>:<span class="string">&quot;B&quot;</span>,<span class="string">&quot;p1&quot;</span>:<span class="string">&quot;A&quot;</span>,<span class="string">&quot;p3&quot;</span>:<span class="string">&quot;C&quot;</span>&#125;</span><br><span class="line">func01(**dict01)</span><br></pre></td></tr></table></figure>



<h4 id="（2）形参定义方式"><a href="#（2）形参定义方式" class="headerlink" title="（2）形参定义方式"></a>（2）形参定义方式</h4><h5 id="①缺省形参"><a href="#①缺省形参" class="headerlink" title="①缺省形参"></a>①<strong>缺省形参</strong></h5><ul>
<li><p>语法：</p>
<p>def 函数名(形参名1=默认实参1, 形参名2=默认实参2, …):</p>
<p>​       函数体</p>
</li>
<li><p>说明：</p>
<p>缺省参数必须<font color="red">自右至左依次存在</font>，如果一个参数有缺省参数，则其右侧的所有参数都必须有缺省参数。</p>
</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">func01</span>(<span class="params">p1=<span class="number">0</span>, p2=<span class="string">&quot;&quot;</span>, p3=<span class="number">100</span></span>):</span></span><br><span class="line">    <span class="built_in">print</span>(p1)</span><br><span class="line">    <span class="built_in">print</span>(p2)</span><br><span class="line">    <span class="built_in">print</span>(p3) </span><br><span class="line">    </span><br><span class="line">func01(p2=<span class="number">2</span>)</span><br><span class="line">func01(p2=<span class="number">2</span>,p3=<span class="number">3</span>)</span><br><span class="line"><span class="comment"># 支持同时使用位置实参与关键字实参</span></span><br><span class="line">func01(<span class="number">1</span>,p3=<span class="number">3</span>)</span><br><span class="line"><span class="comment"># 注意1:先位置实参,后关键字实参</span></span><br><span class="line"><span class="comment"># func01(p1=1,2,3) # 错误</span></span><br></pre></td></tr></table></figure>

<h5 id="②位置形参"><a href="#②位置形参" class="headerlink" title="②位置形参"></a>②<strong>位置形参</strong></h5><ul>
<li><p>语法：</p>
<p>​    def 函数名(形参名1, 形参名2, …):</p>
<p>​           函数体</p>
</li>
</ul>
<h5 id="③命名关键字形参"><a href="#③命名关键字形参" class="headerlink" title="③命名关键字形参"></a>③<font color="red"><strong>命名关键字形参</strong></font></h5><ul>
<li><p>语法：</p>
<p>def 函数名(*args, 命名关键字形参1, 命名关键字形参2, …):</p>
<pre><code>   函数体
</code></pre>
<p>def 函数名(*, 命名关键字形参1, 命名关键字形参2, …):</p>
<p>​      函数体</p>
</li>
<li><p>作用：</p>
<p><font color="orange">强制实参使用关键字传参</font> </p>
</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 命名关键字形参:</span></span><br><span class="line"><span class="comment"># 星号元组形参后面的位置形参</span></span><br><span class="line"><span class="comment"># 限制实参必须是关键字实参</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">func01</span>(<span class="params">*args, p1, p2</span>):</span></span><br><span class="line">    <span class="built_in">print</span>(args)</span><br><span class="line">    <span class="built_in">print</span>(p1)</span><br><span class="line">    <span class="built_in">print</span>(p2)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">func01(p1=<span class="number">1</span>, p2=<span class="number">2</span>)</span><br><span class="line">func01(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, p1=<span class="number">1</span>, p2=<span class="number">2</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">func02</span>(<span class="params">p1, *, p2=<span class="number">0</span></span>):</span></span><br><span class="line">    <span class="built_in">print</span>(p1)</span><br><span class="line">    <span class="built_in">print</span>(p2)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 通常星号后面的命名关键字形参属于辅助参数,可选.</span></span><br><span class="line">func02(<span class="number">1</span>)</span><br><span class="line">func02(<span class="number">1</span>, p2=<span class="number">2</span>)</span><br></pre></td></tr></table></figure>

<h5 id="④星号元组形参"><a href="#④星号元组形参" class="headerlink" title="④星号元组形参"></a>④<font color="red">星号元组形参</font></h5><ul>
<li><p>语法：</p>
<p>def 函数名(*元组形参名):</p>
<p>​     函数体</p>
</li>
<li><p>作用：</p>
<p><font color="orange">可以将多个位置实参合并为一个元组</font></p>
</li>
<li><p>说明：</p>
<p>一般命名为’<font color="orange">args</font>，形参列表中最多只能有一个</p>
</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 位置实参数量可以无限</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">func01</span>(<span class="params">*args</span>):</span></span><br><span class="line">    <span class="built_in">print</span>(args)</span><br><span class="line"></span><br><span class="line">func01()  <span class="comment"># 空元组</span></span><br><span class="line">func01(<span class="number">1</span>, <span class="number">2</span>, <span class="number">34</span>)  <span class="comment"># (1, 2, 34)</span></span><br><span class="line"><span class="comment"># 不支持关键字实参</span></span><br><span class="line"><span class="comment"># func01(args=1,a=1)</span></span><br></pre></td></tr></table></figure>

<h5 id="⑤双星号字典形参"><a href="#⑤双星号字典形参" class="headerlink" title="⑤双星号字典形参"></a>⑤<font color="red"><strong>双星号字典形参</strong></font></h5><ul>
<li><p>语法：</p>
<p>def 函数名(**字典形参名):</p>
<p>​       函数体</p>
</li>
<li><p>作用：</p>
<p><font color="orange">可以将多个关键字实参合并为一个字典</font></p>
</li>
<li><p>说明:</p>
<p>一般命名为<font color="orange">‘kwargs</font></p>
<p>形参列表中最多只能有一个</p>
</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 关键字实参数量无限</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">func01</span>(<span class="params">**kwargs</span>):</span></span><br><span class="line">    <span class="built_in">print</span>(kwargs) <span class="comment"># &#123;&#x27;a&#x27;: 1, &#x27;b&#x27;: 2&#125;</span></span><br><span class="line"></span><br><span class="line">func01(a=<span class="number">1</span>,b=<span class="number">2</span>)</span><br><span class="line"><span class="comment"># func01(1,2,3) # 报错</span></span><br></pre></td></tr></table></figure>

<h5 id="⑥参数自左至右的顺序"><a href="#⑥参数自左至右的顺序" class="headerlink" title="⑥参数自左至右的顺序"></a>⑥参数自左至右的顺序</h5><p>位置形参 –&gt; 星号元组形参 –&gt; 命名关键字形参 –&gt; 双星号字典形参</p>
<p>练习：说出程序执行结果.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">func01</span>(<span class="params">list_target</span>):</span></span><br><span class="line">  <span class="built_in">print</span>(list_target)<span class="comment"># ?</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">func02</span>(<span class="params">*args</span>):</span></span><br><span class="line">  <span class="built_in">print</span>(args)<span class="comment"># ?</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">func03</span>(<span class="params">*args,**kwargs</span>):</span></span><br><span class="line">  <span class="built_in">print</span>(args)<span class="comment"># ?</span></span><br><span class="line">  <span class="built_in">print</span>(kwargs)<span class="comment"># ?</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">func04</span>(<span class="params">p1,p2,*,p4,**kwargs</span>):</span></span><br><span class="line">  <span class="built_in">print</span>(p1)<span class="comment"># ?</span></span><br><span class="line">  <span class="built_in">print</span>(p2)<span class="comment"># ?</span></span><br><span class="line">  <span class="built_in">print</span>(p4)<span class="comment"># ?</span></span><br><span class="line">  <span class="built_in">print</span>(kwargs)<span class="comment"># ?</span></span><br><span class="line"></span><br><span class="line">func01([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>])</span><br><span class="line">func02(*[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>])</span><br><span class="line">func03(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,a=<span class="number">4</span>,b=<span class="number">5</span>,c=<span class="number">6</span>) </span><br><span class="line">func04(<span class="number">10</span>,<span class="number">20</span>,p4=<span class="number">30</span>,p5=<span class="number">40</span>)</span><br></pre></td></tr></table></figure>



<h2 id="6-作用域"><a href="#6-作用域" class="headerlink" title="6. 作用域"></a>6. 作用域</h2><h3 id="6-1-定义"><a href="#6-1-定义" class="headerlink" title="6.1 定义"></a>6.1 定义</h3><p>变量起作用的范围。</p>
<h3 id="6-2-分类"><a href="#6-2-分类" class="headerlink" title="6.2 分类"></a>6.2 分类</h3><p>(1)  Local 局部作用域：函数内部。</p>
<p>(2)  Enclosing  外部嵌套作用域 ：函数嵌套。</p>
<p>(3)  Global 全局作用域：模块(.py文件)内部。 </p>
<p>(4)  Builtin 内置模块作用域：builtins.py文件。</p>
<h3 id="6-3-变量名的查找规则"><a href="#6-3-变量名的查找规则" class="headerlink" title="6.3 变量名的查找规则"></a>6.3 变量名的查找规则</h3><p>(1) 由内到外：L -&gt; E -&gt; G -&gt; B</p>
<p>(2) 在访问变量时，先查找本地变量，然后是包裹此函数外部的函数内部的变量，之后是全局变量，最后是内置变量。</p>
<h3 id="6-4-局部变量"><a href="#6-4-局部变量" class="headerlink" title="6.4 局部变量"></a>6.4 局部变量</h3><p>(1) 定义在函数内部的变量(形参也是局部变量)</p>
<p>(2) 只能在函数内部使用</p>
<p>(3) 调用函数时才被创建，函数结束后自动销毁</p>
<h3 id="6-5-全局变量"><a href="#6-5-全局变量" class="headerlink" title="6.5 全局变量"></a>6.5 全局变量</h3><p>(1) 定义在函数外部,模块内部的变量。</p>
<p>(2) 在整个模块(py文件)范围内访问（但函数内不能将其直接赋值）。</p>
<h3 id="6-6-global-语句"><a href="#6-6-global-语句" class="headerlink" title="6.6 global 语句"></a>6.6 global 语句</h3><p>(1) 作用：</p>
<p>​    在函数内部修改或定义全局变量(全局声明)。</p>
<p>(2) 语法：</p>
<p>​    global 变量1, 变量2, …</p>
<p>(3) 说明</p>
<p>​    在函数内直接为全局变量赋值，视为创建新的局部变量。</p>
<p>​    不能先声明局部的变量，再用global声明为全局变量。</p>
<h3 id="6-7-nonlocal-语句"><a href="#6-7-nonlocal-语句" class="headerlink" title="6.7 nonlocal 语句"></a>6.7 nonlocal 语句</h3><p>(1) 作用：</p>
<p>​    在内层函数修改外层嵌套函数内的变量</p>
<p>(2) 语法</p>
<p>​    nonlocal 变量名1,变量名2, …</p>
<p>(3) 说明</p>
<p>​    在被嵌套的内函数中进行使用</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 2. 全局作用域:文件内部</span></span><br><span class="line"><span class="comment">#   全局变量:在全部作用域内创建的变量</span></span><br><span class="line"><span class="comment">#   适用范围:整个文件</span></span><br><span class="line">data02 = <span class="number">20</span></span><br><span class="line">data03 = [<span class="number">30</span>]</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">func01</span>():</span></span><br><span class="line">    <span class="comment"># 1. 局部作用域:函数内部</span></span><br><span class="line">    <span class="comment"># 局部变量:在局部作用域内创建的变量</span></span><br><span class="line">    <span class="comment"># 适用范围:一个函数</span></span><br><span class="line">    data01 = <span class="number">10</span></span><br><span class="line">    <span class="built_in">print</span>(data01)</span><br><span class="line">    <span class="built_in">print</span>(data02)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">func02</span>():</span></span><br><span class="line">    <span class="comment"># print(data01) # 不能访问其他函数局部变量</span></span><br><span class="line">    <span class="built_in">print</span>(data02) <span class="comment"># 读取全局变量</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">func03</span>():</span></span><br><span class="line">    <span class="comment"># 在局部作用域中不能修改全局变量</span></span><br><span class="line">    <span class="comment"># data02 = 200</span></span><br><span class="line">    <span class="comment"># 必须通过global语句声明</span></span><br><span class="line">    <span class="keyword">global</span> data02</span><br><span class="line">    data02 = <span class="number">200</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">func04</span>():</span></span><br><span class="line">    <span class="comment"># 没有修改全局变量</span></span><br><span class="line">    <span class="comment"># 在修改全局变量指向的列表</span></span><br><span class="line">    <span class="comment"># 所以不需要通过global语句声明</span></span><br><span class="line">    data03[<span class="number">0</span>] = <span class="number">300</span></span><br><span class="line"></span><br><span class="line">func01()</span><br><span class="line">func02()</span><br><span class="line">func03()</span><br><span class="line">func04()</span><br><span class="line"><span class="built_in">print</span>(data02) <span class="comment"># 200</span></span><br><span class="line"><span class="built_in">print</span>(data03) <span class="comment"># [300]</span></span><br></pre></td></tr></table></figure>

<p>练习：画出下列代码内存图</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">data01 = <span class="number">10</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">func01</span>(<span class="params">p</span>):</span></span><br><span class="line">    <span class="keyword">global</span> data01</span><br><span class="line">    data01 += <span class="number">1</span></span><br><span class="line">    p += <span class="number">1</span></span><br><span class="line"></span><br><span class="line">data02 = <span class="number">10</span></span><br><span class="line">func01(data02)</span><br><span class="line">func01(data02)</span><br><span class="line"><span class="built_in">print</span>(data01)  <span class="comment"># ?</span></span><br><span class="line"><span class="built_in">print</span>(data02)  <span class="comment"># ?</span></span><br></pre></td></tr></table></figure>



<h2 id="7-面向对象简介"><a href="#7-面向对象简介" class="headerlink" title="7. 面向对象简介"></a>7. 面向对象简介</h2><h3 id="7-1-面向过程"><a href="#7-1-面向过程" class="headerlink" title="7.1 面向过程"></a>7.1 面向过程</h3><p>(1) <strong>定义</strong>：分析出解决问题的步骤，然后逐步实现。</p>
<p>​    例如：婚礼筹办</p>
<p>​    – 请柬（选照片、措词、制作）</p>
<p>​    – 宴席（场地、找厨师、准备桌椅餐具、计划菜品、购买食材）</p>
<p>​    – 仪式（定婚礼仪式流程、请主持人）</p>
<p>(2) <strong>公式</strong>：<font color="red">程序 = 算法 + 数据结构</font></p>
<p>(3) <strong>优点</strong>：所有环节、细节自己掌控。</p>
<p>(4) <strong>缺点</strong>：考虑所有细节，工作量大。 </p>
<p><img src="/2022/06/27/Python%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/image-20210311120846382.png" alt="image-20210311120846382"></p>
<h3 id="7-2-面向对象"><a href="#7-2-面向对象" class="headerlink" title="7.2 面向对象"></a>7.2 面向对象</h3><p>(1) <strong>定义</strong>：找出解决问题的人，然后分配职责。</p>
<p>​    例如：婚礼筹办</p>
<p>​    – 发请柬：找摄影公司（拍照片、制作请柬）</p>
<p>​    – 宴席：找酒店（告诉对方标准、数量、挑选菜品） </p>
<p>​    – 婚礼仪式：找婚庆公司（对方提供司仪、制定流程、提供设备、帮助执行）</p>
<p>(2) <strong>公式</strong>：<font color="red">程序 = 对象 + 交互</font></p>
<p>(3) <strong>优点</strong></p>
<p>​    a. 思想层面：</p>
<p>​        – 可模拟现实情景，更接近于人类思维。</p>
<p>​        – 有利于梳理归纳、分析解决问题。</p>
<p>​    b. 技术层面：</p>
<p>​        – <font color="orange">高复用</font>：对重复的代码进行封装，提高开发效率。</p>
<p>​        – <font color="orange">高扩展</font>：增加新的功能，不修改以前的代码。</p>
<p>​        – <font color="orange">高维护</font>：代码可读性好，逻辑清晰，结构规整。</p>
<p>(4) <strong>缺点</strong>：学习曲线陡峭。</p>
<h2 id="8-类和对象"><a href="#8-类和对象" class="headerlink" title="8. 类和对象"></a>8. 类和对象</h2><h3 id="8-1-语法"><a href="#8-1-语法" class="headerlink" title="8.1 语法"></a>8.1 语法</h3><h4 id="（1）定义类"><a href="#（1）定义类" class="headerlink" title="（1）定义类"></a>（1）定义类</h4><ul>
<li>代码</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> 类名:</span></span><br><span class="line">	<span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">		文档说明</span></span><br><span class="line"><span class="string">	&quot;&quot;&quot;</span></span><br><span class="line">     <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self,参数</span>):</span></span><br><span class="line">		self.实例变量 = 参数</span><br><span class="line"></span><br><span class="line">	 方法成员</span><br></pre></td></tr></table></figure>

<ul>
<li>说明<ul>
<li> 类名所有单词首字母大写.</li>
<li>init 也叫构造函数，创建对象时被调用，也可以省略。</li>
<li>self 变量 绑定的是被创建的对象，名称可以随意。</li>
</ul>
</li>
</ul>
<h4 id="（2）实例化对象"><a href="#（2）实例化对象" class="headerlink" title="（2）实例化对象"></a>（2）实例化对象</h4><ul>
<li>代码</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">变量 = 类名(参数)</span><br></pre></td></tr></table></figure>

<ul>
<li> 说明</li>
<li>变量存储的是实例化后的对象地址</li>
<li>类名后面的参数按照构造函数的形参传递</li>
</ul>
<h3 id="2-2-实例成员"><a href="#2-2-实例成员" class="headerlink" title="2.2 实例成员"></a>2.2 实例成员</h3><h4 id="（1）-实例变量"><a href="#（1）-实例变量" class="headerlink" title="（1） 实例变量"></a>（1） 实例变量</h4><ul>
<li><p>定义</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">对象.变量名</span><br></pre></td></tr></table></figure></li>
<li><p>调用</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">对象.变量名 </span><br></pre></td></tr></table></figure></li>
<li><p> 说明</p>
</li>
<li><p>首次通过对象赋值为创建，再次赋值为修改.</p>
</li>
<li><p>通常在构造函数(__init_)中创建</p>
</li>
<li><p>每个对象存储一份，通过对象地址访问</p>
</li>
</ul>
<ul>
<li>作用：描述某个对象的数据。</li>
</ul>
<ul>
<li><font color="red">_<em>dict</em>_</font>：对象的属性，用于存储自身实例变量的字典。</li>
</ul>
<h4 id="（2）实例方法"><a href="#（2）实例方法" class="headerlink" title="（2）实例方法"></a>（2）实例方法</h4><ul>
<li>定义</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> 方法名称(<span class="params">self, 参数</span>):</span></span><br><span class="line">        方法体</span><br></pre></td></tr></table></figure>

<ul>
<li>调用： </li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">对象.方法名称(参数)</span><br><span class="line">   <span class="comment"># 不建议通过类名访问实例方法</span></span><br></pre></td></tr></table></figure>

<ul>
<li><p>说明</p>
<ul>
<li>至少有一个形参，第一个参数绑定调用这个方法的对象,一般命名为self。</li>
<li>无论创建多少对象，方法只有一份，并且被所有对象共享。</li>
</ul>
</li>
<li><p>作用：表示对象行为。</p>
</li>
</ul>
<h3 id="2-3-类成员"><a href="#2-3-类成员" class="headerlink" title="2.3 类成员"></a>2.3 类成员</h3><h4 id="（1）类变量"><a href="#（1）类变量" class="headerlink" title="（1）类变量"></a>（1）类变量</h4><ul>
<li> 定义：在类中，方法外。</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> 类名:</span></span><br><span class="line">     变量名 = 数据</span><br></pre></td></tr></table></figure>

<ul>
<li>调用：</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">类名.变量名</span><br><span class="line"><span class="comment"># 不建议通过对象访问类变量</span></span><br></pre></td></tr></table></figure>

<ul>
<li><p>特点：</p>
<ul>
<li><p>随类的加载而加载</p>
</li>
<li><p>存在优先于对象</p>
</li>
<li><p>只有一份，被所有对象共享。</p>
</li>
</ul>
</li>
<li><p>作用：描述所有对象的共有数据。</p>
</li>
</ul>
<h4 id="（2）-类方法"><a href="#（2）-类方法" class="headerlink" title="（2） 类方法"></a>（2） <font color="red">类方法</font></h4><ul>
<li>定义：</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@classmethod</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> 方法名称(<span class="params">cls,参数</span>):</span></span><br><span class="line">    方法体</span><br></pre></td></tr></table></figure>

<ul>
<li>调用：</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">类名.方法名(参数) </span><br><span class="line"><span class="comment"># 不建议通过对象访问类方法</span></span><br></pre></td></tr></table></figure>

<ul>
<li><p>说明</p>
<ul>
<li>至少有一个形参，第一个形参用于绑定类，一般命名为’cls’</li>
<li>使用@classmethod修饰的目的是调用类方法时可以隐式传递类。</li>
</ul>
</li>
<li><p>类方法中不能访问实例成员，实例方法中可以访问类成员。</p>
</li>
</ul>
<ul>
<li>作用：操作类变量。</li>
</ul>
<h3 id="2-4-静态方法"><a href="#2-4-静态方法" class="headerlink" title="2.4 静态方法"></a>2.4 静态方法</h3><ul>
<li>定义：</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@staticmethod</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> 方法名称(<span class="params">参数</span>):</span></span><br><span class="line">    方法体</span><br></pre></td></tr></table></figure>

<ul>
<li>调用：</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">类名.方法名称(参数) </span><br><span class="line"><span class="comment"># 不建议通过对象访问静态方法</span></span><br></pre></td></tr></table></figure>

<ul>
<li>说明<ul>
<li>使用@ staticmethod修饰的目的是该方法不需要隐式传参数。</li>
<li>静态方法不能访问实例成员和类成员</li>
</ul>
</li>
<li>作用：定义常用的工具函数。</li>
</ul>
<h2 id="9-面向对象三大特征"><a href="#9-面向对象三大特征" class="headerlink" title="9. 面向对象三大特征"></a>9. 面向对象三大特征</h2><h3 id="9-1-封装"><a href="#9-1-封装" class="headerlink" title="9.1 封装"></a>9.1 封装</h3><h4 id="（1）数据角度"><a href="#（1）数据角度" class="headerlink" title="（1）数据角度"></a>（1）数据角度</h4><ul>
<li> 定义：将一些基本数据类型复合成一个自定义类型。</li>
</ul>
<ul>
<li><p>优势：</p>
<ul>
<li><p>将数据（变量）与对数据的操作（方法）相关联。</p>
</li>
<li><p>代码可读性更高（类是对象的模板）。</p>
</li>
</ul>
</li>
</ul>
<h4 id="（2）行为角度"><a href="#（2）行为角度" class="headerlink" title="（2）行为角度"></a>（2）行为角度</h4><ul>
<li><p>定义：</p>
<p>向类外提供必要的功能，隐藏实现的细节。</p>
</li>
<li><p>优势：</p>
<p>简化编程，使用者不必了解具体的实现细节，只需要调用对外提供的功能。</p>
</li>
</ul>
<h4 id="（3）设计角度"><a href="#（3）设计角度" class="headerlink" title="（3）设计角度"></a>（3）<font color="red">设计角度</font></h4><ul>
<li>分而治之<ul>
<li>将一个大的需求分解为许多类，每个类处理一个独立的功能</li>
<li>拆分好处：便于分工，便于复用，可扩展性强</li>
</ul>
</li>
<li>变则疏之<ul>
<li>变化的地方独立封装，避免影响其他类</li>
</ul>
</li>
<li>高内聚<ul>
<li>类中各个方法都在完成一项任务（单一职责的类）</li>
</ul>
</li>
<li>低耦合<ul>
<li>类与类的关联性与依赖度较低（每个类独立），让一个类改变尽量不影响其他类。</li>
</ul>
</li>
</ul>
<h4 id="（4）私有成员："><a href="#（4）私有成员：" class="headerlink" title="（4）私有成员："></a>（4）<font color="red">私有成员</font>：</h4><ul>
<li>作用：无需向类外提供的成员，可以通过私有化进行屏蔽。</li>
</ul>
<ul>
<li>做法：命名使用<font color="orange">双下划线开头</font>。</li>
</ul>
<ul>
<li>本质：障眼法，实际也可以访问。</li>
</ul>
<p>​              私有成员的名称被修改为：<strong>_类名__成员名</strong>，可以通过___dict__属性查看。</p>
<p>– 演示</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyClass</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self, data</span>):</span></span><br><span class="line">        self.__data = data</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__func01</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;func01执行了&quot;</span>)</span><br><span class="line"></span><br><span class="line">m01 = MyClass(<span class="number">10</span>)</span><br><span class="line"><span class="comment"># print(m01.__data) # 无法访问</span></span><br><span class="line"><span class="built_in">print</span>(m01._MyClass__data)</span><br><span class="line"><span class="built_in">print</span>(m01.__dict__)  <span class="comment"># &#123;&#x27;_MyClass__data&#x27;: 10&#125;</span></span><br><span class="line"><span class="comment"># m01.__func01() # 无法访问</span></span><br><span class="line">m01._MyClass__func01()</span><br></pre></td></tr></table></figure>

<h4 id="（5）属性-property"><a href="#（5）属性-property" class="headerlink" title="（5）属性@property"></a>（5）<font color="red">属性@property</font></h4><ul>
<li>作用：保护实例变量（读取、只读、只写）</li>
</ul>
<ul>
<li>定义：</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@property</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> 属性名(<span class="params">self</span>):</span></span><br><span class="line">  <span class="keyword">return</span> self.__属性名</span><br><span class="line"></span><br><span class="line"><span class="meta">@属性名.setter</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> 属性名(<span class="params">self, value</span>):</span></span><br><span class="line">  self.__属性名= value</span><br></pre></td></tr></table></figure>

<ul>
<li>调用：</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">对象.属性名 = 数据</span><br><span class="line">变量 = 对象.属性名</span><br></pre></td></tr></table></figure>

<ul>
<li>三种形式：</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 1. 读写属性</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyClass</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self,data</span>):</span></span><br><span class="line">        self.data = data</span><br><span class="line"></span><br><span class="line"><span class="meta">    @property</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">data</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="keyword">return</span> self.__data</span><br><span class="line"></span><br><span class="line"><span class="meta">    @data.setter</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">data</span>(<span class="params">self, value</span>):</span></span><br><span class="line">        self.__data = value</span><br><span class="line"></span><br><span class="line">m01 = MyClass(<span class="number">10</span>)</span><br><span class="line"><span class="built_in">print</span>(m01.data)</span><br></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 2. 只读属性</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyClass</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self</span>):</span></span><br><span class="line">        self.__data = <span class="number">10</span></span><br><span class="line"></span><br><span class="line"><span class="meta">    @property</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">data</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="keyword">return</span> self.__data</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">m01 = MyClass()</span><br><span class="line"><span class="comment"># m01.data = 20# AttributeError: can&#x27;t set attribute</span></span><br><span class="line"><span class="built_in">print</span>(m01.data)</span><br></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 3. 只写属性</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyClass</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self, data</span>):</span></span><br><span class="line">        self.data = data</span><br><span class="line"></span><br><span class="line">    <span class="comment"># data = property()</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment"># @data.setter</span></span><br><span class="line">    <span class="comment"># def data(self, value):</span></span><br><span class="line">    <span class="comment">#     self.__data = value</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">data</span>(<span class="params">self, value</span>):</span></span><br><span class="line">        self.__data = value</span><br><span class="line"></span><br><span class="line">    data = <span class="built_in">property</span>(fset=data)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">m01 = MyClass(<span class="number">10</span>)</span><br><span class="line"><span class="built_in">print</span>(m01.data)  <span class="comment"># AttributeError: unreadable attribute</span></span><br><span class="line">m01.data = <span class="number">20</span></span><br></pre></td></tr></table></figure>



<h3 id="9-2-继承"><a href="#9-2-继承" class="headerlink" title="9.2 继承"></a>9.2 继承</h3><h4 id="（1）继承方法"><a href="#（1）继承方法" class="headerlink" title="（1）继承方法"></a>（1）继承方法</h4><ul>
<li>语法:</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> 父类:</span></span><br><span class="line">   <span class="function"><span class="keyword">def</span> 父类方法(<span class="params">self</span>):</span></span><br><span class="line">     方法体</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> 子类(<span class="params">父类</span>)：</span></span><br><span class="line"><span class="class">   <span class="title">def</span> 子类方法(<span class="params">self</span>):</span></span><br><span class="line">     方法体</span><br><span class="line"></span><br><span class="line">儿子 = 子类()</span><br><span class="line">儿子.子类方法()</span><br><span class="line">儿子.父类方法()</span><br></pre></td></tr></table></figure>

<ul>
<li><p>说明：</p>
<p>子类直接拥有父类的方法.</p>
</li>
<li><p>演示：</p>
</li>
</ul>
<h4 id="（2）内置函数"><a href="#（2）内置函数" class="headerlink" title="（2）内置函数"></a>（2）内置函数</h4><ul>
<li><p><font color="orange">isinstance(对象, 类型) </font></p>
<p>​    返回指定对象是否是某个类的对象。</p>
</li>
<li><p><font color="orange">issubclass(类型，类型)</font></p>
<p>​    返回指定类型是否属于某个类型。</p>
</li>
</ul>
<h4 id="（3）继承数据"><a href="#（3）继承数据" class="headerlink" title="（3）继承数据"></a>（3）继承数据</h4><ul>
<li>语法</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> 子类(<span class="params">父类</span>):</span></span><br><span class="line"> <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self,父类参数,子类参数</span>):</span></span><br><span class="line">   <span class="built_in">super</span>().__init__(参数) <span class="comment"># 调用父类构造函数</span></span><br><span class="line">   self.实例变量 = 参数</span><br></pre></td></tr></table></figure>

<ul>
<li> 说明</li>
</ul>
<p>  子类如果没有构造函数，将自动执行父类的，但如果有构造函数将覆盖父类的。此时必须通过super()函数调用父类的构造函数，以确保父类实例变量被正常创建。</p>
<ul>
<li>演示</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self, name=<span class="string">&quot;&quot;</span>, age=<span class="number">0</span></span>):</span></span><br><span class="line">        self.name = name</span><br><span class="line">        self.age = age</span><br><span class="line">        </span><br><span class="line"><span class="comment"># 子类有构造函数,不会使用继承而来的父类构造函数[子覆盖了父方法,好像它不存在]</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Student</span>(<span class="params">Person</span>):</span></span><br><span class="line">    <span class="comment"># 子类构造函数：父类构造函数参数,子类构造函数参数</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self, name, age, score</span>):</span></span><br><span class="line">        <span class="comment"># 调用父类构造函数</span></span><br><span class="line">        <span class="built_in">super</span>().__init__(name, age)</span><br><span class="line"></span><br><span class="line">        self.score = score</span><br><span class="line"></span><br><span class="line">ts = Person(<span class="string">&quot;唐僧&quot;</span>,<span class="number">22</span>)</span><br><span class="line"><span class="built_in">print</span>(ts.name)</span><br><span class="line">kw = Student(<span class="string">&quot;悟空&quot;</span>, <span class="number">23</span>, <span class="number">100</span>)</span><br><span class="line"><span class="built_in">print</span>(wk.name)</span><br><span class="line"><span class="built_in">print</span>(wk.score)</span><br></pre></td></tr></table></figure>

<p>(4) 练习：</p>
<p>创建父类：车(品牌，速度)</p>
<p>创建子类：电动车(电池容量,充电功率)</p>
<p>创建子类对象并画出内存图。</p>
<h4 id="（4）-定义"><a href="#（4）-定义" class="headerlink" title="（4） 定义"></a>（4） 定义</h4><ul>
<li> 概念： 重用现有类的功能，并在此基础上进行扩展。</li>
</ul>
<ul>
<li> 说明：子类直接具有父类的成员（共性），还可以扩展新功能。</li>
</ul>
<ul>
<li><p>相关知识</p>
<ul>
<li><p>父类（基类、超类）、子类（派生类）。</p>
</li>
<li><p>父类相对于子类更抽象，范围更宽泛；子类相对于父类更具体，范围更狭小。</p>
</li>
<li><p>单继承：父类只有一个（例如 Java，C#）。</p>
</li>
<li><p> 多继承：父类有多个（例如C++，Python）。</p>
</li>
<li><p>Object类：任何类都直接或间接继承自 Object 类。</p>
</li>
</ul>
</li>
</ul>
<h4 id="（5）多继承"><a href="#（5）多继承" class="headerlink" title="（5）多继承"></a>（5）多继承</h4><ul>
<li>定义：一个子类继承两个或两个以上的基类，父类中的属性和方法同时被子类继承下来。</li>
</ul>
<ul>
<li><p>同名方法解析顺序（MRO， Method Resolution Order）:</p>
<p>类自身 –&gt; 父类继承列表（由左至右）–&gt; 再上层父类</p>
</li>
</ul>
<p>​          A</p>
<p>​       /       \</p>
<p>   /               \</p>
<p>  B                C</p>
<p>   \                 /</p>
<p>​       \          /</p>
<p>​           D </p>
<p>(3) 练习：写出下列代码在终端中执行效果</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">A</span>:</span></span><br><span class="line">	<span class="function"><span class="keyword">def</span> <span class="title">func01</span>(<span class="params">self</span>):</span></span><br><span class="line">	    <span class="built_in">print</span>(<span class="string">&quot;A&quot;</span>)</span><br><span class="line">	    <span class="built_in">super</span>().func01()</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">B</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">func01</span>(<span class="params">self</span>):</span></span><br><span class="line">	    <span class="built_in">print</span>(<span class="string">&quot;B&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">C</span>(<span class="params">A,B</span>):</span></span><br><span class="line"> 	<span class="function"><span class="keyword">def</span> <span class="title">func01</span>(<span class="params">self</span>):</span></span><br><span class="line">    	<span class="built_in">print</span>(<span class="string">&quot;C&quot;</span>)</span><br><span class="line">	    <span class="built_in">super</span>().func01()</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">D</span>(<span class="params">A, B</span>):</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">func01</span>(<span class="params">self</span>):</span></span><br><span class="line">	    <span class="built_in">print</span>(<span class="string">&quot;D&quot;</span>)</span><br><span class="line">    	<span class="built_in">super</span>().func01()</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">E</span>(<span class="params">C,D</span>):</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">func01</span>(<span class="params">self</span>):</span></span><br><span class="line">	    <span class="built_in">print</span>(<span class="string">&quot;E&quot;</span>)</span><br><span class="line">	    <span class="built_in">super</span>().func01()</span><br><span class="line"></span><br><span class="line">e = E()</span><br><span class="line">e.func01()</span><br></pre></td></tr></table></figure>



<h3 id="9-3-多态"><a href="#9-3-多态" class="headerlink" title="9.3 多态"></a>9.3 多态</h3><h4 id="（1）重写内置函数"><a href="#（1）重写内置函数" class="headerlink" title="（1）重写内置函数"></a>（1）重写内置函数</h4><ul>
<li>定义：Python中，以双下划线开头、双下划线结尾的是系统定义的成员。我们可以在自定义类中进行重写，从而改变其行为。</li>
</ul>
<ul>
<li> __str__ 函数：将对象转换为字符串(对人友好的)</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self, name=<span class="string">&quot;&quot;</span>, age=<span class="number">0</span></span>):</span></span><br><span class="line">        self.name = name</span><br><span class="line">        self.age = age</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__str__</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="keyword">return</span> <span class="string">f&quot;<span class="subst">&#123;self.name&#125;</span>的年龄是<span class="subst">&#123;self.age&#125;</span>&quot;</span></span><br><span class="line"></span><br><span class="line">wk = Person(<span class="string">&quot;悟空&quot;</span>, <span class="number">26</span>)</span><br><span class="line"><span class="comment"># &lt;__main__.Person object at 0x7fbabfbc3e48&gt;</span></span><br><span class="line"><span class="comment"># 悟空的年龄是26</span></span><br><span class="line"><span class="built_in">print</span>(wk) </span><br><span class="line"><span class="comment"># message = wk.__str__()</span></span><br><span class="line"><span class="comment"># print(message)</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<ul>
<li>算数运算符重载</li>
</ul>
<p><img src="/2022/06/27/Python%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/image-20210305133828932.png" alt="image-20210305133828932"></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Vector2</span>:</span></span><br><span class="line">    <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">        二维向量</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self, x, y</span>):</span></span><br><span class="line">        self.x = x</span><br><span class="line">        self.y = y</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__str__</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;x是:%d,y是:%d&quot;</span> % (self.x, self.y)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__add__</span>(<span class="params">self, other</span>):</span></span><br><span class="line">        <span class="keyword">return</span> Vector2(self.x + other.x, self.y + other.y)</span><br><span class="line"></span><br><span class="line">v01 = Vector2(<span class="number">1</span>, <span class="number">2</span>)</span><br><span class="line">v02 = Vector2(<span class="number">2</span>, <span class="number">3</span>)</span><br><span class="line"><span class="built_in">print</span>(v01 + v02)  <span class="comment"># v01.__add__(v02)</span></span><br></pre></td></tr></table></figure>

<ul>
<li>复合运算符重载</li>
</ul>
<p><img src="/2022/06/27/Python%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/image-20210305133752412.png" alt="image-20210305133752412"></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Vector2</span>:</span></span><br><span class="line">    <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">        二维向量</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self, x, y</span>):</span></span><br><span class="line">        self.x = x</span><br><span class="line">        self.y = y</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__str__</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;x是:%d,y是:%d&quot;</span> % (self.x, self.y)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># + 创建新</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__add__</span>(<span class="params">self, other</span>):</span></span><br><span class="line">        <span class="keyword">return</span> Vector2(self.x + other.x, self.y + other.y)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># += 在原有基础上修改(自定义类属于可变对象)</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__iadd__</span>(<span class="params">self, other</span>):</span></span><br><span class="line">        self.x += other.x</span><br><span class="line">        self.y += other.y</span><br><span class="line">        <span class="keyword">return</span> self</span><br><span class="line"></span><br><span class="line">v01 = Vector2(<span class="number">1</span>, <span class="number">2</span>)</span><br><span class="line">v02 = Vector2(<span class="number">2</span>, <span class="number">3</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">id</span>(v01))</span><br><span class="line">v01 += v02</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">id</span>(v01))</span><br><span class="line"><span class="built_in">print</span>(v01)</span><br></pre></td></tr></table></figure>

<ul>
<li>比较运算重载</li>
</ul>
<p><img src="/2022/06/27/Python%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/image-20210305133720536.png" alt="image-20210305133720536"></p>
<p>– 演示</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Vector2</span>:</span></span><br><span class="line">    <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">        二维向量</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self, x, y</span>):</span></span><br><span class="line">        self.x = x</span><br><span class="line">        self.y = y</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 决定相同的依据</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__eq__</span>(<span class="params">self, other</span>):</span></span><br><span class="line">        <span class="keyword">return</span> self.x == other.x <span class="keyword">and</span> self.y == other.y</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 决定大小的依据</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__lt__</span>(<span class="params">self, other</span>):</span></span><br><span class="line">        <span class="keyword">return</span> self.x &lt; other.x</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">v01 = Vector2(<span class="number">1</span>, <span class="number">1</span>)</span><br><span class="line">v02 = Vector2(<span class="number">1</span>, <span class="number">1</span>)</span><br><span class="line"><span class="built_in">print</span>(v01 == v02)  <span class="comment"># True 比较两个对象内容(__eq__决定)</span></span><br><span class="line"><span class="built_in">print</span>(v01 <span class="keyword">is</span> v02)  <span class="comment"># False 比较两个对象地址</span></span><br><span class="line"></span><br><span class="line">list01 = [</span><br><span class="line">    Vector2(<span class="number">2</span>, <span class="number">2</span>),</span><br><span class="line">    Vector2(<span class="number">5</span>, <span class="number">5</span>),</span><br><span class="line">    Vector2(<span class="number">3</span>, <span class="number">3</span>),</span><br><span class="line">    Vector2(<span class="number">1</span>, <span class="number">1</span>),</span><br><span class="line">    Vector2(<span class="number">1</span>, <span class="number">1</span>),</span><br><span class="line">    Vector2(<span class="number">4</span>, <span class="number">4</span>),</span><br><span class="line">]</span><br><span class="line"></span><br><span class="line"><span class="comment"># 必须重写 eq</span></span><br><span class="line"><span class="built_in">print</span>(Vector2(<span class="number">5</span>, <span class="number">5</span>) <span class="keyword">in</span> list01)</span><br><span class="line"><span class="built_in">print</span>(list01.count(Vector2(<span class="number">1</span>, <span class="number">1</span>)))</span><br><span class="line"></span><br><span class="line"><span class="comment"># 必须重写 lt</span></span><br><span class="line">list01.sort()</span><br><span class="line"><span class="built_in">print</span>(list01)</span><br></pre></td></tr></table></figure>

<h4 id="（2）重写自定义函数"><a href="#（2）重写自定义函数" class="headerlink" title="（2）重写自定义函数"></a>（2）重写自定义函数</h4><ul>
<li>子类实现了父类中相同的方法（方法名、参数），在调用该方法时，实际执行的是子类的方法。</li>
</ul>
<ul>
<li> 快捷键：ctrl + O</li>
</ul>
<ul>
<li> 作用</li>
<li>在继承的基础上，体现类型的个性（一个行为有不同的实现）。</li>
<li>增强程序灵活性。</li>
</ul>
<h2 id="10-程序结构"><a href="#10-程序结构" class="headerlink" title="10. 程序结构"></a>10. 程序结构</h2><h3 id="10-1-模块-Module"><a href="#10-1-模块-Module" class="headerlink" title="10.1 模块 Module"></a>10.1 模块 Module</h3><h4 id="（1）定义"><a href="#（1）定义" class="headerlink" title="（1）定义"></a>（1）定义</h4><p>​    包含一系列<strong>数据、函数、类</strong>的文件，通常以**.py**结尾。</p>
<h4 id="（2）作用"><a href="#（2）作用" class="headerlink" title="（2）作用"></a>（2）作用</h4><p>​    让一些相关的数据，函数，类有逻辑的组织在一起，使逻辑结构更加清晰。有利于多人合作开发。</p>
<h4 id="（3）导入"><a href="#（3）导入" class="headerlink" title="（3）导入"></a>（3）导入</h4><ul>
<li><p>import </p>
<ul>
<li><p>语法：</p>
<p>import 模块名</p>
<p>import 模块名 as 别名</p>
</li>
<li><p>作用：将模块整体导入到当前模块中</p>
</li>
<li><p>使用：</p>
<p>模块名.成员</p>
<p>别名.成员</p>
</li>
</ul>
</li>
<li><p>from import </p>
<ul>
<li><p>语法：</p>
<p>from 模块名 import 成员名</p>
<p>from 模块名 import 成员名  as 别名</p>
<p>from 模块名 import *</p>
</li>
<li><p>作用：将模块内的成员导入到当前模块作用域中</p>
</li>
<li><p>使用：直接使用成员名</p>
</li>
</ul>
</li>
</ul>
<h4 id="（4）模块变量"><a href="#（4）模块变量" class="headerlink" title="（4）模块变量"></a>（4）模块变量</h4><ul>
<li>__doc__变量：文档字符串。</li>
</ul>
<ul>
<li><p>__name__变量：模块自身名字，可以判断是否为主模块。</p>
<p>当此模块作为主模块(第一个运行的模块)运行时，__name__绑定’__main__‘，不是主模块，而是被其它模块导入时,存储模块名。</p>
</li>
</ul>
<h4 id="（5）-加载过程"><a href="#（5）-加载过程" class="headerlink" title="（5） 加载过程"></a>（5） 加载过程</h4><ul>
<li>在模块导入时，模块的所有语句会执行。</li>
</ul>
<ul>
<li>如果一个模块已经导入，则再次导入时不会重新执行模块内的语句。</li>
</ul>
<h4 id="（6）分类"><a href="#（6）分类" class="headerlink" title="（6）分类"></a>（6）分类</h4><ul>
<li>内置模块(builtins)，在解析器的内部可以直接使用。</li>
</ul>
<ul>
<li>标准库模块，安装Python时已安装且可直接使用。</li>
</ul>
<ul>
<li> 第三方模块（通常为开源），需要自己安装。</li>
</ul>
<ul>
<li> 用户自己编写的模块（可以作为其他人的第三方模块）</li>
</ul>
<h3 id="10-2-包package"><a href="#10-2-包package" class="headerlink" title="10.2 包package"></a>10.2 <font color="red">包package</font></h3><h4 id="（1）定义-1"><a href="#（1）定义-1" class="headerlink" title="（1）定义"></a>（1）定义</h4><p>​    将模块以<strong>文件夹的形式</strong>进行分组管理。让一些相关的模块组织在一起，使逻辑结构更加清晰。</p>
<h4 id="（2）-init-py的作用"><a href="#（2）-init-py的作用" class="headerlink" title="（2）__init.py的作用"></a>（2）__init.py的作用</h4><ul>
<li><p> _<em>init</em>_.py 在包被导入时会被执行</p>
</li>
<li><p>表示（标识）一个Python Package</p>
</li>
<li><p>对于自己写的模块，想要一键导入，单单这样写：</p>
</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> package <span class="keyword">import</span> *</span><br></pre></td></tr></table></figure>

<p>​    是不够的，要在_<em>init</em>_.py中加入</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">__all__ = [‘module1’,‘module2’,.]</span><br></pre></td></tr></table></figure>

<h4 id="（3）导入-1"><a href="#（3）导入-1" class="headerlink" title="（3）导入"></a>（3）导入</h4><ul>
<li><p>import </p>
<ul>
<li><p>语法：</p>
<p>import 包</p>
<p>import 包 as 别名</p>
</li>
<li><p>作用：将包中<strong>__init__模块内整体</strong>导入到当前模块中</p>
</li>
<li><p>使用：<strong>包.成员</strong></p>
</li>
</ul>
</li>
<li><p>from import </p>
<ul>
<li><p>语法：</p>
<p>from 包 import 成员</p>
<p>from 包  import 成员 as 别名</p>
</li>
<li><p>作用：将包中<strong>__init__模块内的成员</strong>导入到当前模块作用域中</p>
</li>
<li><p>使用：<strong>直接使用成员名</strong></p>
</li>
</ul>
</li>
<li><p>演示：</p>
<p>目录结构：</p>
<p>​        main.py</p>
<p>​        package01/</p>
<p>​            __init__.py</p>
<p>​            module01.py</p>
</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">	package01/</span></span><br><span class="line"><span class="string">	    module01.py</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">func01</span>():</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;func01执行了&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">func02</span>():</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;func02执行了&quot;</span>)</span><br></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">    main.py</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="comment"># 方式1:import 包 as 别名</span></span><br><span class="line"><span class="keyword">import</span> package01 <span class="keyword">as</span> p</span><br><span class="line"></span><br><span class="line">p.module01.func01()</span><br><span class="line">p.func02()</span><br><span class="line"></span><br><span class="line"><span class="comment"># 方式2:from 包 import 成员</span></span><br><span class="line"><span class="keyword">from</span> package01 <span class="keyword">import</span> module01,func02</span><br><span class="line"></span><br><span class="line">module01.func01()</span><br><span class="line">func02()</span><br></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">	package01/</span></span><br><span class="line"><span class="string">	    __init__.py</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="keyword">import</span> package01.module01</span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> package01.module01 <span class="keyword">import</span> func02</span><br></pre></td></tr></table></figure>



<h2 id="11-异常处理"><a href="#11-异常处理" class="headerlink" title="11. 异常处理"></a>11. 异常处理</h2><h3 id="11-1-异常"><a href="#11-1-异常" class="headerlink" title="11.1 异常"></a>11.1 异常</h3><h4 id="（1）定义-2"><a href="#（1）定义-2" class="headerlink" title="（1）定义"></a>（1）定义</h4><p>​        运行时检测到的错误。</p>
<h4 id="（2）现象"><a href="#（2）现象" class="headerlink" title="（2）现象"></a>（2）现象</h4><p>​        当异常发生时，程序不会再向下执行，而转到函数的调用语句。</p>
<h4 id="（3）常见异常类型"><a href="#（3）常见异常类型" class="headerlink" title="（3）常见异常类型"></a>（3）常见异常类型</h4><ul>
<li>名称异常(<font color="orange">NameError</font>)：变量未定义。</li>
</ul>
<ul>
<li><p>类型异常(<font color="orange">TypeError)</font>：不同类型数据进行运算。</p>
</li>
<li><p>索引异常(<font color="orange">IndexError</font>)：超出索引范围。</p>
</li>
<li><p>属性异常(<font color="orange">AttributeError</font>)：对象没有对应名称的属性。</p>
</li>
<li><p>键异常(<font color="orange">KeyError</font>)：没有对应名称的键。</p>
</li>
<li><p>异常基类<font color="orange">Exception</font>。</p>
</li>
<li></li>
</ul>
<h3 id="11-2-处理"><a href="#11-2-处理" class="headerlink" title="11.2 处理"></a>11.2 <font color="red">处理</font></h3><h4 id="（1）语法："><a href="#（1）语法：" class="headerlink" title="（1）语法："></a>（1）语法：</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">try</span>:</span><br><span class="line">	可能触发异常的语句</span><br><span class="line"><span class="keyword">except</span> 错误类型<span class="number">1</span> [<span class="keyword">as</span> 变量<span class="number">1</span>]：</span><br><span class="line">	处理语句<span class="number">1</span></span><br><span class="line"><span class="keyword">except</span> 错误类型<span class="number">2</span> [<span class="keyword">as</span> 变量<span class="number">2</span>]：</span><br><span class="line">	处理语句<span class="number">2</span></span><br><span class="line"><span class="keyword">except</span> Exception [<span class="keyword">as</span> 变量<span class="number">3</span>]：</span><br><span class="line">	不是以上错误类型的处理语句</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">	未发生异常的语句</span><br><span class="line"><span class="keyword">finally</span>:</span><br><span class="line">	无论是否发生异常的语句</span><br></pre></td></tr></table></figure>

<h4 id="（2）作用-1"><a href="#（2）作用-1" class="headerlink" title="（2）作用"></a>（2）作用</h4><p>​    将程序由异常状态转为正常流程。</p>
<h4 id="（3）说明"><a href="#（3）说明" class="headerlink" title="（3）说明"></a>（3）说明</h4><ul>
<li>as 子句是用于绑定错误对象的变量，可以省略</li>
</ul>
<ul>
<li>except子句可以有一个或多个，用来捕获某种类型的错误。</li>
</ul>
<ul>
<li>else子句最多只能有一个。</li>
</ul>
<ul>
<li>finally子句最多只能有一个，如果没有except子句，必须存在。</li>
</ul>
<ul>
<li>如果异常没有被捕获到，会向上层(调用处)继续传递，直到程序终止运行。</li>
</ul>
<h3 id="11-3-raise-语句"><a href="#11-3-raise-语句" class="headerlink" title="11.3 raise 语句"></a>11.3 raise 语句</h3><h4 id="（1）-作用"><a href="#（1）-作用" class="headerlink" title="（1） 作用"></a>（1） 作用</h4><p>​    抛出一个错误，让程序进入异常状态。</p>
<h4 id="（2）目的"><a href="#（2）目的" class="headerlink" title="（2）目的"></a>（2）目的</h4><p>​    在程序调用层数较深时，向主调函数传递错误信息要层层return比较麻烦，所以人为抛出异常，可以直接传递错误信息。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Wife</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self, age</span>):</span></span><br><span class="line">        self.age = age</span><br><span class="line"></span><br><span class="line"><span class="meta">    @property</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">age</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="keyword">return</span> self.__age</span><br><span class="line"></span><br><span class="line"><span class="meta">    @age.setter</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">age</span>(<span class="params">self, value</span>):</span></span><br><span class="line">        <span class="keyword">if</span> <span class="number">20</span> &lt;= value &lt;= <span class="number">60</span>:</span><br><span class="line">            self.__age = value</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="comment"># 创建异常  -- 抛出 错误信息</span></span><br><span class="line">            <span class="keyword">raise</span> Exception(<span class="string">&quot;我不要&quot;</span>,<span class="string">&quot;if 20 &lt;= value &lt;= 60&quot;</span>,<span class="number">1001</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># -- 接收 错误信息</span></span><br><span class="line"><span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        age = <span class="built_in">int</span>(<span class="built_in">input</span>(<span class="string">&quot;请输入你老婆年龄：&quot;</span>))</span><br><span class="line">        w01 = Wife(age)</span><br><span class="line">        <span class="keyword">break</span></span><br><span class="line">    <span class="keyword">except</span> Exception <span class="keyword">as</span> e:</span><br><span class="line">        <span class="built_in">print</span>(e.args) <span class="comment"># (&#x27;我不要&#x27;, &#x27;if 30 &lt;= value &lt;= 60&#x27;, 1001)</span></span><br></pre></td></tr></table></figure>



<h2 id="12-迭代器iterator"><a href="#12-迭代器iterator" class="headerlink" title="12. 迭代器iterator"></a>12. 迭代器iterator</h2><p>​    每一次对过程的重复称为一次“迭代”，而每一次迭代得到的结果会作为下一次迭代的初始值。例如：循环获取容器中的元素。</p>
<h3 id="12-1-可迭代对象iterabale"><a href="#12-1-可迭代对象iterabale" class="headerlink" title="12.1 可迭代对象iterabale"></a>12.1 可迭代对象iterabale</h3><h4 id="（1）定义-3"><a href="#（1）定义-3" class="headerlink" title="（1）定义"></a>（1）定义</h4><p>​        可迭代对象：具有<font color="orange">__iter__</font>函数的对象，可以返回迭代器对象。如字符串，列表等。</p>
<h4 id="（2）语法"><a href="#（2）语法" class="headerlink" title="（2）语法"></a>（2）语法</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 创建：</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> 可迭代对象名称:</span></span><br><span class="line">	<span class="function"><span class="keyword">def</span> <span class="title">__iter__</span>(<span class="params">self</span>):</span></span><br><span class="line">   		<span class="keyword">return</span> 迭代器</span><br><span class="line"><span class="comment"># 使用：</span></span><br><span class="line">	<span class="keyword">for</span> 变量名 <span class="keyword">in</span> 可迭代对象:</span><br><span class="line">		语句</span><br></pre></td></tr></table></figure>

<h4 id="（3）原理"><a href="#（3）原理" class="headerlink" title="（3）原理"></a>（3）原理</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">迭代器 = 可迭代对象.__iter__()</span><br><span class="line"><span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">    <span class="keyword">try</span>: </span><br><span class="line">        <span class="built_in">print</span>(迭代器.__next__())</span><br><span class="line">    <span class="keyword">except</span> StopIteration:</span><br><span class="line">        <span class="keyword">break</span></span><br></pre></td></tr></table></figure>

<h4 id="（4）演示"><a href="#（4）演示" class="headerlink" title="（4）演示"></a>（4）演示</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">message = <span class="string">&quot;我是花果山水帘洞孙悟空&quot;</span></span><br><span class="line"><span class="comment"># for item in message:</span></span><br><span class="line"><span class="comment">#     print(item)</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 1. 获取迭代器对象</span></span><br><span class="line">iterator = message.__iter__()</span><br><span class="line"><span class="comment"># 2. 获取下一个元素</span></span><br><span class="line"><span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        item = iterator.__next__()</span><br><span class="line">        <span class="built_in">print</span>(item)</span><br><span class="line">        <span class="comment"># 3. 如果停止迭代则跳出循环</span></span><br><span class="line">    <span class="keyword">except</span> StopIteration:</span><br><span class="line">        <span class="keyword">break</span></span><br></pre></td></tr></table></figure>



<h3 id="12-2-迭代器对象iterator"><a href="#12-2-迭代器对象iterator" class="headerlink" title="12.2 迭代器对象iterator"></a>12.2 迭代器对象iterator</h3><h4 id="（1）定义-4"><a href="#（1）定义-4" class="headerlink" title="（1）定义"></a>（1）定义</h4><p>​        可以被next()函数调用并返回下一个值的对象。</p>
<h4 id="（2）语法-1"><a href="#（2）语法-1" class="headerlink" title="（2）语法"></a>（2）语法</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> 迭代器类名:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self, 聚合对象</span>):</span></span><br><span class="line">        self.聚合对象= 聚合对象 </span><br><span class="line"> </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__next__</span>(<span class="params">self</span>):</span> </span><br><span class="line">        <span class="keyword">if</span> 没有元素:</span><br><span class="line">            <span class="keyword">raise</span> StopIteration</span><br><span class="line">            <span class="keyword">return</span> 聚合对象元素</span><br></pre></td></tr></table></figure>

<h4 id="（3）说明-1"><a href="#（3）说明-1" class="headerlink" title="（3）说明"></a>（3）说明</h4><p>​    聚合对象通常是容器对象。</p>
<h4 id="（4）作用"><a href="#（4）作用" class="headerlink" title="（4）作用"></a>（4）作用</h4><p>​    使用者只需通过一种方式，便可简洁明了的获取聚合对象中各个元素，而又无需了解其内部结构。</p>
<h4 id="（5）演示："><a href="#（5）演示：" class="headerlink" title="（5）演示："></a>（5）演示：</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">StudentIterator</span>:</span> </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self, data</span>):</span></span><br><span class="line">        self.__data = data</span><br><span class="line">        self.__index = -<span class="number">1</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__next__</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="keyword">if</span> self.__index == <span class="built_in">len</span>(self.__data) - <span class="number">1</span>:</span><br><span class="line">            <span class="keyword">raise</span> StopIteration()</span><br><span class="line">        self.__index += <span class="number">1</span></span><br><span class="line">        <span class="keyword">return</span> self.__data[self.__index]</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">StudentController</span>:</span> </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self</span>):</span></span><br><span class="line">        self.__students = []</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">add_student</span>(<span class="params">self, stu</span>):</span></span><br><span class="line">        self.__students.append(stu)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__iter__</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="keyword">return</span> StudentIterator(self.__students)</span><br><span class="line"> </span><br><span class="line">controller = StudentController()</span><br><span class="line">controller.add_student(<span class="string">&quot;悟空&quot;</span>)</span><br><span class="line">controller.add_student(<span class="string">&quot;八戒&quot;</span>)</span><br><span class="line">controller.add_student(<span class="string">&quot;唐僧&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># for item in controller:</span></span><br><span class="line"><span class="comment">#     print(item) #</span></span><br><span class="line">iterator = controller.__iter__()</span><br><span class="line"><span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        item = iterator.__next__()</span><br><span class="line">        <span class="built_in">print</span>(item)  <span class="comment">#</span></span><br><span class="line">    <span class="keyword">except</span> StopIteration:</span><br><span class="line">        <span class="keyword">break</span></span><br></pre></td></tr></table></figure>



<h2 id="13-生成器generator"><a href="#13-生成器generator" class="headerlink" title="13. 生成器generator"></a>13. 生成器generator</h2><ul>
<li>定义：能够动态(循环一次计算一次返回一次)提供数据的可迭代对象。</li>
</ul>
<ul>
<li>作用：在循环过程中，按照某种算法推算数据，不必创建容器存储完整的结果，从而节省内存空间。数据量越大，优势越明显。以上作用也称之为<strong>延迟操作或惰性操作</strong>，通俗的讲就是在需要的时候才计算结果，而不是一次构建出所有结果。</li>
</ul>
<h3 id="13-1-生成器函数"><a href="#13-1-生成器函数" class="headerlink" title="13.1 生成器函数"></a>13.1 生成器函数</h3><h4 id="（1）定义-5"><a href="#（1）定义-5" class="headerlink" title="（1）定义"></a>（1）定义</h4><p>​    含有<font color="orange">yield</font>语句的函数，返回值为生成器对象。</p>
<h4 id="（2）语法-2"><a href="#（2）语法-2" class="headerlink" title="（2）语法"></a>（2）语法</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 创建：</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> 函数名():</span></span><br><span class="line">	…</span><br><span class="line">	<span class="keyword">yield</span> 数据</span><br><span class="line">	…</span><br><span class="line"></span><br><span class="line"><span class="comment"># 调用：</span></span><br><span class="line"><span class="keyword">for</span> 变量名 <span class="keyword">in</span> 函数名():</span><br><span class="line">    语句</span><br></pre></td></tr></table></figure>

<h4 id="（3）说明-2"><a href="#（3）说明-2" class="headerlink" title="（3）说明"></a>（3）说明</h4><ul>
<li>调用生成器函数将返回一个生成器对象，不执行函数体。</li>
</ul>
<ul>
<li>yield翻译为”产生”或”生成”</li>
</ul>
<h4 id="（4）执行过程："><a href="#（4）执行过程：" class="headerlink" title="（4）执行过程："></a>（4）执行过程：</h4><p>​        a. 调用生成器函数会<strong>自动创建迭代器对象</strong>。</p>
<p>​        b. 调用迭代器对象的__next__()方法时才执行生成器函数。</p>
<p>​        c. 每次执行到yield语句时返回数据，暂时离开。</p>
<p>​        d. 待下次调用__next__()方法时继续从离开处继续执行。</p>
<h4 id="（5）原理"><a href="#（5）原理" class="headerlink" title="（5）原理"></a>（5）原理</h4><p>​        生成迭代器对象的大致规则如下</p>
<p>​            a. 将yield关键字以前的代码放在next方法中。</p>
<p>​            b. 将yield关键字后面的数据作为next方法的返回值。</p>
<p>(6) 演示：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">my_range</span>(<span class="params">stop</span>):</span></span><br><span class="line">    number = <span class="number">0</span></span><br><span class="line">    <span class="keyword">while</span> number &lt; stop:</span><br><span class="line">        <span class="keyword">yield</span> number</span><br><span class="line">        number += <span class="number">1</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> number <span class="keyword">in</span> my_range(<span class="number">5</span>):</span><br><span class="line">    <span class="built_in">print</span>(number)  <span class="comment"># 0 1 2 3 4</span></span><br></pre></td></tr></table></figure>



<h3 id="13-2-内置生成器"><a href="#13-2-内置生成器" class="headerlink" title="13.2 内置生成器"></a>13.2 <font color="red">内置生成器</font></h3><h4 id="（1）枚举函数enumerate"><a href="#（1）枚举函数enumerate" class="headerlink" title="（1）枚举函数enumerate"></a>（1）枚举函数enumerate</h4><ul>
<li>语法：</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> 变量 <span class="keyword">in</span> <span class="built_in">enumerate</span>(可迭代对象):</span><br><span class="line">    语句</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> 索引, 元素<span class="keyword">in</span> <span class="built_in">enumerate</span>(可迭代对象):</span><br><span class="line">    语句</span><br></pre></td></tr></table></figure>

<ul>
<li> 作用：遍历可迭代对象时，可以<strong>将索引与元素组合为一个元组</strong>。</li>
</ul>
<ul>
<li>演示：</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">list01 = [<span class="number">43</span>, <span class="number">43</span>, <span class="number">54</span>, <span class="number">56</span>, <span class="number">76</span>]</span><br><span class="line"><span class="comment"># 从头到尾读          -- 读取数据</span></span><br><span class="line"><span class="keyword">for</span> item <span class="keyword">in</span> list01:</span><br><span class="line">    <span class="built_in">print</span>(item)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 非从头到尾读        -- 修改数据</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(list01)):</span><br><span class="line">    <span class="keyword">if</span> list01[i] % <span class="number">2</span> == <span class="number">0</span>:</span><br><span class="line">        list01[i] += <span class="number">1</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> i, item <span class="keyword">in</span> <span class="built_in">enumerate</span>(list01):  <span class="comment"># -- 读写数据</span></span><br><span class="line">    <span class="keyword">if</span> item % <span class="number">2</span> == <span class="number">0</span>:</span><br><span class="line">        list01[i] += <span class="number">1</span></span><br></pre></td></tr></table></figure>

<h4 id="（2）zip"><a href="#（2）zip" class="headerlink" title="（2）zip"></a>（2）zip</h4><ul>
<li>语法：</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> item <span class="keyword">in</span> <span class="built_in">zip</span>(可迭代对象<span class="number">1</span>, 可迭代对象<span class="number">2</span>):</span><br><span class="line">    语句</span><br></pre></td></tr></table></figure>

<ul>
<li>作用：将<strong>多个可迭代对象中对应的元素组合成一个个元组</strong>，生成的元组个数由最小的可迭代对象决定。</li>
</ul>
<ul>
<li>演示：</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">list_name = [<span class="string">&quot;悟空&quot;</span>, <span class="string">&quot;八戒&quot;</span>, <span class="string">&quot;沙僧&quot;</span>]</span><br><span class="line">list_age = [<span class="number">22</span>, <span class="number">26</span>, <span class="number">25</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment"># for 变量 in zip(可迭代对象1,可迭代对象2)</span></span><br><span class="line"><span class="keyword">for</span> item <span class="keyword">in</span> <span class="built_in">zip</span>(list_name, list_age):</span><br><span class="line">    <span class="built_in">print</span>(item)</span><br><span class="line"><span class="comment"># (&#x27;悟空&#x27;, 22)</span></span><br><span class="line"><span class="comment"># (&#x27;八戒&#x27;, 26)</span></span><br><span class="line"><span class="comment"># (&#x27;沙僧&#x27;, 25)</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 应用:矩阵转置</span></span><br><span class="line"><span class="built_in">map</span> = [</span><br><span class="line">    [<span class="number">2</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">2</span>],</span><br><span class="line">    [<span class="number">4</span>, <span class="number">2</span>, <span class="number">0</span>, <span class="number">2</span>],</span><br><span class="line">    [<span class="number">2</span>, <span class="number">4</span>, <span class="number">2</span>, <span class="number">4</span>],</span><br><span class="line">    [<span class="number">0</span>, <span class="number">4</span>, <span class="number">0</span>, <span class="number">4</span>]</span><br><span class="line">]</span><br><span class="line"><span class="comment"># new_map = []</span></span><br><span class="line"><span class="comment"># for item in zip(map[0],map[1],map[2],map[3]):</span></span><br><span class="line"><span class="comment">#     new_map.append(list(item))</span></span><br><span class="line"><span class="comment"># print(new_map)</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># new_map = []</span></span><br><span class="line"><span class="comment"># for item in zip(*map):</span></span><br><span class="line"><span class="comment">#     new_map.append(list(item))</span></span><br><span class="line"></span><br><span class="line">new_map = [<span class="built_in">list</span>(item) <span class="keyword">for</span> item <span class="keyword">in</span> <span class="built_in">zip</span>(*<span class="built_in">map</span>)]</span><br><span class="line"><span class="built_in">print</span>(new_map)</span><br><span class="line"><span class="comment"># [[2, 4, 2, 0], [0, 2, 4, 4], [0, 0, 2, 0], [2, 2, 4, 4]]</span></span><br></pre></td></tr></table></figure>



<h3 id="13-3-生成器表达式"><a href="#13-3-生成器表达式" class="headerlink" title="13.3 生成器表达式"></a>13.3 生成器表达式</h3><ul>
<li>定义：用推导式形式创建生成器对象。</li>
</ul>
<ul>
<li>语法：</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">变量 = (表达式 <span class="keyword">for</span> 变量 <span class="keyword">in</span> 可迭代对象 <span class="keyword">if</span> 条件)</span><br></pre></td></tr></table></figure>



<h2 id="14-函数式编程"><a href="#14-函数式编程" class="headerlink" title="14. 函数式编程"></a>14. 函数式编程</h2><ul>
<li><p>定义：用一系列函数解决问题。</p>
<ul>
<li>函数可以<strong>赋值给变量</strong>，赋值后变量绑定函数。</li>
<li>允许将函数<strong>作为参数</strong>传入另一个函数。</li>
<li>允许函数<strong>返回一个函数</strong>。</li>
</ul>
</li>
<li><p>高阶函数：将函数作为参数或返回值的函数。</p>
</li>
</ul>
<h3 id="14-1-函数作为参数"><a href="#14-1-函数作为参数" class="headerlink" title="14.1 函数作为参数"></a>14.1 函数作为参数</h3><p>​    将核心逻辑传入方法体，使该方法的适用性更广，体现了面向对象的开闭原则。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">list01 = [<span class="number">342</span>, <span class="number">4</span>, <span class="number">54</span>, <span class="number">56</span>, <span class="number">6776</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment"># 定义函数,在列表中查找所有大于100的数</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">get_number_gt_100</span>():</span></span><br><span class="line">    <span class="keyword">for</span> number <span class="keyword">in</span> list01:</span><br><span class="line">        <span class="keyword">if</span> number &gt; <span class="number">100</span>:</span><br><span class="line">            <span class="keyword">yield</span> number</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 定义函数,在列表中查找所有偶数</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">get_number_by_even</span>():</span></span><br><span class="line">    <span class="keyword">for</span> number <span class="keyword">in</span> list01:</span><br><span class="line">        <span class="keyword">if</span> number % <span class="number">2</span> == <span class="number">0</span>:</span><br><span class="line">            <span class="keyword">yield</span> number</span><br></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 参数：得到的是列表中的元素</span></span><br><span class="line"><span class="comment"># 返回值：对列表元素判断后的结果(True False)</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">condition01</span>(<span class="params">number</span>):</span></span><br><span class="line">    <span class="keyword">return</span> number &gt; <span class="number">100</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">condition02</span>(<span class="params">number</span>):</span></span><br><span class="line">    <span class="keyword">return</span> number % <span class="number">2</span> == <span class="number">0</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">condition03</span>(<span class="params">number</span>):</span></span><br><span class="line">    <span class="keyword">return</span> number &lt; <span class="number">10</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 通用函数</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">find_all</span>(<span class="params">condition</span>):</span> <span class="comment"># 抽象</span></span><br><span class="line">    <span class="keyword">for</span> item <span class="keyword">in</span> list01:</span><br><span class="line">        <span class="comment"># if number &gt; 100:</span></span><br><span class="line">        <span class="comment"># if condition01(item):</span></span><br><span class="line">        <span class="comment"># if condition02(item):</span></span><br><span class="line">        <span class="keyword">if</span> condition(item):<span class="comment"># 统一</span></span><br><span class="line">            <span class="keyword">yield</span> item</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> item <span class="keyword">in</span> find_all(condition03):</span><br><span class="line">    <span class="built_in">print</span>(item)</span><br></pre></td></tr></table></figure>



<h4 id="（1）lambda-表达式"><a href="#（1）lambda-表达式" class="headerlink" title="（1）lambda 表达式"></a>（1）lambda 表达式</h4><p>​    <a href="/2022/02/19/Python-lambda%E8%A1%A8%E8%BE%BE%E5%BC%8F/" title="Python-lambda表达式">Python-lambda表达式</a></p>
<ul>
<li>定义：是一种匿名方法</li>
</ul>
<ul>
<li><p>作用：</p>
<ul>
<li>作为参数传递时语法简洁，优雅，代码可读性强。</li>
<li>随时创建和销毁，减少程序耦合度。</li>
</ul>
</li>
<li><p>语法</p>
</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 定义：</span></span><br><span class="line">变量 = <span class="keyword">lambda</span> 形参: 方法体</span><br><span class="line"></span><br><span class="line"><span class="comment"># 调用：</span></span><br><span class="line">变量(实参)</span><br></pre></td></tr></table></figure>

<ul>
<li>说明：<ul>
<li>形参没有可以不填</li>
<li>方法体只能有一条语句，且不支持赋值语句。</li>
</ul>
</li>
</ul>
<p>(5) 演示：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> common.iterable_tools <span class="keyword">import</span> IterableHelper</span><br><span class="line"></span><br><span class="line"><span class="comment"># 定义函数,在列表中查找所有大于100的数</span></span><br><span class="line"><span class="comment"># def condition01(number):</span></span><br><span class="line"><span class="comment">#     return number &gt; 100</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 定义函数,在列表中查找所有偶数</span></span><br><span class="line"><span class="comment"># def condition02(number):</span></span><br><span class="line"><span class="comment">#     return number % 2 == 0</span></span><br><span class="line"></span><br><span class="line">list01 = [<span class="number">342</span>, <span class="number">4</span>, <span class="number">54</span>, <span class="number">56</span>, <span class="number">6776</span>]</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> item <span class="keyword">in</span> IterableHelper.find_all(list01,<span class="keyword">lambda</span> number: number &gt; <span class="number">100</span>):</span><br><span class="line">    <span class="built_in">print</span>(item)</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> item <span class="keyword">in</span> IterableHelper.find_all(list01,<span class="keyword">lambda</span> number: number % <span class="number">2</span> == <span class="number">0</span>):</span><br><span class="line">    <span class="built_in">print</span>(item)</span><br></pre></td></tr></table></figure>



<h4 id="（2）内置高阶函数"><a href="#（2）内置高阶函数" class="headerlink" title="（2）内置高阶函数"></a>（2）内置高阶函数</h4><ul>
<li>map（函数，可迭代对象）：使用可迭代对象中的每个元素调用函数，将返回值作为新可迭代对象元素；返回值为新可迭代对象。</li>
</ul>
<ul>
<li>filter(函数，可迭代对象)：根据条件筛选可迭代对象中的元素，返回值为新可迭代对象。</li>
</ul>
<ul>
<li>sorted(可迭代对象，key = 函数, reverse = bool值)：排序，返回值为排序结果。</li>
</ul>
<ul>
<li>max(可迭代对象，key = 函数)：根据函数获取可迭代对象的最大值。</li>
</ul>
<ul>
<li>min(可迭代对象，key = 函数)：根据函数获取可迭代对象的最小值。</li>
</ul>
<ul>
<li>演示：</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Employee</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self, eid, did, name, money</span>):</span></span><br><span class="line">        self.eid = eid  <span class="comment"># 员工编号</span></span><br><span class="line">        self.did = did  <span class="comment"># 部门编号</span></span><br><span class="line">        self.name = name</span><br><span class="line">        self.money = money</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 员工列表</span></span><br><span class="line">list_employees = [</span><br><span class="line">    Employee(<span class="number">1001</span>, <span class="number">9002</span>, <span class="string">&quot;师父&quot;</span>, <span class="number">60000</span>),</span><br><span class="line">    Employee(<span class="number">1002</span>, <span class="number">9001</span>, <span class="string">&quot;孙悟空&quot;</span>, <span class="number">50000</span>),</span><br><span class="line">    Employee(<span class="number">1003</span>, <span class="number">9002</span>, <span class="string">&quot;猪八戒&quot;</span>, <span class="number">20000</span>),</span><br><span class="line">    Employee(<span class="number">1004</span>, <span class="number">9001</span>, <span class="string">&quot;沙僧&quot;</span>, <span class="number">30000</span>),</span><br><span class="line">    Employee(<span class="number">1005</span>, <span class="number">9001</span>, <span class="string">&quot;小白龙&quot;</span>, <span class="number">15000</span>),</span><br><span class="line">]</span><br><span class="line"></span><br><span class="line"><span class="comment"># 1. map 映射</span></span><br><span class="line"><span class="comment"># 需求:获取所有员工姓名</span></span><br><span class="line"><span class="keyword">for</span> item <span class="keyword">in</span> <span class="built_in">map</span>(<span class="keyword">lambda</span> item: item.name, list_employees):</span><br><span class="line">    <span class="built_in">print</span>(item)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 2. filter 过滤器</span></span><br><span class="line"><span class="comment"># 需求：查找所有部门是9002的员工</span></span><br><span class="line"><span class="keyword">for</span> item <span class="keyword">in</span> <span class="built_in">filter</span>(<span class="keyword">lambda</span> item: item.did == <span class="number">9002</span>, list_employees):</span><br><span class="line">    <span class="built_in">print</span>(item.__dict__)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 3. max min 最值</span></span><br><span class="line">emp = <span class="built_in">max</span>(list_employees, key=<span class="keyword">lambda</span> emp: emp.money)</span><br><span class="line"><span class="built_in">print</span>(emp.__dict__)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 4. sorted</span></span><br><span class="line"><span class="comment"># 升序排列</span></span><br><span class="line">new_list = <span class="built_in">sorted</span>(list_employees, key=<span class="keyword">lambda</span> emp: emp.money)</span><br><span class="line"><span class="built_in">print</span>(new_list)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 降序排列</span></span><br><span class="line">new_list = <span class="built_in">sorted</span>(list_employees, key=<span class="keyword">lambda</span> emp: emp.money, reverse=<span class="literal">True</span>)</span><br><span class="line"><span class="built_in">print</span>(new_list)</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h3 id="14-2-函数作为返回值"><a href="#14-2-函数作为返回值" class="headerlink" title="14.2 函数作为返回值"></a>14.2 函数作为返回值</h3><p>逻辑连续，当内部函数被调用时，不脱离当前的逻辑。</p>
<h4 id="（1）闭包"><a href="#（1）闭包" class="headerlink" title="（1）闭包"></a>（1）<font color="red">闭包</font></h4><ul>
<li><p>三要素：</p>
<ul>
<li>必须有一个内嵌函数。</li>
<li>内嵌函数必须引用外部函数中变量。</li>
<li>外部函数返回值必须是内嵌函数。</li>
</ul>
</li>
<li><p>语法</p>
</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 定义：</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> 外部函数名(<span class="params">参数</span>):</span></span><br><span class="line">    外部变量</span><br><span class="line">    <span class="function"><span class="keyword">def</span> 内部函数名(<span class="params">参数</span>):</span></span><br><span class="line">        使用外部变量</span><br><span class="line">    <span class="keyword">return</span> 内部函数名</span><br><span class="line"></span><br><span class="line"><span class="comment"># 调用：</span></span><br><span class="line">变量 = 外部函数名(参数)</span><br><span class="line">变量(参数)</span><br></pre></td></tr></table></figure>

<ul>
<li><p>定义：是由函数及其相关的引用环境组合而成的实体。 </p>
</li>
<li><p>优点：内部函数可以使用外部变量。</p>
</li>
</ul>
<ul>
<li>缺点：外部变量一直存在于内存中，不会在调用结束后释放，占用内存。</li>
</ul>
<ul>
<li><p>作用：实现python装饰器。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 装饰器</span></span><br><span class="line"><span class="comment"># 定义：</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> 函数装饰器名称(<span class="params">func</span>):</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> 内部函数名(<span class="params">*args, **kwarg</span>):</span></span><br><span class="line">        需要添加的新功能</span><br><span class="line">        <span class="keyword">return</span> func</span><br><span class="line">    <span class="keyword">return</span> 内部函数名</span><br><span class="line"></span><br><span class="line"><span class="meta">@ 函数装饰器名称</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> 被装饰函数名():</span></span><br><span class="line">	原来的功能</span><br></pre></td></tr></table></figure></li>
</ul>
<p>(7) 演示：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">give_gife_money</span>(<span class="params">money</span>):</span>  </span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;获得&quot;</span>, money, <span class="string">&quot;元压岁钱&quot;</span>)</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">child_buy</span>(<span class="params">commodity, price</span>):</span> </span><br><span class="line">        <span class="keyword">nonlocal</span> money		<span class="comment"># 在内层函数修改外层嵌套函数内的变量</span></span><br><span class="line">        money -= price</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;购买了&quot;</span>, commodity, <span class="string">&quot;花了&quot;</span>, price, <span class="string">&quot;元,还剩下&quot;</span>, money)</span><br><span class="line">    <span class="keyword">return</span> child_buy</span><br><span class="line"></span><br><span class="line">action = give_gife_money(<span class="number">500</span>)	<span class="comment"># 返回值是一个函数child_buy</span></span><br><span class="line">action(<span class="string">&quot;变形金刚&quot;</span>, <span class="number">200</span>)</span><br><span class="line">action(<span class="string">&quot;芭比娃娃&quot;</span>, <span class="number">300</span>)</span><br></pre></td></tr></table></figure>



<h4 id="（2）函数装饰器decorator"><a href="#（2）函数装饰器decorator" class="headerlink" title="（2）函数装饰器decorator"></a>（2）<font color="red">函数装饰器decorator</font></h4><ul>
<li> 定义：在不改变原函数的调用以及内部代码情况下，为其添加新功能的函数。</li>
</ul>
<ul>
<li>语法</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> 函数装饰器名称(<span class="params">func</span>):</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">wrapper</span>(<span class="params">*args, **kwargs</span>):</span>	<span class="comment">#星号元组形参，双星号字典形参</span></span><br><span class="line">        需要添加的新功能</span><br><span class="line">        <span class="keyword">return</span> func(*args, **kwargs)</span><br><span class="line">    <span class="keyword">return</span> wrapper</span><br><span class="line"></span><br><span class="line"><span class="meta">@ 函数装饰器名称</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> 原函数名称(<span class="params">参数</span>):</span></span><br><span class="line">    函数体</span><br><span class="line"></span><br><span class="line">原函数(参数)</span><br></pre></td></tr></table></figure>

<ul>
<li>本质：使用“<font color="orange">@函数装饰器名称</font>”修饰原函数，<font color="orange">等同于创建与原函数名称相同的变量，关联内嵌函数</font>；故调用原函数时执行内嵌函数。</li>
</ul>
<p>​        <font color="red">原函数名称 = 函数装饰器名称（原函数名称）</font></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">func01</span>():</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;旧功能&quot;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">new_func</span>(<span class="params">func</span>):</span> </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">wrapper</span>():</span>  </span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;新功能&quot;</span>)</span><br><span class="line">        func() <span class="comment"># 执行旧功能</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> wrapper</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 新功能覆盖了旧功能（没有将func01作为参数传入new_func）</span></span><br><span class="line"><span class="comment"># func01 = new_func</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 调用一次外部函数(装饰器本质)</span></span><br><span class="line">func01 = new_func(func01)</span><br><span class="line"><span class="comment"># 调用多次内部函数</span></span><br><span class="line">func01()</span><br><span class="line">func01()</span><br></pre></td></tr></table></figure>

<ul>
<li><p>装饰器链：</p>
<p>一个函数可以被多个装饰器修饰，执行顺序为从近到远。</p>
</li>
</ul>
<h2 id="15-文件操作"><a href="#15-文件操作" class="headerlink" title="15. 文件操作"></a>15. 文件操作</h2><h3 id="15-1-文件与字节串"><a href="#15-1-文件与字节串" class="headerlink" title="15.1 文件与字节串"></a>15.1 文件与字节串</h3><h4 id="（1）文件"><a href="#（1）文件" class="headerlink" title="（1）文件"></a>（1）文件</h4><p>​    文件是保存在持久化存储设备(硬盘、U盘、光盘..)上的一段数据。从格式编码角度分为文本文件（打开后会自动解码为字符）、二进制文件(视频、音频等)。在Python里把文件视作一种类型的对象，类似之前学习过的其它类型。</p>
<h4 id="（2）字节串（bytes）"><a href="#（2）字节串（bytes）" class="headerlink" title="（2）字节串（bytes）"></a>（2）字节串（bytes）</h4><p>​    在python3中引入了字节串的概念，与str不同，字节串以字节序列值表达数据，更方便用来处理二进程数据。因此在python3中字节串是常见的二进制数据展现方式。</p>
<ul>
<li>普通的ascii编码字符串可以在前面加b转换为字节串，例如：b’hello’</li>
<li>字符串转换为字节串方法 ：str.encode()</li>
<li>字节串转换为字符串方法 : bytes.decode() </li>
</ul>
<h3 id="15-2-文件读写"><a href="#15-2-文件读写" class="headerlink" title="15.2 文件读写"></a>15.2 文件读写</h3><h4 id="（1）打开文件"><a href="#（1）打开文件" class="headerlink" title="（1）打开文件"></a>（1）打开文件</h4><ul>
<li><p><font color="red">file_object = open(file_name, access_mode=’r’, buffering=-1)</font></p>
</li>
<li><p>功能：打开一个文件，返回一个文件对象。</p>
</li>
<li><p>参数：</p>
<ul>
<li><p>file_name  文件名；</p>
</li>
<li><p>access_mode  打开文件的方式,如果不写默认为‘r’ </p>
<table>
<thead>
<tr>
<th align="center">文件模式</th>
<th align="center">操作</th>
</tr>
</thead>
<tbody><tr>
<td align="center">r</td>
<td align="center">以读方式打开，文件必须存在</td>
</tr>
<tr>
<td align="center">w</td>
<td align="center">以写方式打开，文件不存在则会创建，存在则清空原有内容</td>
</tr>
<tr>
<td align="center">a</td>
<td align="center">以追加模式打开</td>
</tr>
<tr>
<td align="center">r+</td>
<td align="center">以读写模式打开，文件必须存在</td>
</tr>
<tr>
<td align="center">w+</td>
<td align="center">以读写模式打开，不存在则会创建，存在则清空原有内容</td>
</tr>
<tr>
<td align="center">a+</td>
<td align="center">以读写模式打开，追加模式</td>
</tr>
<tr>
<td align="center">rb</td>
<td align="center">以二进制读模式打开，同r</td>
</tr>
<tr>
<td align="center">wb</td>
<td align="center">以二进制写模式打开，同w</td>
</tr>
<tr>
<td align="center">ab</td>
<td align="center">以二进制追加模式打开，同a</td>
</tr>
<tr>
<td align="center">rb+</td>
<td align="center">以二进制读写模式打开，同r+</td>
</tr>
<tr>
<td align="center">wb+</td>
<td align="center">以二进制读写模式打开，同w+</td>
</tr>
<tr>
<td align="center">ab+</td>
<td align="center">以二进制读写模式打开，同a+</td>
</tr>
</tbody></table>
</li>
</ul>
<ul>
<li>buffering  1表示有行缓冲，默认则表示使用系统默认提供的缓冲机制。</li>
<li>返回值：成功返回文件操作对象。</li>
</ul>
</li>
<li><p>注意</p>
<ul>
<li>加b的打开方式读写要求必须都是字节串</li>
<li>无论什么文件都可以使用二进制方式打开，但是二进制文件使用文本方式打开读写会出错</li>
</ul>
</li>
</ul>
<h4 id="（2）读取文件"><a href="#（2）读取文件" class="headerlink" title="（2）读取文件"></a>（2）读取文件</h4><ul>
<li><p>read([size])</p>
<ul>
<li>功能： 来直接读取文件中字符。</li>
<li>参数： 如果没有给定size参数（默认值为-1）或者size值为负，文件将被读取直至末尾，给定size最多读取给定数目个字符（字节）。</li>
<li>返回值： 返回读取到的内容</li>
<li>注意：文件过大时候不建议直接读取到文件结尾，读到文件结尾会返回空字符串。</li>
</ul>
</li>
<li><p>readline([size])</p>
<ul>
<li>功能： 指定的用来读取文件中一行</li>
<li>参数： 如果没有给定size参数（默认值为-1）或者size值为负，表示读取一行，给定size表示最多读取指定的字符（字节）。</li>
<li>返回值： 返回读取到的内容</li>
</ul>
</li>
<li><p>readlines([sizeint])</p>
<ul>
<li><p>功能： 读取文件中的每一行作为列表中的一项</p>
</li>
<li><p>参数： 如果没有给定size参数（默认值为-1）或者size值为负，文件将被读取直至末尾，给定size表示读取到size字符所在行为止。</p>
</li>
<li><p>返回值： 返回读取到的内容列表</p>
</li>
<li><p>文件对象本身也是一个可迭代对象，在for循环中可以迭代文件的每一行。</p>
</li>
</ul>
</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> line <span class="keyword">in</span> f:</span><br><span class="line">     <span class="built_in">print</span>(line)</span><br></pre></td></tr></table></figure>

<h4 id="（3）写入文件"><a href="#（3）写入文件" class="headerlink" title="（3）写入文件"></a>（3）写入文件</h4><ul>
<li>write(string)<ul>
<li>功能: 把文本数据或二进制数据块的字符串写入到文件中去</li>
<li>参数：要写入的内容</li>
<li>如果需要换行要自己在写入内容中添加\n</li>
</ul>
</li>
<li>writelines(str_list)<ul>
<li>功能：接受一个字符串列表作为参数，将它们写入文件。</li>
<li>参数: 要写入的内容列表</li>
</ul>
</li>
</ul>
<h4 id="（4）关闭文件"><a href="#（4）关闭文件" class="headerlink" title="（4）关闭文件"></a>（4）关闭文件</h4><p>​    打开一个文件后我们就可以通过文件对象对文件进行操作了，当操作结束后使用close（）关闭这个对象可以防止一些误操作，也可以节省资源。</p>
<p>​    file_object.close()</p>
<h4 id="（5）with操作"><a href="#（5）with操作" class="headerlink" title="（5）with操作"></a>（5）with操作</h4><ul>
<li><p>Python中with语句使用于<font color="orange">对资源进行访问</font>的场合，保证不管处理过程中是否发生错误或者异常都会</p>
<p>执行规定的”清理“操作，释放被访问的资源，比如有文件读写后自动关闭、线程中锁自动获取和释放。</p>
</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">with</span> context_expression [<span class="keyword">as</span> target(s)]:</span><br><span class="line">	<span class="keyword">with</span>-body</span><br></pre></td></tr></table></figure>
<ul>
<li>通过with方法可以不用close(),因为with生成的对象在语句块结束后会自动处理，所以也就不需要close了，但是这个文件对象只能在with语句块内使用。</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&#x27;file&#x27;</span>,<span class="string">&#x27;r+&#x27;</span>) <span class="keyword">as</span> f:</span><br><span class="line">    f.read()</span><br></pre></td></tr></table></figure>



<h3 id="15-2-其他操作"><a href="#15-2-其他操作" class="headerlink" title="15.2 其他操作"></a>15.2 其他操作</h3><h4 id="（1）刷新缓冲区"><a href="#（1）刷新缓冲区" class="headerlink" title="（1）刷新缓冲区"></a>（1）刷新缓冲区</h4><ul>
<li>缓冲:系统自动的在内存中为每一个正在使用的文件开辟一个缓冲区，从内存向磁盘输出数据必须先送到内存缓冲区，再由缓冲区送到磁盘中去。从磁盘中读数据，则一次从磁盘文件将一批数据读入到内存缓冲区中，然后再从缓冲区将数据送到程序的数据区。</li>
</ul>
<ul>
<li><p>刷新缓冲区条件：</p>
<ul>
<li><p>缓冲区被写满</p>
</li>
<li><p>程序执行结束或者文件对象被关闭</p>
</li>
<li><p>行缓冲遇到换行</p>
</li>
<li><p>程序中调用flush()函数</p>
<ul>
<li>flush()<br>该函数调用后会进行一次磁盘交互，将缓冲区中的内容写入到磁盘。</li>
</ul>
</li>
</ul>
</li>
</ul>
<h4 id="（2）文件偏移量"><a href="#（2）文件偏移量" class="headerlink" title="（2）文件偏移量"></a>（2）文件偏移量</h4><ul>
<li><p>定义：打开一个文件进行操作时系统会自动生成一个记录，记录中描述了我们对文件的一系列操作。其中包括每次操作到的文件位置。文件的读写操作都是从这个位置开始进行的。</p>
</li>
<li><p>基本操作</p>
</li>
<li><p>tell()</p>
<ul>
<li>功能：获取文件偏移量大小</li>
</ul>
</li>
<li><p>seek(offset[,whence])</p>
<ul>
<li>功能:移动文件偏移量位置</li>
<li>参数：<ul>
<li>offset 代表相对于某个位置移动的字节数。负数表示向前移动，正数表示向后移动。</li>
<li>whence是基准位置的默认值为 0，代表从文件开头算起，1代表从当前位置算起，2 代表从文件末尾算起。</li>
<li>必须以二进制方式打开文件时基准位置才能是1或者2</li>
</ul>
</li>
</ul>
</li>
</ul>
<h4 id="（3）文件描述符"><a href="#（3）文件描述符" class="headerlink" title="（3）文件描述符"></a>（3）文件描述符</h4><ul>
<li><p>定义：系统中每一个IO操作都会分配一个整数作为编号，该整数即这个IO操作的文件描述符。</p>
</li>
<li><p>获取文件描述符</p>
<ul>
<li>fileno()<br>通过IO对象获取对应的文件描述符</li>
</ul>
</li>
</ul>
<h3 id="15-3-文件管理函数"><a href="#15-3-文件管理函数" class="headerlink" title="15.3 文件管理函数"></a>15.3 文件管理函数</h3><ul>
<li><p>获取文件大小  </p>
<p>os.path.getsize(file)</p>
</li>
<li><p>查看文件列表  </p>
<p>os.listdir(dir)</p>
</li>
<li><p>查看文件是否存在</p>
<p>os.path.exists(file)</p>
</li>
<li><p>判断文件类型</p>
<p>os.path.isfile(file)</p>
</li>
<li><p>删除文件</p>
<p>os.remove(file)</p>
</li>
</ul>
<h2 id="16-网络编程"><a href="#16-网络编程" class="headerlink" title="16. 网络编程"></a>16. 网络编程</h2><p>计算机网络功能主要包括实现资源共享，实现数据信息的快速传递。</p>
<h3 id="16-1-网络编程基础"><a href="#16-1-网络编程基础" class="headerlink" title="16.1 网络编程基础"></a>16.1 网络编程基础</h3><h4 id="（1）OSI七层模型"><a href="#（1）OSI七层模型" class="headerlink" title="（1）OSI七层模型"></a>（1）OSI七层模型</h4><blockquote>
<p>制定组织： ISO（国际标准化组织）</p>
</blockquote>
<blockquote>
<p>作用：使网络通信工作流程标准化</p>
</blockquote>
<blockquote>
<p>应用层 ： 提供用户服务，具体功能由应用程序实现<br>表示层 ： 数据的压缩优化加密<br>会话层 ： 建立用户级的连接，选择适当的传输服务<br>传输层 ： 提供传输服务<br>网络层 ： 路由选择，网络互联<br>链路层 ： 进行数据交换，控制具体数据的发送<br>物理层 ： 提供数据传输的硬件保证，网卡接口，传输介质</p>
</blockquote>
<blockquote>
<p>优点 </p>
<ol>
<li>建立了统一的工作流程</li>
<li>分部清晰，各司其职，每个步骤分工明确</li>
<li>降低了各个模块之间的耦合度，便于开发</li>
</ol>
</blockquote>
<h4 id="（2）四层模型（TCP-IP模型）"><a href="#（2）四层模型（TCP-IP模型）" class="headerlink" title="（2）四层模型（TCP/IP模型）"></a>（2）四层模型（TCP/IP模型）</h4><p>背景 ： 实际工作中工程师无法完全按照七层模型要求操作，逐渐演化为更符合实际情况的四层</p>
<p><img src="/2022/06/27/Python%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/1_tcpip%E6%A8%A1%E5%9E%8B.png" alt="TCP/IP模型"></p>
<h5 id="1-gt-数据传输过程"><a href="#1-gt-数据传输过程" class="headerlink" title="1&gt; 数据传输过程"></a>1&gt; 数据传输过程</h5><ol>
<li>发送端由应用程序发送消息，逐层添加首部信息，最终在物理层发送消息包。</li>
<li>发送的消息经过多个节点（交换机，路由器）传输，最终到达目标主机。</li>
<li>目标主机由物理层逐层解析首部消息包，最终到应用程序呈现消息。</li>
</ol>
<p><img src="/2022/06/27/Python%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/1_TCP.png" alt="TCP/IP模型"></p>
<h5 id="2-gt-网络协议"><a href="#2-gt-网络协议" class="headerlink" title="2&gt; 网络协议"></a>2&gt; 网络协议</h5><blockquote>
<p>在网络数据传输中，都遵循的规定，包括建立什么样的数据结构，什么样的特殊标志等。</p>
</blockquote>
<h5 id="3-gt-网络基础概念"><a href="#3-gt-网络基础概念" class="headerlink" title="3&gt; 网络基础概念"></a>3&gt; 网络基础概念</h5><ul>
<li>IP地址</li>
</ul>
<blockquote>
<p>功能：确定一台主机的网络路由位置</p>
</blockquote>
<blockquote>
<p>查看本机网络地址命令： ifconfig</p>
</blockquote>
<blockquote>
<p>结构</p>
<blockquote>
<p>IPv4  点分十进制表示 172.40.91.185 每部分取值范围0–255<br>IPv6  128位 扩大了地址范围</p>
</blockquote>
</blockquote>
<ul>
<li>域名</li>
</ul>
<blockquote>
<p>定义： 给网络服务器地址起的名字</p>
</blockquote>
<blockquote>
<p>作用： 方便记忆，表达一定的含义</p>
</blockquote>
<blockquote>
<p>ping [ip] : 测试和某个主机是否联通</p>
</blockquote>
<ul>
<li>端口号（port）</li>
</ul>
<blockquote>
<p>作用：端口是网络地址的一部分，用于区分主机上不同的网络应用程序。</p>
</blockquote>
<blockquote>
<p>特点：一个系统中的应用监听端口不能重复</p>
</blockquote>
<blockquote>
<p>取值范围： 1 – 65535</p>
<blockquote>
<p>1–1023  系统应用或者大众程序监听端口<br>1024–65535 自用端口</p>
</blockquote>
</blockquote>
<h4 id="（3）传输层服务"><a href="#（3）传输层服务" class="headerlink" title="（3）传输层服务"></a>（3）传输层服务</h4><h5 id="1-gt-基于TCP协议的数据传输"><a href="#1-gt-基于TCP协议的数据传输" class="headerlink" title="1&gt;  基于TCP协议的数据传输"></a>1&gt;  基于TCP协议的数据传输</h5><ol>
<li>传输特征 ： 提供了可靠的数据传输，可靠性指数据传输过程中无丢失，无失序，无差错，无重复。</li>
<li>实现手段 ： 在通信前需要建立数据连接，通信结束要正常断开连接。</li>
<li>适用情况 ： 对数据传输准确性有明确要求，传数文件较大，需要确保可靠性的情况。比如：网页获取，文件下载，邮件收发。</li>
</ol>
<blockquote>
<p>三次握手（建立连接）</p>
<blockquote>
<p>客户端向服务器发送消息报文请求连接<br>服务器收到请求后，回复报文确定可以连接<br>客户端收到回复，发送最终报文连接建立</p>
</blockquote>
</blockquote>
<p><img src="/2022/06/27/Python%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/1_%E4%B8%89%E6%AC%A1%E6%8F%A1%E6%89%8B.png"></p>
<blockquote>
<p>四次挥手（断开连接）</p>
<blockquote>
<p>主动方发送报文请求断开连接<br>被动方收到请求后，立即回复，表示准备断开<br>被动方准备就绪，再次发送报文表示可以断开<br>主动方收到确定，发送最终报文完成断开</p>
</blockquote>
</blockquote>
<p><img src="/2022/06/27/Python%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/1_%E5%9B%9B%E6%AC%A1%E6%8C%A5%E6%89%8B.png"></p>
<h5 id="2-gt-基于UDP协议的数据传输"><a href="#2-gt-基于UDP协议的数据传输" class="headerlink" title="2 &gt; 基于UDP协议的数据传输"></a>2 &gt; 基于UDP协议的数据传输</h5><ol>
<li>传输特点 ： 不保证传输的可靠性，传输过程没有连接和断开，数据收发自由随意。</li>
<li>适用情况 ： 网络较差，对传输可靠性要求不高。比如：网络视频，群聊，广播</li>
</ol>
<h3 id="16-2-socket套接字编程"><a href="#16-2-socket套接字编程" class="headerlink" title="16.2 socket套接字编程"></a>16.2 socket套接字编程</h3><h4 id="（1）套接字介绍"><a href="#（1）套接字介绍" class="headerlink" title="（1）套接字介绍"></a>（1）套接字介绍</h4><ol>
<li><p>套接字 ： 实现网络编程进行数据传输的一种技术手段</p>
</li>
<li><p>Python实现套接字编程：import  socket</p>
</li>
<li><p>套接字分类</p>
</li>
</ol>
<ul>
<li>流式套接字(<font color="red">SOCK_STREAM</font>): 以<strong>字节流</strong>方式传输数据，实现<strong>TCP</strong>网络传输方案。(面向连接–tcp协议–可靠的–流式套接字)</li>
</ul>
<ul>
<li>数据报套接字(<font color="red">SOCK_DGRAM</font>): 以<strong>数据报</strong>形式传输数据，实现<strong>UDP</strong>网络传输方案。(无连接–udp协议–不可靠–数据报套接字)</li>
</ul>
<h4 id="（2）tcp套接字编程"><a href="#（2）tcp套接字编程" class="headerlink" title="（2）tcp套接字编程"></a>（2）tcp套接字编程</h4><h5 id="1-gt-服务端流程"><a href="#1-gt-服务端流程" class="headerlink" title="1&gt; 服务端流程"></a>1&gt; 服务端流程</h5><p><img src="/2022/06/27/Python%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/1_TCP_Server.png"></p>
<ol>
<li><strong>创建套接字</strong></li>
</ol>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">sockfd=socket.socket(socket_family=AF_INET,socket_type=SOCK_STREAM,proto=<span class="number">0</span>)</span><br><span class="line">功能：创建套接字</span><br><span class="line">参数：  </span><br><span class="line">	socket_family  网络地址类型 AF_INET表示ipv4</span><br><span class="line">	socket_type  套接字类型 SOCK_STREAM(流式)  SOCK_DGRAM(数据报式)</span><br><span class="line">	proto  通常为<span class="number">0</span>  选择子协议</span><br><span class="line">返回值： 套接字对象</span><br></pre></td></tr></table></figure>

<ol start="2">
<li><strong>绑定地址</strong></li>
</ol>
<blockquote>
<p>本地地址 ： ‘localhost’ , ‘127.0.0.1’<br>网络地址 ： ‘172.40.91.185’<br>自动获取地址： ‘0.0.0.0’</p>
</blockquote>
<p><img src="/2022/06/27/Python%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/address.png"></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sockfd.bind(addr)</span><br><span class="line">功能： 绑定本机网络地址</span><br><span class="line">参数： 二元元组 (ip,port)  (<span class="string">&#x27;0.0.0.0&#x27;</span>,<span class="number">8888</span>)</span><br></pre></td></tr></table></figure>

<ol start="3">
<li><strong>设置监听</strong></li>
</ol>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sockfd.listen(n)</span><br><span class="line">功能 ： 将套接字设置为监听套接字，确定监听队列大小</span><br><span class="line">参数 ： 监听队列大小</span><br></pre></td></tr></table></figure>

<ol start="4">
<li><strong>等待处理客户端连接请求</strong></li>
</ol>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">connfd,addr = sockfd.accept()</span><br><span class="line">功能： 阻塞等待处理客户端请求</span><br><span class="line">返回值： connfd  客户端连接套接字</span><br><span class="line">         addr  连接的客户端地址</span><br></pre></td></tr></table></figure>

<ol start="5">
<li><strong>消息收发</strong></li>
</ol>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">data = connfd.recv(buffersize)</span><br><span class="line">功能 : 接受客户端消息</span><br><span class="line">参数 ：每次最多接收消息的大小</span><br><span class="line">返回值： 接收到的内容</span><br><span class="line"></span><br><span class="line">n = connfd.send(data)</span><br><span class="line">功能 : 发送消息</span><br><span class="line">参数 ：要发送的内容  <span class="built_in">bytes</span>格式</span><br><span class="line">返回值： 发送的字节数</span><br></pre></td></tr></table></figure>

<ol start="6">
<li><strong>关闭套接字</strong></li>
</ol>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sockfd.close()</span><br><span class="line">功能：关闭套接字</span><br></pre></td></tr></table></figure>



<h5 id="2-gt-客户端流程"><a href="#2-gt-客户端流程" class="headerlink" title="2&gt; 客户端流程"></a>2&gt; 客户端流程</h5><p><img src="/2022/06/27/Python%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/1_TCP_Client.png"></p>
<ol>
<li><strong>创建套接字</strong></li>
</ol>
<blockquote>
<p>注意:只有相同类型的套接字才能进行通信</p>
</blockquote>
<ol start="2">
<li><strong>请求连接</strong></li>
</ol>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sockfd.connect(server_addr)</span><br><span class="line">功能：连接服务器</span><br><span class="line">参数：元组  服务器地址</span><br></pre></td></tr></table></figure>

<ol start="3">
<li><strong>收发消息</strong></li>
</ol>
<blockquote>
<p>注意： 防止两端都阻塞，recv send要配合</p>
</blockquote>
<ol start="4">
<li><strong>关闭套接字</strong></li>
</ol>
<h5 id="3-gt-tcp-套接字数据传输特点"><a href="#3-gt-tcp-套接字数据传输特点" class="headerlink" title="3&gt; tcp 套接字数据传输特点"></a>3&gt; tcp 套接字数据传输特点</h5><ul>
<li><p>tcp连接中当一端退出，另一端如果阻塞在recv，此时recv会立即返回一个空字串。</p>
</li>
<li><p>tcp连接中如果一端已经不存在，仍然试图通过send发送则会产生BrokenPipeError</p>
</li>
<li><p>一个监听套接字可以同时连接多个客户端，也能够重复被连接</p>
</li>
</ul>
<h5 id="4-gt-网络收发缓冲区"><a href="#4-gt-网络收发缓冲区" class="headerlink" title="4&gt; 网络收发缓冲区"></a>4&gt; 网络收发缓冲区</h5><ol>
<li>网络缓冲区有效的协调了消息的收发速度</li>
<li>send和recv实际是向缓冲区发送接收消息，当缓冲区不为空recv就不会阻塞。</li>
</ol>
<h5 id="5-gt-tcp粘包"><a href="#5-gt-tcp粘包" class="headerlink" title="5&gt; tcp粘包"></a>5&gt; tcp粘包</h5><blockquote>
<p>原因：tcp以字节流方式传输，没有消息边界。多次发送的消息被一次接收，此时就会形成粘包。</p>
</blockquote>
<blockquote>
<p>影响：如果每次发送内容是一个独立的含义，需要接收端独立解析此时粘包会有影响。</p>
</blockquote>
<blockquote>
<p>处理方法</p>
<blockquote>
<ol>
<li>人为的添加消息边界</li>
<li>控制发送速度</li>
</ol>
</blockquote>
</blockquote>
<h4 id="（3）UDP套接字编程"><a href="#（3）UDP套接字编程" class="headerlink" title="（3）UDP套接字编程"></a>（3）UDP套接字编程</h4><h5 id="1-gt-服务端流程-1"><a href="#1-gt-服务端流程-1" class="headerlink" title="1&gt; 服务端流程"></a>1&gt; 服务端流程</h5><p><img src="/2022/06/27/Python%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/2_UDP_Server.png"></p>
<ol>
<li>创建数据报套接字</li>
</ol>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sockfd = socket(AF_INET,SOCK_DGRAM)</span><br></pre></td></tr></table></figure>

<ol start="2">
<li>绑定地址</li>
</ol>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sockfd.bind(addr)</span><br></pre></td></tr></table></figure>

<ol start="3">
<li>消息收发</li>
</ol>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">data,addr = sockfd.recvfrom(buffersize)</span><br><span class="line">功能： 接收UDP消息</span><br><span class="line">参数： 每次最多接收多少字节</span><br><span class="line">返回值： data  接收到的内容</span><br><span class="line">	addr  消息发送方地址</span><br><span class="line"></span><br><span class="line">n = sockfd.sendto(data,addr)</span><br><span class="line">功能： 发送UDP消息</span><br><span class="line">参数： data  发送的内容 <span class="built_in">bytes</span>格式</span><br><span class="line">	addr  目标地址</span><br><span class="line">返回值：发送的字节数</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<ol start="4">
<li>关闭套接字</li>
</ol>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sockfd.close()</span><br></pre></td></tr></table></figure>



<h5 id="2-gt-客户端流程-1"><a href="#2-gt-客户端流程-1" class="headerlink" title="2&gt; 客户端流程"></a>2&gt; 客户端流程</h5><p><img src="/2022/06/27/Python%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/2_UDP_Client.png"></p>
<ol>
<li>创建套接字</li>
<li>收发消息</li>
<li>关闭套接字</li>
</ol>
<hr>
<blockquote>
<p>总结 ：tcp套接字和udp套接字编程区别</p>
<blockquote>
<ol>
<li>流式套接字是以字节流方式传输数据，数据报套接字以数据报形式传输</li>
<li>tcp套接字会有粘包，udp套接字有消息边界不会粘包</li>
<li>tcp套接字保证消息的完整性，udp套接字则不能</li>
<li>tcp套接字依赖listen accept建立连接才能收发消息，udp套接字则不需要</li>
<li>tcp套接字使用send，recv收发消息，udp套接字使用sendto，recvfrom</li>
</ol>
</blockquote>
</blockquote>
<hr>
<h4 id="（4）socket套接字属性"><a href="#（4）socket套接字属性" class="headerlink" title="（4）socket套接字属性"></a>（4）socket套接字属性</h4><ul>
<li><p>sockfd.type  套接字类型</p>
</li>
<li><p> sockfd.family 套接字地址类型</p>
</li>
<li><p> sockfd.getsockname() 获取套接字绑定地址</p>
</li>
</ul>
<ul>
<li>sockfd.fileno() 获取套接字的文件描述符</li>
</ul>
<ul>
<li>sockfd.getpeername() 获取连接套接字客户端地址</li>
</ul>
<ul>
<li> sockfd.setsockopt(level,option,value)</li>
<li>功能：设置套接字选项</li>
<li>参数： level  选项类别   SOL_SOCKET<pre><code>        option 具体选项内容
              value  选项值
</code></pre>
</li>
</ul>
<p><img src="/2022/06/27/Python%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/2_setsockopt.png"></p>
<h3 id="16-3-struct模块进行数据打包"><a href="#16-3-struct模块进行数据打包" class="headerlink" title="16.3 struct模块进行数据打包"></a>16.3 struct模块进行数据打包</h3><ol>
<li>原理： 将一组简单数据进行打包，转换为bytes格式发送。或者将一组bytes格式数据，进行解析。</li>
<li>接口使用</li>
</ol>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">Struct(fmt)</span><br><span class="line">功能: 生成结构化对象</span><br><span class="line">参数：fmt  定制的数据结构</span><br><span class="line"></span><br><span class="line">st.pack(v1,v2,v3....)</span><br><span class="line">功能: 将一组数据按照指定格式打包转换为<span class="built_in">bytes</span></span><br><span class="line">参数：要打包的数据</span><br><span class="line">返回值： <span class="built_in">bytes</span>字节串</span><br><span class="line"></span><br><span class="line">st.unpack(bytes_data)</span><br><span class="line">功能： 将<span class="built_in">bytes</span>字节串按照指定的格式解析</span><br><span class="line">参数： 要解析的 <span class="built_in">bytes</span>字节串</span><br><span class="line">返回值： 解析后的内容</span><br><span class="line"></span><br><span class="line">struct.pack(fmt,v1,v2,v3...)</span><br><span class="line">struct.unpack(fmt,bytes_data)</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<blockquote>
<p>说明： 可以使用struct模块直接调用pack unpack。此时这两函数第一个参数传入fmt。其他用法功能相同</p>
</blockquote>
<h3 id="16-4-HTTP传输"><a href="#16-4-HTTP传输" class="headerlink" title="16.4 HTTP传输"></a>16.4 HTTP传输</h3><h4 id="（1）HTTP协议-（超文本传输协议）"><a href="#（1）HTTP协议-（超文本传输协议）" class="headerlink" title="（1）HTTP协议 （超文本传输协议）"></a>（1）HTTP协议 （超文本传输协议）</h4><ol>
<li><p>用途 ： 网页获取，数据的传输</p>
</li>
<li><p>特点</p>
</li>
</ol>
<blockquote>
<ul>
<li>应用层协议，传输层使用<strong>tcp</strong>传输</li>
<li>简单，灵活，很多语言都有HTTP专门接口</li>
<li>无状态，协议不记录传输内容</li>
<li>http1.1 支持持久连接，丰富了请求类型</li>
</ul>
</blockquote>
<ol start="3">
<li>网页请求过程</li>
</ol>
<blockquote>
<p>1.客户端（浏览器）通过tcp传输，发送http请求给服务端<br>2.服务端接收到http请求后进行解析<br>3.服务端处理请求内容，组织响应内容<br>4.服务端将响应内容以http响应格式发送给浏览器<br>5.浏览器接收到响应内容，解析展示</p>
</blockquote>
<p><img src="/2022/06/27/Python%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/2_%E7%BD%91%E7%AB%99%E8%AE%BF%E9%97%AE.png"></p>
<h4 id="（2）HTTP请求（request）"><a href="#（2）HTTP请求（request）" class="headerlink" title="（2）HTTP请求（request）"></a>（2）HTTP请求（request）</h4><ul>
<li>请求行 ： 具体的请求类别和请求内容</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">GET         /        HTTP/1.1</span><br><span class="line">请求类别   请求内容     协议版本</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">请求类别：每个请求类别表示要做不同的事情 </span><br><span class="line">		GET : 获取网络资源</span><br><span class="line">		POST ：提交一定的信息，得到反馈</span><br><span class="line">		HEAD ： 只获取网络资源的响应头</span><br><span class="line">		PUT ： 更新服务器资源</span><br><span class="line">		DELETE ： 删除服务器资源</span><br><span class="line">		CONNECT</span><br><span class="line">		TRACE ： 测试</span><br><span class="line">		OPTIONS ： 获取服务器性能信息</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<ul>
<li>请求头：对请求的进一步解释和描述</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Accept-Encoding: gzip</span><br></pre></td></tr></table></figure>

<ul>
<li>空行</li>
<li>请求体: 请求参数或者提交内容</li>
</ul>
<h4 id="（3）http响应（response）"><a href="#（3）http响应（response）" class="headerlink" title="（3）http响应（response）"></a>（3）http响应（response）</h4><ol>
<li>响应格式：响应行，响应头，空行，响应体</li>
</ol>
<ul>
<li>响应行 ： 反馈基本的响应情况</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">HTTP/1.1     200       OK</span><br><span class="line">版本信息    响应码   附加信息</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">响应码 ： </span><br><span class="line">	1xx  提示信息，表示请求被接收</span><br><span class="line">	2xx  响应成功</span><br><span class="line">	3xx  响应需要进一步操作，重定向</span><br><span class="line">	4xx  客户端错误</span><br><span class="line">	5xx  服务器错误</span><br></pre></td></tr></table></figure>

<ul>
<li>响应头：对响应内容的描述</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Content-Type: text/html</span><br></pre></td></tr></table></figure>

<ul>
<li>响应体：响应的主体内容信息</li>
</ul>
<h2 id="17-并发编程"><a href="#17-并发编程" class="headerlink" title="17. 并发编程"></a>17. 并发编程</h2><h3 id="17-1-多任务编程"><a href="#17-1-多任务编程" class="headerlink" title="17.1 多任务编程"></a>17.1 多任务编程</h3><ol>
<li>意义： 充分利用计算机CPU的多核资源，同时处理多个应用程序任务，以此提高程序的运行效率。</li>
<li>实现方案 ：多进程 ， 多线程</li>
</ol>
<h3 id="17-2-进程（process）"><a href="#17-2-进程（process）" class="headerlink" title="17.2 进程（process）"></a>17.2 进程（process）</h3><h4 id="（1）进程理论基础"><a href="#（1）进程理论基础" class="headerlink" title="（1）进程理论基础"></a>（1）进程理论基础</h4><ol>
<li><h5 id="定义-：-程序在计算机中的一次运行。"><a href="#定义-：-程序在计算机中的一次运行。" class="headerlink" title="定义 ： 程序在计算机中的一次运行。"></a>定义 ： 程序在计算机中的一次运行。</h5><ul>
<li>程序是一个可执行的文件，是静态的占有磁盘。</li>
<li>进程是一个动态的过程描述，占有计算机运行资源，有一定的生命周期。</li>
</ul>
</li>
</ol>
<ol start="2">
<li><h5 id="系统中如何产生一个进程"><a href="#系统中如何产生一个进程" class="headerlink" title="系统中如何产生一个进程"></a>系统中如何产生一个进程</h5><p>【1】 用户空间通过调用程序接口或者命令发起请求<br>【2】 操作系统接收用户请求，开始创建进程<br>【3】 操作系统调配计算机资源，确定进程状态等<br>【4】 操作系统将创建的进程提供给用户使用</p>
</li>
</ol>
<p><img src="/2022/06/27/Python%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/linux.png"></p>
<ol start="3">
<li><h5 id="进程基本概念"><a href="#进程基本概念" class="headerlink" title="进程基本概念"></a>进程基本概念</h5></li>
</ol>
<ul>
<li><p>cpu时间片：如果一个进程占有<strong>cpu内核</strong>则称这个进程在cpu时间片上。</p>
</li>
<li><p>PCB(进程控制块)：在内存中开辟的一块空间，用于存放<strong>进程的基本信息</strong>，也用于系统查找识别进程。</p>
</li>
<li><p>进程ID（PID）： 系统为每个进程分配的一个大于0的整数，作为进程ID。每个进程ID不重复。</p>
<blockquote>
<p>Linux查看进程ID ： ps -aux</p>
</blockquote>
</li>
<li><p>父子进程 ： 系统中每一个进程(除了系统初始化进程)都有唯一的父进程，可以有0个或多个子进程。父子进程关系便于进程管理。</p>
<blockquote>
<p>查看进程树： pstree</p>
</blockquote>
</li>
<li><p>进程状态</p>
<ul>
<li>三态<br>就绪态 ： 进程具备执行条件，等待分配cpu资源<br>运行态 ： 进程占有cpu时间片正在运行<br>等待态 ： 进程暂时停止运行，让出cpu</li>
</ul>
</li>
</ul>
<p><img src="/2022/06/27/Python%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/4_3%E6%80%81.png"></p>
<ul>
<li>五态 (在三态基础上增加新建和终止)<br>新建 ： 创建一个进程，获取资源的过程<br>终止 ： 进程结束，释放资源的过程</li>
</ul>
<p><img src="/2022/06/27/Python%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/4_5%E6%80%81.png"></p>
<ul>
<li>状态查看命令 ： ps -aux  –&gt; STAT列</li>
</ul>
<blockquote>
<pre><code>           S 等待态
           R 执行态
           Z 僵尸

           \+ 前台进程
           l   有多线程的
</code></pre>
</blockquote>
<ul>
<li>进程的运行特征<br>【1】 多进程可以更充分使用计算机多核资源<br>【2】 进程之间的运行互不影响，各自独立<br>【3】 每个进程拥有独立的空间，各自使用自己空间资源</li>
</ul>
<h3 id="17-3-基于fork的多进程编程"><a href="#17-3-基于fork的多进程编程" class="headerlink" title="17.3 基于fork的多进程编程"></a>17.3 基于fork的多进程编程</h3><h4 id="（1）fork使用"><a href="#（1）fork使用" class="headerlink" title="（1）fork使用"></a>（1）fork使用</h4><blockquote>
<p>pid = os.fork()<br>    功能： 创建新的进程<br>    返回值：整数，如果创建进程失败返回一个负数，如果成功则在原有进程中返回新进程的PID，在新进程中返回0</p>
</blockquote>
<blockquote>
<p>注意</p>
<blockquote>
<ul>
<li>子进程会复制父进程全部内存空间，从fork下一句开始执行。</li>
<li>父子进程各自独立运行，运行顺序不一定。</li>
<li>利用父子进程fork返回值的区别，配合if结构让父子进程执行不同的内容几乎是固定搭配。</li>
<li>父子进程有各自特有特征比如PID PCB 命令集等。</li>
<li>父进程fork之前开辟的空间子进程同样拥有，父子进程对各自空间的操作不会相互影响。</li>
</ul>
</blockquote>
</blockquote>
<h4 id="（2）进程相关函数"><a href="#（2）进程相关函数" class="headerlink" title="（2）进程相关函数"></a>（2）进程相关函数</h4><blockquote>
<p>os.getpid()<br>       功能： 获取一个进程的PID值<br>       返回值： 返回当前进程的PID </p>
</blockquote>
<blockquote>
<p>os.getppid()<br>       功能： 获取父进程的PID号<br>       返回值： 返回父进程PID</p>
</blockquote>
<blockquote>
<p>os._exit(status)<br>       功能: 结束一个进程<br>       参数：进程的终止状态</p>
</blockquote>
<blockquote>
<p>sys.exit([status])<br>       功能：退出进程<br>       参数：整数 表示退出状态<br>                   字符串 表示退出时打印内容</p>
</blockquote>
<h4 id="（3）孤儿和僵尸"><a href="#（3）孤儿和僵尸" class="headerlink" title="（3）孤儿和僵尸"></a>（3）孤儿和僵尸</h4><ol>
<li>孤儿进程 ： 父进程先于子进程退出，此时子进程成为孤儿进程。</li>
</ol>
<blockquote>
<p>特点： 孤儿进程会被系统进程收养，此时系统进程就会成为孤儿进程新的父进程，孤儿进程退出该进程会自动处理。</p>
</blockquote>
<ol start="2">
<li>僵尸进程 ： 子进程先于父进程退出，父进程又没有处理子进程的退出状态，此时子进程就会称为僵尸进程。</li>
</ol>
<blockquote>
<p>特点： 僵尸进程虽然结束，但是会存留部分PCB在内存中，大量的僵尸进程会浪费系统的内存资源。</p>
</blockquote>
<ol start="3">
<li>如何避免僵尸进程产生</li>
</ol>
<ul>
<li>使用wait函数处理子进程退出</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">pid,status = os.wait()</span><br><span class="line">功能：在父进程中阻塞等待处理子进程退出</span><br><span class="line">返回值： pid  退出的子进程的PID</span><br><span class="line">		status  子进程退出状态</span><br></pre></td></tr></table></figure>


<ul>
<li><p>创建二级子进程处理僵尸</p>
<p>【1】 父进程创建子进程，等待回收子进程<br>【2】 子进程创建二级子进程然后退出<br>【3】 二级子进程称为孤儿，和原来父进程一同执行事件</p>
</li>
</ul>
<ul>
<li><p>通过信号处理子进程退出</p>
<blockquote>
<p>原理： 子进程退出时会发送信号给父进程，如果父进程忽略子进程信号，则系统就会自动处理子进程退出。</p>
</blockquote>
<blockquote>
<p>方法： 使用signal模块在父进程创建子进程前写如下语句 ：</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> signal</span><br><span class="line">signal.signal(signal.SIGCHLD,signal.SIG_IGN)</span><br></pre></td></tr></table></figure>

<blockquote>
<p>特点 ： 非阻塞，不会影响父进程运行。可以处理所有子进程退出</p>
</blockquote>
</li>
</ul>
<h4 id="（4）群聊聊天室"><a href="#（4）群聊聊天室" class="headerlink" title="（4）群聊聊天室"></a>（4）群聊聊天室</h4><blockquote>
<p>功能 ： 类似qq群功能<br>【1】 有人进入聊天室需要输入姓名，姓名不能重复<br>【2】 有人进入聊天室时，其他人会收到通知：xxx 进入了聊天室<br>【3】 一个人发消息，其他人会收到：xxx ： xxxxxxxxxxx<br>【4】 有人退出聊天室，则其他人也会收到通知:xxx退出了聊天室<br>【5】 扩展功能：服务器可以向所有用户发送公告:管理员消息： xxxxxxxxx</p>
</blockquote>
<h3 id="17-4-multiprocessing-模块创建进程"><a href="#17-4-multiprocessing-模块创建进程" class="headerlink" title="17.4 multiprocessing 模块创建进程"></a>17.4 multiprocessing 模块创建进程</h3><h4 id="（1）进程创建方法"><a href="#（1）进程创建方法" class="headerlink" title="（1）进程创建方法"></a>（1）进程创建方法</h4><ol>
<li><h5 id="流程特点"><a href="#流程特点" class="headerlink" title="流程特点"></a>流程特点</h5><p> 【1】 将需要子进程执行的事件封装为函数<br> 【2】 通过模块的Process类创建进程对象，关联函数<br> 【3】 可以通过进程对象设置进程信息及属性<br> 【4】 通过进程对象调用start启动进程<br> 【5】 通过进程对象调用join回收进程</p>
</li>
<li><h5 id="基本接口使用"><a href="#基本接口使用" class="headerlink" title="基本接口使用"></a>基本接口使用</h5></li>
</ol>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Process()</span><br><span class="line">功能 ： 创建进程对象</span><br><span class="line">参数 ： target 绑定要执行的目标函数 </span><br><span class="line">	args 元组，用于给target函数位置传参</span><br><span class="line">	kwargs 字典，给target函数键值传参</span><br></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">p.start()</span><br><span class="line">功能 ： 启动进程</span><br></pre></td></tr></table></figure>

<blockquote>
<p>注意:启动进程此时target绑定函数开始执行，该函数作为子进程执行内容，此时进程真正被创建</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">p.join([timeout])</span><br><span class="line">功能：阻塞等待回收进程</span><br><span class="line">参数：超时时间</span><br></pre></td></tr></table></figure>

<blockquote>
<p>注意</p>
<blockquote>
<ul>
<li>使用multiprocessing创建进程同样是子进程复制父进程空间代码段，父子进程运行互不影响。</li>
<li>子进程只运行target绑定的函数部分，其余内容均是父进程执行内容。</li>
<li>multiprocessing中父进程往往只用来创建子进程、回收子进程，具体事件由子进程完成。</li>
<li>multiprocessing创建的子进程中无法使用标准输入</li>
</ul>
</blockquote>
</blockquote>
<ol start="3">
<li><h5 id="进程对象属性"><a href="#进程对象属性" class="headerlink" title="进程对象属性"></a>进程对象属性</h5></li>
</ol>
<blockquote>
<p>p.name  进程名称</p>
</blockquote>
<blockquote>
<p>p.pid   对应子进程的PID号</p>
</blockquote>
<blockquote>
<p>p.is_alive() 查看子进程是否在生命周期</p>
</blockquote>
<blockquote>
<p>p.daemon  设置父子进程的退出关系  </p>
<blockquote>
<ul>
<li>如果设置为True则子进程会随父进程的退出而结束</li>
<li>要求必须在start()前设置</li>
<li>如果daemon设置成True 通常就不会使用 join()</li>
</ul>
</blockquote>
</blockquote>
<h4 id="（2）自定义进程类"><a href="#（2）自定义进程类" class="headerlink" title="（2）自定义进程类"></a>（2）自定义进程类</h4><ol>
<li><h5 id="创建步骤"><a href="#创建步骤" class="headerlink" title="创建步骤"></a>创建步骤</h5><p>【1】 继承Process类<br>【2】 重写<code>__init__</code>方法添加自己的属性，使用super()加载父类属性<br>【3】 重写run()方法</p>
</li>
<li><h5 id="使用方法"><a href="#使用方法" class="headerlink" title="使用方法"></a>使用方法</h5><p>【1】 实例化对象<br>【2】 调用start自动执行run方法<br>【3】 调用join回收进程</p>
</li>
</ol>
<h4 id="（3）进程池实现"><a href="#（3）进程池实现" class="headerlink" title="（3）进程池实现"></a>（3）进程池实现</h4><ol>
<li><h5 id="必要性"><a href="#必要性" class="headerlink" title="必要性"></a>必要性</h5><p>   【1】 进程的创建和销毁过程消耗的资源较多<br>   【2】 当任务量众多，每个任务在很短时间内完成时，需要频繁的创建和销毁进程。此时对计算机压力较大<br>   【3】 进程池技术很好的解决了以上问题。</p>
</li>
<li><h5 id="原理"><a href="#原理" class="headerlink" title="原理"></a>原理</h5></li>
</ol>
<blockquote>
<p>创建一定数量的进程来处理事件，事件处理完进程不退出而是继续处理其他事件，直到所有事件全都处理完毕统一销毁。增加进程的重复利用，降低资源消耗。</p>
</blockquote>
<ol start="3">
<li><h5 id="进程池实现过程"><a href="#进程池实现过程" class="headerlink" title="进程池实现过程"></a>进程池实现过程</h5></li>
</ol>
<p>【1】 创建进程池对象，放入适当的进程</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> multiprocessing <span class="keyword">import</span> Pool</span><br><span class="line"></span><br><span class="line">Pool(processes)</span><br><span class="line">功能： 创建进程池对象</span><br><span class="line">参数： 指定进程数量，默认根据系统自动判定</span><br></pre></td></tr></table></figure>

<p>【2】 将事件加入进程池队列执行</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">pool.apply_async(func,args,kwds)</span><br><span class="line">功能: 使用进程池执行func事件</span><br><span class="line">参数： func 事件函数</span><br><span class="line">      args 元组  给func按位置传参</span><br><span class="line">      kwds 字典  给func按照键值传参</span><br><span class="line">返回值： 返回函数事件对象</span><br></pre></td></tr></table></figure>

<p>【3】 关闭进程池</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">pool.close()</span><br><span class="line">功能： 关闭进程池</span><br></pre></td></tr></table></figure>

<p>【4】 回收进程池中进程</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">pool.join()</span><br><span class="line">功能： 回收进程池中进程</span><br></pre></td></tr></table></figure>



<h3 id="17-5-进程间通信（IPC）"><a href="#17-5-进程间通信（IPC）" class="headerlink" title="17.5 进程间通信（IPC）"></a>17.5 进程间通信（IPC）</h3><ol>
<li>必要性： 进程间<strong>空间独立，资源不共享</strong>，此时在需要进程间数据传输时就需要特定的手段进行数据通信。</li>
</ol>
<ol start="2">
<li>常用进程间通信方法</li>
</ol>
<blockquote>
<p>管道  消息队列  共享内存  信号  信号量  套接字 </p>
</blockquote>
<h4 id="（1）管道通信-Pipe"><a href="#（1）管道通信-Pipe" class="headerlink" title="（1）管道通信(Pipe)"></a>（1）管道通信(Pipe)</h4><ol>
<li><h5 id="通信原理"><a href="#通信原理" class="headerlink" title="通信原理"></a>通信原理</h5></li>
</ol>
<blockquote>
<p>在内存中开辟管道空间，生成管道操作对象，多个进程使用同一个管道对象进行读写即可实现通信</p>
</blockquote>
<ol start="2">
<li><h5 id="实现方法"><a href="#实现方法" class="headerlink" title="实现方法"></a>实现方法</h5></li>
</ol>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span>  multiprocessing <span class="keyword">import</span> Pipe</span><br><span class="line"></span><br><span class="line">fd1,fd2 = Pipe(duplex = <span class="literal">True</span>)</span><br><span class="line">功能: 创建管道</span><br><span class="line">参数：默认表示双向管道</span><br><span class="line">如果为<span class="literal">False</span> 表示单向管道</span><br><span class="line">返回值：表示管道两端的读写对象</span><br><span class="line">	  如果是双向管道均可读写</span><br><span class="line">	  如果是单向管道fd1只读  fd2只写</span><br><span class="line"></span><br><span class="line">fd.recv()</span><br><span class="line">功能 ： 从管道获取内容</span><br><span class="line">返回值：获取到的数据</span><br><span class="line"></span><br><span class="line">fd.send(data)</span><br><span class="line">功能： 向管道写入内容</span><br><span class="line">参数： 要写入的数据</span><br></pre></td></tr></table></figure>



<h4 id="（2）消息队列"><a href="#（2）消息队列" class="headerlink" title="（2）消息队列"></a>（2）消息队列</h4><ol>
<li>通信原理</li>
</ol>
<blockquote>
<p>在内存中建立队列模型，进程通过队列将消息存入，或者从队列取出完成进程间通信。</p>
</blockquote>
<ol start="2">
<li>实现方法</li>
</ol>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> multiprocessing <span class="keyword">import</span> Queue</span><br><span class="line"></span><br><span class="line">q = Queue(maxsize=<span class="number">0</span>)</span><br><span class="line">功能: 创建队列对象</span><br><span class="line">参数：最多存放消息个数</span><br><span class="line">返回值：队列对象</span><br><span class="line"></span><br><span class="line">q.put(data,[block,timeout])</span><br><span class="line">功能：向队列存入消息</span><br><span class="line">参数：data  要存入的内容</span><br><span class="line">block  设置是否阻塞 <span class="literal">False</span>为非阻塞</span><br><span class="line">timeout  超时检测</span><br><span class="line"></span><br><span class="line">q.get([block,timeout])</span><br><span class="line">功能：从队列取出消息</span><br><span class="line">参数：block  设置是否阻塞 <span class="literal">False</span>为非阻塞</span><br><span class="line">timeout  超时检测</span><br><span class="line">返回值： 返回获取到的内容</span><br><span class="line"></span><br><span class="line">q.full()   判断队列是否为满</span><br><span class="line">q.empty()  判断队列是否为空</span><br><span class="line">q.qsize()  获取队列中消息个数</span><br><span class="line">q.close()  关闭队列</span><br></pre></td></tr></table></figure>



<h4 id="（3）共享内存"><a href="#（3）共享内存" class="headerlink" title="（3）共享内存"></a>（3）共享内存</h4><ol>
<li><h5 id="通信原理："><a href="#通信原理：" class="headerlink" title="通信原理："></a>通信原理：</h5><p>在内中开辟一块空间，进程可以写入内容和读取内容完成通信，但是每次写入内容会覆盖之前内容。</p>
</li>
<li><h5 id="实现方法-1"><a href="#实现方法-1" class="headerlink" title="实现方法"></a>实现方法</h5></li>
</ol>
<p><img src="/2022/06/27/Python%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/6_ctype.png"></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> multiprocessing <span class="keyword">import</span> Value,Array</span><br><span class="line"></span><br><span class="line">obj = Value(ctype,data)</span><br><span class="line">功能 ： 开辟共享内存</span><br><span class="line">参数 ： ctype  表示共享内存空间类型 <span class="string">&#x27;i&#x27;</span>  <span class="string">&#x27;f&#x27;</span>  <span class="string">&#x27;c&#x27;</span></span><br><span class="line">       data   共享内存空间初始数据</span><br><span class="line">返回值：共享内存对象</span><br><span class="line"></span><br><span class="line">obj.value  对该属性的修改查看即对共享内存读写</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">obj = Array(ctype,data)</span><br><span class="line">功能： 开辟共享内存空间</span><br><span class="line">参数： ctype  表示共享内存数据类型</span><br><span class="line">      data   整数则表示开辟空间的大小，其他数据类型表示开辟空间存放的初始化数据</span><br><span class="line">返回值：共享内存对象</span><br><span class="line"></span><br><span class="line">Array共享内存读写： 通过遍历obj可以得到每个值，直接可以通过索引序号修改任意值。</span><br><span class="line"></span><br><span class="line">* 可以使用obj.value直接打印共享内存中的字节串</span><br></pre></td></tr></table></figure>



<h4 id="（4）信号量（信号灯集）"><a href="#（4）信号量（信号灯集）" class="headerlink" title="（4）信号量（信号灯集）"></a>（4）信号量（信号灯集）</h4><ol>
<li>通信原理</li>
</ol>
<blockquote>
<p>给定一个数量对多个进程可见。多个进程都可以操作该数量增减，并根据数量值决定自己的行为。</p>
</blockquote>
<ol start="2">
<li>实现方法</li>
</ol>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> multiprocessing <span class="keyword">import</span> Semaphore</span><br><span class="line"></span><br><span class="line">sem = Semaphore(num)</span><br><span class="line">功能 ： 创建信号量对象</span><br><span class="line">参数 ： 信号量的初始值</span><br><span class="line">返回值 ： 信号量对象</span><br><span class="line"></span><br><span class="line">sem.acquire()  将信号量减<span class="number">1</span> 当信号量为<span class="number">0</span>时阻塞</span><br><span class="line">sem.release()  将信号量加<span class="number">1</span></span><br><span class="line">sem.get_value() 获取信号量数量</span><br></pre></td></tr></table></figure>



<h3 id="17-6-线程编程（Thread）"><a href="#17-6-线程编程（Thread）" class="headerlink" title="17.6 线程编程（Thread）"></a>17.6 线程编程（Thread）</h3><h4 id="（1）线程基本概念"><a href="#（1）线程基本概念" class="headerlink" title="（1）线程基本概念"></a>（1）线程基本概念</h4><ol>
<li><p>什么是线程<br>【1】 线程被称为轻量级的进程<br>【2】 线程也可以使用计算机多核资源，是多任务编程方式<br>【3】 线程是系统分配内核的最小单元<br>【4】 线程可以理解为<strong>进程的分支任务</strong></p>
</li>
<li><p>线程特征<br>【1】 一个进程中可以包含多个线程<br>【2】 线程也是一个运行行为，消耗计算机资源<br>【3】 一个进程中的所有线程<strong>共享这个进程的资源</strong><br>【4】 多个线程之间的运行互不影响各自运行<br>【5】 线程的创建和销毁消耗资源远小于进程<br>【6】 各个线程也有自己的ID等特征</p>
</li>
</ol>
<h4 id="（2）threading模块创建线程"><a href="#（2）threading模块创建线程" class="headerlink" title="（2）threading模块创建线程"></a>（2）threading模块创建线程</h4><p>【1】 创建线程对象</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">from threading import Thread </span><br><span class="line"></span><br><span class="line">t = Thread()</span><br><span class="line">功能：创建线程对象</span><br><span class="line">参数：target 绑定线程函数</span><br><span class="line">     args   元组 给线程函数位置传参</span><br><span class="line">     kwargs 字典 给线程函数键值传参</span><br></pre></td></tr></table></figure>

<p>【2】 启动线程</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">t.start()</span><br></pre></td></tr></table></figure>

<p>【3】 回收线程</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">t.join([timeout])</span><br></pre></td></tr></table></figure>



<h4 id="（3）线程对象属性"><a href="#（3）线程对象属性" class="headerlink" title="（3）线程对象属性"></a>（3）线程对象属性</h4><blockquote>
<p>t.name 线程名称<br>t.setName()  设置线程名称<br>t.getName()  获取线程名称</p>
</blockquote>
<blockquote>
<p>t.is_alive()  查看线程是否在生命周期</p>
</blockquote>
<blockquote>
<p>t.daemon  设置主线程和分支线程的退出关系<br>t.setDaemon()  设置daemon属性值<br>t.isDaemon()  查看daemon属性值</p>
<blockquote>
<p>daemon为True时主线程退出分支线程也退出。要在start前设置，通常不和join一起使用。</p>
</blockquote>
</blockquote>
<h4 id="（4）自定义线程类"><a href="#（4）自定义线程类" class="headerlink" title="（4）自定义线程类"></a>（4）自定义线程类</h4><ol>
<li><p>创建步骤<br>【1】 继承Thread类<br>【2】 重写<code>__init__</code>方法添加自己的属性，使用super()加载父类属性<br>【3】 重写run()方法</p>
</li>
<li><p>使用方法<br>【1】 实例化对象<br>【2】 调用start自动执行run方法<br>【3】 调用join回收线程</p>
</li>
</ol>
<h3 id="17-7-同步互斥"><a href="#17-7-同步互斥" class="headerlink" title="17.7 同步互斥"></a>17.7 同步互斥</h3><h4 id="（1）线程间通信方法"><a href="#（1）线程间通信方法" class="headerlink" title="（1）线程间通信方法"></a>（1）线程间通信方法</h4><ol>
<li>通信方法</li>
</ol>
<blockquote>
<p>线程间使用全局变量进行通信</p>
</blockquote>
<ol start="2">
<li>共享资源争夺</li>
</ol>
<ul>
<li><p>共享资源：多个进程或者线程都可以操作的资源称为共享资源。对共享资源的操作代码段称为<strong>临界区</strong>。</p>
</li>
<li><p>影响 ： 对共享资源的无序操作可能会带来数据的混乱，或者操作错误。此时往往<strong>需要同步互斥机制协调操作顺序</strong>。</p>
</li>
</ul>
<ol start="3">
<li>同步互斥机制</li>
</ol>
<blockquote>
<p>同步 ： 同步是一种协作关系，为完成操作，多进程或者线程间形成一种协调，<strong>按照必要的步骤有序执行操作</strong>。</p>
</blockquote>
<p><img src="/2022/06/27/Python%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/7_%E5%90%8C%E6%AD%A5.png"></p>
<blockquote>
<p>互斥 ： 互斥是一种制约关系，当一个进程或者线程<strong>占有资源时会进行加锁处理</strong>，此时其他进程线程就无法操作该资源，直到解锁后才能操作。</p>
</blockquote>
<p><img src="/2022/06/27/Python%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/7_%E4%BA%92%E6%96%A5.png"></p>
<h4 id="（2）线程同步互斥方法"><a href="#（2）线程同步互斥方法" class="headerlink" title="（2）线程同步互斥方法"></a>（2）线程同步互斥方法</h4><h5 id="1-gt-线程Event"><a href="#1-gt-线程Event" class="headerlink" title="1&gt; 线程Event"></a>1&gt; 线程Event</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> threading <span class="keyword">import</span> Event</span><br><span class="line"></span><br><span class="line">e = Event()  创建线程event对象</span><br><span class="line"></span><br><span class="line">e.wait([timeout])  阻塞等待e被<span class="built_in">set</span></span><br><span class="line"></span><br><span class="line">e.<span class="built_in">set</span>()  设置e，使wait结束阻塞</span><br><span class="line"></span><br><span class="line">e.clear() 使e回到未被设置状态</span><br><span class="line"></span><br><span class="line">e.is_set()  查看当前e是否被设置</span><br></pre></td></tr></table></figure>

<h5 id="2-gt-线程锁-Lock"><a href="#2-gt-线程锁-Lock" class="headerlink" title="2&gt; 线程锁 Lock"></a>2&gt; 线程锁 Lock</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span>  threading <span class="keyword">import</span> Lock</span><br><span class="line"></span><br><span class="line">lock = Lock()  创建锁对象</span><br><span class="line">lock.acquire() 上锁  如果lock已经上锁再调用会阻塞</span><br><span class="line">lock.release() 解锁</span><br><span class="line"></span><br><span class="line"><span class="keyword">with</span>  lock:  上锁</span><br><span class="line">...</span><br><span class="line">...</span><br><span class="line">	 <span class="keyword">with</span>代码块结束自动解锁</span><br></pre></td></tr></table></figure>



<h4 id="（3）死锁及其处理"><a href="#（3）死锁及其处理" class="headerlink" title="（3）死锁及其处理"></a>（3）死锁及其处理</h4><ol>
<li><h5 id="定义"><a href="#定义" class="headerlink" title="定义"></a>定义</h5></li>
</ol>
<blockquote>
<p>死锁是指两个或两个以上的线程在执行过程中，由于<strong>竞争资源或者由于彼此通信</strong>而造成的一种阻塞的现象，若无外力作用，它们都将无法推进下去。此时称系统处于死锁状态或系统产生了死锁。</p>
</blockquote>
<p><img src="/2022/06/27/Python%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/%E6%AD%BB%E9%94%81.jpg"></p>
<ol start="2">
<li><h5 id="死锁产生条件"><a href="#死锁产生条件" class="headerlink" title="死锁产生条件"></a>死锁产生条件</h5></li>
</ol>
<blockquote>
<p>死锁发生的必要条件</p>
<blockquote>
<ul>
<li><font color="red">互斥条件</font>：指线程对所分配到的资源进行排它性使用，即在一段时间内某资源只由一个进程占用。如果此时还有其它进程请求资源，则请求者只能等待，直至占有资源的进程用毕释放。</li>
<li><font color="red">请求和保持条件</font>：指线程已经保持至少一个资源，但又提出了新的资源<strong>请求</strong>，而该资源已被其它进程占有，此时请求线程阻塞，但又对自己已获得的其它资源<strong>保持不放</strong>。</li>
<li><font color="red">不剥夺条件</font>：指线程已获得的资源，在未使用完之前，不能被剥夺，只能在使用完时由自己释放,通常CPU内存资源是可以被系统强行调配剥夺的。</li>
<li><font color="red">环路等待条件</font>：指在发生死锁时，必然存在一个线程——资源的环形链，即进程集合{T0，T1，T2，···，Tn}中的T0正在等待一个T1占用的资源；T1正在等待T2占用的资源，……，Tn正在等待已被T0占用的资源。</li>
</ul>
</blockquote>
</blockquote>
<blockquote>
<p>死锁的产生原因</p>
<blockquote>
<p>简单来说造成死锁的原因可以概括成三句话：</p>
<ul>
<li>当前线程拥有其他线程需要的资源</li>
<li>当前线程等待其他线程已拥有的资源</li>
<li>都不放弃自己拥有的资源</li>
</ul>
</blockquote>
</blockquote>
<ol start="3">
<li><p>如何避免死锁</p>
<p>死锁是我们非常不愿意看到的一种现象，我们要尽可能<strong>避免死锁</strong>的情况发生。通过设置某些限制条件，去破坏产生死锁的四个必要条件中的一个或者几个，来预防发生死锁。预防死锁是一种较易实现的方法。但是由于所施加的限制条件往往太严格，可能会导致系统资源利用率。</p>
</li>
</ol>
<h3 id="17-8-python线程GIL"><a href="#17-8-python线程GIL" class="headerlink" title="17.8 python线程GIL"></a>17.8 python线程GIL</h3><ol>
<li>python线程的GIL问题 （全局解释器锁）</li>
</ol>
<blockquote>
<p>什么是GIL ：由于python解释器设计中加入了解释器锁，导致python解释器同一时刻只能解释执行一个线程，大大降低了线程的执行效率。</p>
</blockquote>
<blockquote>
<p>导致后果： 因为遇到阻塞时线程会主动让出解释器，去解释其他线程。所以python多线程在执行<strong>多阻塞高延迟IO</strong>时可以提升程序效率，其他情况并不能对效率有所提升。</p>
</blockquote>
<blockquote>
<p>GIL问题建议</p>
<ul>
<li>尽量使用进程完成无阻塞的并发行为</li>
<li>不使用c作为解释器 （Java  C#）</li>
</ul>
</blockquote>
<ol start="2">
<li>结论 ： 在无阻塞状态下，多线程程序和单线程程序执行效率几乎差不多，甚至还不如单线程效率。但是多进程运行相同内容却可以有明显的效率提升。</li>
</ol>
<h3 id="17-9-进程线程的区别联系"><a href="#17-9-进程线程的区别联系" class="headerlink" title="17.9 进程线程的区别联系"></a>17.9 进程线程的区别联系</h3><h4 id="（1）区别联系"><a href="#（1）区别联系" class="headerlink" title="（1）区别联系"></a>（1）区别联系</h4><ol>
<li>两者都是多任务编程方式，都能使用计算机多核资源</li>
<li>进程的创建删除消耗的计算机资源比线程多</li>
<li>进程空间独立，数据互不干扰，有专门通信方法；线程使用全局变量通信</li>
<li>一个进程可以有多个分支线程，两者有包含关系</li>
<li>多个线程共享进程资源，在共享资源操作时往往需要同步互斥处理</li>
<li>进程线程在系统中都有自己的特有属性标志，如ID,代码段，命令集等。</li>
</ol>
<h4 id="（2）使用场景"><a href="#（2）使用场景" class="headerlink" title="（2）使用场景"></a>（2）使用场景</h4><ol>
<li><p>任务场景：如果是相对独立的任务模块，可能使用多进程，如果是多个分支共同形成一个整体任务可能用多线程</p>
</li>
<li><p>项目结构：多种编程语言实现不同任务模块，可能是多进程，或者前后端分离应该各自为一个进程。</p>
</li>
<li><p>难易程度：通信难度，数据处理的复杂度来判断用进程间通信还是同步互斥方法。</p>
</li>
</ol>
<h4 id="（3）要求"><a href="#（3）要求" class="headerlink" title="（3）要求"></a>（3）要求</h4><ol>
<li>对进程线程怎么理解/说说进程线程的差异</li>
<li>进程间通信知道哪些，有什么特点</li>
<li>什么是同步互斥，你什么情况下使用，怎么用</li>
<li>给一个情形，说说用进程还是线程，为什么</li>
<li>问一些概念，僵尸进程的处理，GIL问题，进程状态</li>
</ol>
<h3 id="17-10-并发网络通信模型"><a href="#17-10-并发网络通信模型" class="headerlink" title="17.10 并发网络通信模型"></a>17.10 并发网络通信模型</h3><h4 id="（1）常见网络模型"><a href="#（1）常见网络模型" class="headerlink" title="（1）常见网络模型"></a>（1）常见网络模型</h4><ol>
<li>循环服务器模型 ：循环接收客户端请求，处理请求。同一时刻只能处理一个请求，处理完毕后再处理下一个。</li>
</ol>
<blockquote>
<p>优点：实现简单，占用资源少<br>缺点：无法同时处理多个客户端请求</p>
</blockquote>
<blockquote>
<p>适用情况：处理的任务可以很快完成，客户端无需长期占用服务端程序。udp比tcp更适合循环。</p>
</blockquote>
<ol start="2">
<li>多进程/线程网络并发模型：每当一个客户端连接服务器，就创建一个新的进程/线程为该客户端服务，客户端退出时再销毁该进程/线程。</li>
</ol>
<blockquote>
<p>优点：能同时满足多个客户端长期占有服务端需求，可以处理各种请求。<br>缺点： 资源消耗较大</p>
</blockquote>
<blockquote>
<p>适用情况：客户端同时连接量较少，需要处理行为较复杂情况。</p>
</blockquote>
<ol start="3">
<li><p>IO并发模型：利用IO多路复用,异步IO等技术，同时处理多个客户端IO请求。</p>
<blockquote>
<p>优点 ： 资源消耗少，能同时高效处理多个IO行为<br>缺点 ： 只能处理并发产生的IO事件，无法处理cpu计算</p>
</blockquote>
<blockquote>
<p>适用情况：HTTP请求，网络传输等都是IO行为。</p>
</blockquote>
</li>
</ol>
<h4 id="（2）基于fork的多进程网络并发模型"><a href="#（2）基于fork的多进程网络并发模型" class="headerlink" title="（2）基于fork的多进程网络并发模型"></a>（2）基于fork的多进程网络并发模型</h4><p>​    <strong>实现步骤</strong></p>
<ol>
<li>创建监听套接字</li>
<li>等待接收客户端请求</li>
<li>客户端连接创建新的进程处理客户端请求</li>
<li>原进程继续等待其他客户端连接</li>
<li>如果客户端退出，则销毁对应的进程</li>
</ol>
<h4 id="（3）基于threading的多线程网络并发"><a href="#（3）基于threading的多线程网络并发" class="headerlink" title="（3）基于threading的多线程网络并发"></a>（3）基于threading的多线程网络并发</h4><p>​    <strong>实现步骤</strong></p>
<ol>
<li>创建监听套接字</li>
<li>循环接收客户端连接请求</li>
<li>当有新的客户端连接创建线程处理客户端请求</li>
<li>主线程继续等待其他客户端连接</li>
<li>当客户端退出，则对应分支线程退出</li>
</ol>
<h4 id="（4）ftp-文件服务器"><a href="#（4）ftp-文件服务器" class="headerlink" title="（4）ftp 文件服务器"></a>（4）ftp 文件服务器</h4><ol>
<li>功能<br>【1】 分为服务端和客户端，要求可以有多个客户端同时操作。<br>【2】 客户端可以查看服务器文件库中有什么文件。<br>【3】 客户端可以从文件库中下载文件到本地。<br>【4】 客户端可以上传一个本地文件到文件库。<br>【5】 使用print在客户端打印命令输入提示，引导操作</li>
</ol>
<h3 id="17-11-IO并发"><a href="#17-11-IO并发" class="headerlink" title="17.11 IO并发"></a>17.11 IO并发</h3><h4 id="（1）IO-分类"><a href="#（1）IO-分类" class="headerlink" title="（1）IO 分类"></a>（1）IO 分类</h4><blockquote>
<p>IO分类：阻塞IO ，非阻塞IO，IO多路复用，异步IO等</p>
</blockquote>
<h5 id="1-gt-阻塞IO"><a href="#1-gt-阻塞IO" class="headerlink" title="1&gt; 阻塞IO"></a>1&gt; 阻塞IO</h5><ol>
<li><p>定义：在执行IO操作时如果执行条件不满足则阻塞。阻塞IO是IO的默认形态。</p>
</li>
<li><p>效率：阻塞IO是效率很低的一种IO。但是由于逻辑简单所以是默认IO行为。</p>
</li>
<li><p>阻塞情况：</p>
</li>
</ol>
<ul>
<li><p>因为某种执行条件没有满足造成的函数阻塞<br>e.g.  accept   input   recv</p>
</li>
<li><p>处理IO的时间较长产生的阻塞状态<br>e.g. 网络传输，大文件读写</p>
</li>
</ul>
<h5 id="2-gt-非阻塞IO"><a href="#2-gt-非阻塞IO" class="headerlink" title="2&gt; 非阻塞IO"></a>2&gt; 非阻塞IO</h5><ol>
<li>定义 ：通过修改IO属性行为，使原本阻塞的IO变为非阻塞的状态。</li>
</ol>
<ul>
<li><p>设置套接字为非阻塞IO</p>
<blockquote>
<p>sockfd.setblocking(bool)<br> 功能：设置套接字为非阻塞IO<br> 参数：默认为True，表示套接字IO阻塞；设置为False则套接字IO变为非阻塞</p>
</blockquote>
</li>
<li><p>超时检测 ：设置一个最长阻塞时间，超过该时间后则不再阻塞等待。</p>
<blockquote>
<p>sockfd.settimeout(sec)<br>功能：设置套接字的超时时间<br>参数：设置的时间</p>
</blockquote>
</li>
</ul>
<h4 id="（2）IO多路复用"><a href="#（2）IO多路复用" class="headerlink" title="（2）IO多路复用"></a>（2）IO多路复用</h4><ol>
<li><p>定义</p>
<blockquote>
<p>同时监控多个IO事件，当哪个IO事件准备就绪就执行哪个IO事件。以此形成可以同时处理多个IO的行为，避免一个IO阻塞造成其他IO均无法执行，提高了IO执行效率。</p>
</blockquote>
</li>
<li><p>具体方案</p>
<blockquote>
<p>select方法 ： windows  linux  unix<br>poll方法： linux  unix<br>epoll方法： linux</p>
</blockquote>
</li>
</ol>
<h5 id="1-gt-select-方法"><a href="#1-gt-select-方法" class="headerlink" title="1&gt; select 方法"></a>1&gt; select 方法</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">rs, ws, xs=select(rlist, wlist, xlist[, timeout])</span><br><span class="line">功能: 监控IO事件，阻塞等待IO发生</span><br><span class="line">参数：rlist  列表  存放关注的等待发生的IO事件</span><br><span class="line">      wlist  列表  存放关注的要主动处理的IO事件</span><br><span class="line">      xlist  列表  存放关注的出现异常要处理的IO</span><br><span class="line">      timeout  超时时间</span><br><span class="line"></span><br><span class="line">返回值： rs 列表  rlist中准备就绪的IO</span><br><span class="line">        ws 列表  wlist中准备就绪的IO</span><br><span class="line">	xs 列表  xlist中准备就绪的IO</span><br></pre></td></tr></table></figure>

<p>select 实现tcp服务</p>
<pre><code>【1】 将关注的IO放入对应的监控类别列表
【2】通过select函数进行监控
【3】遍历select返回值列表，确定就绪IO事件
【4】处理发生的IO事件
</code></pre>
<blockquote>
<p>注意</p>
<blockquote>
<p>wlist中如果存在IO事件，则select立即返回给ws<br>处理IO过程中不要出现死循环占有服务端的情况<br>IO多路复用消耗资源较少，效率较高</p>
</blockquote>
</blockquote>
<h5 id="2-gt-poll方法"><a href="#2-gt-poll方法" class="headerlink" title="2&gt; poll方法"></a>2&gt; poll方法</h5><p><em><strong>代码实现: day12/poll_server.py</strong></em></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">p = select.poll()</span><br><span class="line">功能 ： 创建poll对象</span><br><span class="line">返回值： poll对象</span><br></pre></td></tr></table></figure>


<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">p.register(fd,event)   </span><br><span class="line">功能: 注册关注的IO事件</span><br><span class="line">参数：fd  要关注的IO</span><br><span class="line">      event  要关注的IO事件类型</span><br><span class="line">  	     常用类型：POLLIN  读IO事件（rlist）</span><br><span class="line">		      POLLOUT 写IO事件 (wlist)</span><br><span class="line">		      POLLERR 异常IO  （xlist）</span><br><span class="line">		      POLLHUP 断开连接 </span><br><span class="line">		  e.g. p.register(sockfd,POLLIN|POLLERR)</span><br><span class="line"></span><br><span class="line">p.unregister(fd)</span><br><span class="line">功能：取消对IO的关注</span><br><span class="line">参数：IO对象或者IO对象的fileno</span><br></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">events = p.poll()</span><br><span class="line">功能： 阻塞等待监控的IO事件发生</span><br><span class="line">返回值： 返回发生的IO</span><br><span class="line">        events格式  [(fileno,event),()....]</span><br><span class="line">        每个元组为一个就绪IO，元组第一项是该IO的fileno，第二项为该IO就绪的事件类型</span><br></pre></td></tr></table></figure>

<p>poll_server 步骤</p>
<pre><code>【1】 创建套接字
【2】 将套接字register
【3】 创建查找字典，并维护
【4】 循环监控IO发生
【5】 处理发生的IO
</code></pre>
<h5 id="3-gt-epoll方法"><a href="#3-gt-epoll方法" class="headerlink" title="3&gt; epoll方法"></a>3&gt; epoll方法</h5><ol>
<li><p>使用方法 ： 基本与poll相同</p>
<ul>
<li>生成对象改为 epoll()</li>
<li>将所有事件类型改为EPOLL类型</li>
</ul>
</li>
<li><p>epoll特点</p>
<ul>
<li>epoll 效率比select poll要高</li>
<li>epoll 监控IO数量比select要多</li>
<li>epoll 的触发方式比poll要多 （EPOLLET边缘触发）</li>
</ul>
</li>
</ol>
<h4 id="（3）协程技术"><a href="#（3）协程技术" class="headerlink" title="（3）协程技术"></a>（3）协程技术</h4><h5 id="1-gt-基础概念"><a href="#1-gt-基础概念" class="headerlink" title="1&gt; 基础概念"></a>1&gt; 基础概念</h5><ol>
<li><p>定义：纤程，微线程。是允许在不同入口点不同位置暂停或开始的计算机程序，简单来说，<strong>协程就是可以暂停执行的函数</strong>。</p>
</li>
<li><p>协程原理 ： 记录一个函数的上下文，协程调度切换时会将记录的上下文保存，在切换回来时进行调取，恢复原有的执行内容，以便从上一次执行位置继续执行。</p>
</li>
<li><p>协程优缺点</p>
</li>
</ol>
<blockquote>
<p>优点</p>
<blockquote>
<ol>
<li>协程完成多任务占用计算资源很少</li>
<li>由于协程的多任务切换在应用层完成，因此切换开销少</li>
<li>协程为单线程程序，无需进行共享资源同步互斥处理</li>
</ol>
</blockquote>
</blockquote>
<blockquote>
<p>缺点</p>
<blockquote>
<p>协程的本质是一个单线程，无法利用计算机多核资源</p>
</blockquote>
</blockquote>
<p>python3.5以后，使用标准库asyncio和async/await 语法来编写并发代码。asyncio库通过对异步IO行为的支持完成python的协程。虽然官方说asyncio是未来的开发方向，但是由于其生态不够丰富，大量的客户端不支持awaitable需要自己去封装，所以在使用上存在缺陷。更多时候只能使用已有的异步库（asyncio等），功能有限</p>
<hr>
<h5 id="2-gt-第三方协程模块"><a href="#2-gt-第三方协程模块" class="headerlink" title="2&gt; 第三方协程模块"></a>2&gt; 第三方协程模块</h5><ol>
<li> greenlet模块</li>
</ol>
<ul>
<li><p>安装 ： sudo  pip3 install greenlet</p>
</li>
<li><p>函数 </p>
</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">greenlet.greenlet(func)</span><br><span class="line">功能：创建协程对象</span><br><span class="line">参数：协程函数</span><br><span class="line"></span><br><span class="line">g.switch()</span><br><span class="line">功能：选择要执行的协程函数</span><br></pre></td></tr></table></figure>

<ol start="2">
<li>gevent模块                </li>
</ol>
<ul>
<li><p>安装：sudo pip3 install gevent</p>
</li>
<li><p>函数</p>
</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">gevent.spawn(func,argv)</span><br><span class="line">功能: 生成协程对象</span><br><span class="line">参数：func  协程函数</span><br><span class="line">     argv  给协程函数传参（不定参）</span><br><span class="line">返回值： 协程对象</span><br><span class="line"></span><br><span class="line">gevent.joinall(<span class="built_in">list</span>,[timeout])</span><br><span class="line">功能: 阻塞等待协程执行完毕</span><br><span class="line">参数：<span class="built_in">list</span>  协程对象列表</span><br><span class="line">     timeout 超时时间</span><br><span class="line"></span><br><span class="line">gevent.sleep(sec)</span><br><span class="line">功能: gevent睡眠阻塞</span><br><span class="line">参数：睡眠时间</span><br><span class="line"></span><br><span class="line">* gevent协程只有在遇到gevent指定的阻塞行为时才会自动在协程之间进行跳转</span><br><span class="line">如gevent.joinall(),gevent.sleep()带来的阻塞</span><br></pre></td></tr></table></figure>

<ul>
<li>monkey脚本</li>
</ul>
<blockquote>
<p>作用：在gevent协程中，协程只有遇到gevent指定类型的阻塞才能跳转到其他协程，因此，我们希望将普通的IO阻塞行为转换为可以触发gevent协程跳转的阻塞，以提高执行效率。</p>
</blockquote>
<blockquote>
<p>转换方法：gevent 提供了一个脚本程序monkey,可以修改底层解释IO阻塞的行为，将很多普通阻塞转换为gevent阻塞。</p>
</blockquote>
<blockquote>
<p>使用方法</p>
</blockquote>
<blockquote>
<blockquote>
<p>【1】 导入monkey</p>
</blockquote>
</blockquote>
<pre><code>    from gevent  import monkey
</code></pre>
<blockquote>
<blockquote>
<p>【2】 运行相应的脚本，例如转换socket中所有阻塞</p>
</blockquote>
</blockquote>
<pre><code>    monkey.patch_socket()
</code></pre>
<blockquote>
<blockquote>
<p>【3】 如果将所有可转换的IO阻塞全部转换则运行all</p>
</blockquote>
</blockquote>
<pre><code>    monkey.patch_all()
</code></pre>
<blockquote>
<blockquote>
<p>【4】 注意：脚本运行函数需要在对应模块导入前执行</p>
</blockquote>
</blockquote>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a href="mailto:1530268781@qq.com">Durango</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a href="https://www.durango.cn/2022/06/27/Python%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/">https://www.durango.cn/2022/06/27/Python学习笔记/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="https://www.durango.cn" target="_blank">Welcome to Durango's blog!</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/Python/">Python</a><a class="post-meta__tags" href="/tags/%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1/">面向对象</a><a class="post-meta__tags" href="/tags/%E8%BF%AD%E4%BB%A3%E5%99%A8/">迭代器</a><a class="post-meta__tags" href="/tags/%E7%94%9F%E6%88%90%E5%99%A8/">生成器</a><a class="post-meta__tags" href="/tags/%E8%A3%85%E9%A5%B0%E5%99%A8/">装饰器</a></div><div class="post_share"><div class="social-share" data-image="/img/python_cover1.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/social-share.js/dist/js/social-share.min.js" defer></script></div></div><div class="post-reward"><div class="reward-button button--animated"><i class="fas fa-qrcode"></i> 打赏</div><div class="reward-main"><ul class="reward-all"><li class="reward-item"><a href="/img/wechat.png" target="_blank"><img class="post-qr-code-img" src="/img/wechat.png" alt="微信"/></a><div class="post-qr-code-desc">微信</div></li><li class="reward-item"><a href="/img/alipay.png" target="_blank"><img class="post-qr-code-img" src="/img/alipay.png" alt="支付宝"/></a><div class="post-qr-code-desc">支付宝</div></li></ul></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2022/08/06/Numpy%E6%95%99%E7%A8%8B/"><img class="prev-cover" src="/img/numpy_cover.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">Numpy教程</div></div></a></div><div class="next-post pull-right"><a href="/2022/04/15/Matlab%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"><img class="next-cover" src="/img/matlab_cover.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">Matlab学习笔记</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span> 相关推荐</span></div><div class="relatedPosts-list"><div><a href="/2022/01/07/Python-collections模块/" title="Python-collections模块"><img class="cover" src="/img/python_cover.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2022-01-07</div><div class="title">Python-collections模块</div></div></a></div><div><a href="/2022/02/19/Python-lambda表达式/" title="Python-lambda表达式"><img class="cover" src="/img/python_cover.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2022-02-19</div><div class="title">Python-lambda表达式</div></div></a></div><div><a href="/2022/03/11/获取前k大的索引/" title="获取前k大的索引"><img class="cover" src="/img/python_cover1.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2022-03-11</div><div class="title">获取前k大的索引</div></div></a></div></div></div><hr/><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="fas fa-comments fa-fw"></i><span> 评论</span></div></div><div class="comment-wrap"><div><div class="vcomment" id="vcomment"></div></div></div></div></div><div class="aside-content" id="aside-content"><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-Python%E7%AE%80%E4%BB%8B"><span class="toc-text">1. Python简介</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-1-Python-%E5%AE%9A%E4%B9%89"><span class="toc-text">1.1 Python 定义</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-2-Python%E7%A8%8B%E5%BA%8F%E7%9A%84%E6%89%A7%E8%A1%8C%E6%96%B9%E5%BC%8F"><span class="toc-text">1.2 Python程序的执行方式</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%EF%BC%881%EF%BC%89%E4%BA%A4%E4%BA%92%E5%BC%8F"><span class="toc-text">（1）交互式</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%EF%BC%882%EF%BC%89%E6%96%87%E4%BB%B6%E5%BC%8F"><span class="toc-text">（2）文件式</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-3-%E6%89%A7%E8%A1%8C%E8%BF%87%E7%A8%8B"><span class="toc-text">1.3 执行过程</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%EF%BC%881%EF%BC%89%E7%BC%96%E8%AF%91"><span class="toc-text">（1）编译</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%EF%BC%882%EF%BC%89%E8%A7%A3%E9%87%8A"><span class="toc-text">（2）解释</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%EF%BC%883%EF%BC%89Python%E6%98%AF%E8%A7%A3%E9%87%8A%E5%9E%8B%E8%AF%AD%E8%A8%80"><span class="toc-text">（3）Python是解释型语言</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-4-%E8%A7%A3%E9%87%8A%E5%99%A8%E7%B1%BB%E5%9E%8B"><span class="toc-text">1.4 解释器类型</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-%E6%95%B0%E6%8D%AE%E5%9F%BA%E6%9C%AC%E8%BF%90%E7%AE%97"><span class="toc-text">2. 数据基本运算</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#2-1-%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86"><span class="toc-text">2.1 基础知识</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%EF%BC%881%EF%BC%89-pycharm%E5%B8%B8%E7%94%A8%E5%BF%AB%E6%8D%B7%E9%94%AE"><span class="toc-text">（1） pycharm常用快捷键</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%EF%BC%882%EF%BC%89%E6%B3%A8%E9%87%8A"><span class="toc-text">（2）注释</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-2-%E6%95%B0%E6%8D%AE"><span class="toc-text">2.2 数据</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-3-%E8%BF%90%E7%AE%97"><span class="toc-text">2.3 运算</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%EF%BC%881%EF%BC%89-%E7%B1%BB%E5%9E%8B%E8%BD%AC%E6%8D%A2"><span class="toc-text">（1） 类型转换</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%EF%BC%882%EF%BC%89%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="toc-text">（2）运算符</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%EF%BC%881%EF%BC%89%E7%AE%97%E6%9C%AF%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="toc-text">（1）算术运算符</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%EF%BC%882%EF%BC%89-%E5%A2%9E%E5%BC%BA%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="toc-text">（2） 增强运算符</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%EF%BC%883%EF%BC%89-%E6%AF%94%E8%BE%83%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="toc-text">（3） 比较运算符</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%EF%BC%884%EF%BC%89-%E9%80%BB%E8%BE%91%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="toc-text">（4） 逻辑运算符</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%EF%BC%885%EF%BC%89%E8%BA%AB%E4%BB%BD%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="toc-text">（5）身份运算符</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%EF%BC%886%EF%BC%89%E4%BC%98%E5%85%88%E7%BA%A7"><span class="toc-text">（6）优先级</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-%E8%AF%AD%E5%8F%A5"><span class="toc-text">3. 语句</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#3-1-%E6%9D%A1%E4%BB%B6%E8%AF%AD%E5%8F%A5"><span class="toc-text">3.1 条件语句</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%EF%BC%881%EF%BC%89if-elif-%E8%AF%AD%E5%8F%A5"><span class="toc-text">（1）if elif 语句</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%EF%BC%882%EF%BC%89%E7%9C%9F%E5%80%BC%E8%A1%A8%E8%BE%BE%E5%BC%8F"><span class="toc-text">（2）真值表达式</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%EF%BC%883%EF%BC%89%E6%9D%A1%E4%BB%B6%E8%A1%A8%E8%BE%BE%E5%BC%8F"><span class="toc-text">（3）条件表达式</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-2-%E5%BE%AA%E7%8E%AF%E8%AF%AD%E5%8F%A5"><span class="toc-text">3.2 循环语句</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%EF%BC%881%EF%BC%89while%E8%AF%AD%E5%8F%A5"><span class="toc-text">（1）while语句</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%EF%BC%882%EF%BC%89for-%E8%AF%AD%E5%8F%A5"><span class="toc-text">（2）for 语句</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%EF%BC%883%EF%BC%89range-%E5%87%BD%E6%95%B0"><span class="toc-text">（3）range 函数</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-3-%E8%B7%B3%E8%BD%AC%E8%AF%AD%E5%8F%A5"><span class="toc-text">3.3 跳转语句</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%EF%BC%881%EF%BC%89break-%E8%AF%AD%E5%8F%A5"><span class="toc-text">（1）break 语句</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%EF%BC%882%EF%BC%89continue-%E8%AF%AD%E5%8F%A5"><span class="toc-text">（2）continue 语句</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-Python%E5%9F%BA%E7%A1%80%E5%AE%B9%E5%99%A8"><span class="toc-text">4. Python基础容器</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-%E5%87%BD%E6%95%B0-function"><span class="toc-text">5. 函数 function</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#5-1-%E5%AE%9A%E4%B9%89"><span class="toc-text">5.1 定义</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-2-%E5%9F%BA%E7%A1%80%E8%AF%AD%E6%B3%95"><span class="toc-text">5.2 基础语法</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%EF%BC%881%EF%BC%89%E5%AE%9A%E4%B9%89%E5%87%BD%E6%95%B0"><span class="toc-text">（1）定义函数</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%EF%BC%882%EF%BC%89%E8%B0%83%E7%94%A8%E5%87%BD%E6%95%B0"><span class="toc-text">（2）调用函数</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%EF%BC%883%EF%BC%89%E8%BF%94%E5%9B%9E%E5%80%BC"><span class="toc-text">（3）返回值</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-3-%E5%8F%AF%E5%8F%98%EF%BC%8F%E4%B8%8D%E5%8F%AF%E5%8F%98%E7%B1%BB%E5%9E%8B"><span class="toc-text">5.3 可变／不可变类型</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-%E4%B8%8D%E5%8F%AF%E5%8F%98%E7%B1%BB%E5%9E%8B%E5%8F%82%E6%95%B0"><span class="toc-text">(1) 不可变类型参数:</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-%E5%8F%AF%E5%8F%98%E7%B1%BB%E5%9E%8B%E5%8F%82%E6%95%B0"><span class="toc-text">(2) 可变类型参数:</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-%E4%BC%A0%E5%8F%82%E8%AF%B4%E6%98%8E%EF%BC%9A"><span class="toc-text">(3) 传参说明：</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-4-%E5%87%BD%E6%95%B0%E5%8F%82%E6%95%B0"><span class="toc-text">5.4 函数参数</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%EF%BC%881%EF%BC%89%E5%AE%9E%E5%8F%82%E4%BC%A0%E9%80%92%E6%96%B9%E5%BC%8F"><span class="toc-text">（1）实参传递方式</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E2%91%A0%E4%BD%8D%E7%BD%AE%E4%BC%A0%E5%8F%82"><span class="toc-text">①位置传参</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E2%91%A1%E5%BA%8F%E5%88%97%E4%BC%A0%E5%8F%82"><span class="toc-text">②序列传参</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E2%91%A2%E5%85%B3%E9%94%AE%E5%AD%97%E4%BC%A0%E5%8F%82"><span class="toc-text">③关键字传参</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E2%91%A3%E5%AD%97%E5%85%B8%E5%85%B3%E9%94%AE%E5%AD%97%E4%BC%A0%E5%8F%82"><span class="toc-text">④字典关键字传参</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%EF%BC%882%EF%BC%89%E5%BD%A2%E5%8F%82%E5%AE%9A%E4%B9%89%E6%96%B9%E5%BC%8F"><span class="toc-text">（2）形参定义方式</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E2%91%A0%E7%BC%BA%E7%9C%81%E5%BD%A2%E5%8F%82"><span class="toc-text">①缺省形参</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E2%91%A1%E4%BD%8D%E7%BD%AE%E5%BD%A2%E5%8F%82"><span class="toc-text">②位置形参</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E2%91%A2%E5%91%BD%E5%90%8D%E5%85%B3%E9%94%AE%E5%AD%97%E5%BD%A2%E5%8F%82"><span class="toc-text">③命名关键字形参</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E2%91%A3%E6%98%9F%E5%8F%B7%E5%85%83%E7%BB%84%E5%BD%A2%E5%8F%82"><span class="toc-text">④星号元组形参</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E2%91%A4%E5%8F%8C%E6%98%9F%E5%8F%B7%E5%AD%97%E5%85%B8%E5%BD%A2%E5%8F%82"><span class="toc-text">⑤双星号字典形参</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E2%91%A5%E5%8F%82%E6%95%B0%E8%87%AA%E5%B7%A6%E8%87%B3%E5%8F%B3%E7%9A%84%E9%A1%BA%E5%BA%8F"><span class="toc-text">⑥参数自左至右的顺序</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#6-%E4%BD%9C%E7%94%A8%E5%9F%9F"><span class="toc-text">6. 作用域</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#6-1-%E5%AE%9A%E4%B9%89"><span class="toc-text">6.1 定义</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-2-%E5%88%86%E7%B1%BB"><span class="toc-text">6.2 分类</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-3-%E5%8F%98%E9%87%8F%E5%90%8D%E7%9A%84%E6%9F%A5%E6%89%BE%E8%A7%84%E5%88%99"><span class="toc-text">6.3 变量名的查找规则</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-4-%E5%B1%80%E9%83%A8%E5%8F%98%E9%87%8F"><span class="toc-text">6.4 局部变量</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-5-%E5%85%A8%E5%B1%80%E5%8F%98%E9%87%8F"><span class="toc-text">6.5 全局变量</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-6-global-%E8%AF%AD%E5%8F%A5"><span class="toc-text">6.6 global 语句</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-7-nonlocal-%E8%AF%AD%E5%8F%A5"><span class="toc-text">6.7 nonlocal 语句</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#7-%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%AE%80%E4%BB%8B"><span class="toc-text">7. 面向对象简介</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#7-1-%E9%9D%A2%E5%90%91%E8%BF%87%E7%A8%8B"><span class="toc-text">7.1 面向过程</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-2-%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1"><span class="toc-text">7.2 面向对象</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#8-%E7%B1%BB%E5%92%8C%E5%AF%B9%E8%B1%A1"><span class="toc-text">8. 类和对象</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#8-1-%E8%AF%AD%E6%B3%95"><span class="toc-text">8.1 语法</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%EF%BC%881%EF%BC%89%E5%AE%9A%E4%B9%89%E7%B1%BB"><span class="toc-text">（1）定义类</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%EF%BC%882%EF%BC%89%E5%AE%9E%E4%BE%8B%E5%8C%96%E5%AF%B9%E8%B1%A1"><span class="toc-text">（2）实例化对象</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-2-%E5%AE%9E%E4%BE%8B%E6%88%90%E5%91%98"><span class="toc-text">2.2 实例成员</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%EF%BC%881%EF%BC%89-%E5%AE%9E%E4%BE%8B%E5%8F%98%E9%87%8F"><span class="toc-text">（1） 实例变量</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%EF%BC%882%EF%BC%89%E5%AE%9E%E4%BE%8B%E6%96%B9%E6%B3%95"><span class="toc-text">（2）实例方法</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-3-%E7%B1%BB%E6%88%90%E5%91%98"><span class="toc-text">2.3 类成员</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%EF%BC%881%EF%BC%89%E7%B1%BB%E5%8F%98%E9%87%8F"><span class="toc-text">（1）类变量</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%EF%BC%882%EF%BC%89-%E7%B1%BB%E6%96%B9%E6%B3%95"><span class="toc-text">（2） 类方法</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-4-%E9%9D%99%E6%80%81%E6%96%B9%E6%B3%95"><span class="toc-text">2.4 静态方法</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#9-%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E4%B8%89%E5%A4%A7%E7%89%B9%E5%BE%81"><span class="toc-text">9. 面向对象三大特征</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#9-1-%E5%B0%81%E8%A3%85"><span class="toc-text">9.1 封装</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%EF%BC%881%EF%BC%89%E6%95%B0%E6%8D%AE%E8%A7%92%E5%BA%A6"><span class="toc-text">（1）数据角度</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%EF%BC%882%EF%BC%89%E8%A1%8C%E4%B8%BA%E8%A7%92%E5%BA%A6"><span class="toc-text">（2）行为角度</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%EF%BC%883%EF%BC%89%E8%AE%BE%E8%AE%A1%E8%A7%92%E5%BA%A6"><span class="toc-text">（3）设计角度</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%EF%BC%884%EF%BC%89%E7%A7%81%E6%9C%89%E6%88%90%E5%91%98%EF%BC%9A"><span class="toc-text">（4）私有成员：</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%EF%BC%885%EF%BC%89%E5%B1%9E%E6%80%A7-property"><span class="toc-text">（5）属性@property</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#9-2-%E7%BB%A7%E6%89%BF"><span class="toc-text">9.2 继承</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%EF%BC%881%EF%BC%89%E7%BB%A7%E6%89%BF%E6%96%B9%E6%B3%95"><span class="toc-text">（1）继承方法</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%EF%BC%882%EF%BC%89%E5%86%85%E7%BD%AE%E5%87%BD%E6%95%B0"><span class="toc-text">（2）内置函数</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%EF%BC%883%EF%BC%89%E7%BB%A7%E6%89%BF%E6%95%B0%E6%8D%AE"><span class="toc-text">（3）继承数据</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%EF%BC%884%EF%BC%89-%E5%AE%9A%E4%B9%89"><span class="toc-text">（4） 定义</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%EF%BC%885%EF%BC%89%E5%A4%9A%E7%BB%A7%E6%89%BF"><span class="toc-text">（5）多继承</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#9-3-%E5%A4%9A%E6%80%81"><span class="toc-text">9.3 多态</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%EF%BC%881%EF%BC%89%E9%87%8D%E5%86%99%E5%86%85%E7%BD%AE%E5%87%BD%E6%95%B0"><span class="toc-text">（1）重写内置函数</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%EF%BC%882%EF%BC%89%E9%87%8D%E5%86%99%E8%87%AA%E5%AE%9A%E4%B9%89%E5%87%BD%E6%95%B0"><span class="toc-text">（2）重写自定义函数</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#10-%E7%A8%8B%E5%BA%8F%E7%BB%93%E6%9E%84"><span class="toc-text">10. 程序结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#10-1-%E6%A8%A1%E5%9D%97-Module"><span class="toc-text">10.1 模块 Module</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%EF%BC%881%EF%BC%89%E5%AE%9A%E4%B9%89"><span class="toc-text">（1）定义</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%EF%BC%882%EF%BC%89%E4%BD%9C%E7%94%A8"><span class="toc-text">（2）作用</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%EF%BC%883%EF%BC%89%E5%AF%BC%E5%85%A5"><span class="toc-text">（3）导入</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%EF%BC%884%EF%BC%89%E6%A8%A1%E5%9D%97%E5%8F%98%E9%87%8F"><span class="toc-text">（4）模块变量</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%EF%BC%885%EF%BC%89-%E5%8A%A0%E8%BD%BD%E8%BF%87%E7%A8%8B"><span class="toc-text">（5） 加载过程</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%EF%BC%886%EF%BC%89%E5%88%86%E7%B1%BB"><span class="toc-text">（6）分类</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#10-2-%E5%8C%85package"><span class="toc-text">10.2 包package</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%EF%BC%881%EF%BC%89%E5%AE%9A%E4%B9%89-1"><span class="toc-text">（1）定义</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%EF%BC%882%EF%BC%89-init-py%E7%9A%84%E4%BD%9C%E7%94%A8"><span class="toc-text">（2）__init.py的作用</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%EF%BC%883%EF%BC%89%E5%AF%BC%E5%85%A5-1"><span class="toc-text">（3）导入</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#11-%E5%BC%82%E5%B8%B8%E5%A4%84%E7%90%86"><span class="toc-text">11. 异常处理</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#11-1-%E5%BC%82%E5%B8%B8"><span class="toc-text">11.1 异常</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%EF%BC%881%EF%BC%89%E5%AE%9A%E4%B9%89-2"><span class="toc-text">（1）定义</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%EF%BC%882%EF%BC%89%E7%8E%B0%E8%B1%A1"><span class="toc-text">（2）现象</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%EF%BC%883%EF%BC%89%E5%B8%B8%E8%A7%81%E5%BC%82%E5%B8%B8%E7%B1%BB%E5%9E%8B"><span class="toc-text">（3）常见异常类型</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#11-2-%E5%A4%84%E7%90%86"><span class="toc-text">11.2 处理</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%EF%BC%881%EF%BC%89%E8%AF%AD%E6%B3%95%EF%BC%9A"><span class="toc-text">（1）语法：</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%EF%BC%882%EF%BC%89%E4%BD%9C%E7%94%A8-1"><span class="toc-text">（2）作用</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%EF%BC%883%EF%BC%89%E8%AF%B4%E6%98%8E"><span class="toc-text">（3）说明</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#11-3-raise-%E8%AF%AD%E5%8F%A5"><span class="toc-text">11.3 raise 语句</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%EF%BC%881%EF%BC%89-%E4%BD%9C%E7%94%A8"><span class="toc-text">（1） 作用</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%EF%BC%882%EF%BC%89%E7%9B%AE%E7%9A%84"><span class="toc-text">（2）目的</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#12-%E8%BF%AD%E4%BB%A3%E5%99%A8iterator"><span class="toc-text">12. 迭代器iterator</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#12-1-%E5%8F%AF%E8%BF%AD%E4%BB%A3%E5%AF%B9%E8%B1%A1iterabale"><span class="toc-text">12.1 可迭代对象iterabale</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%EF%BC%881%EF%BC%89%E5%AE%9A%E4%B9%89-3"><span class="toc-text">（1）定义</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%EF%BC%882%EF%BC%89%E8%AF%AD%E6%B3%95"><span class="toc-text">（2）语法</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%EF%BC%883%EF%BC%89%E5%8E%9F%E7%90%86"><span class="toc-text">（3）原理</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%EF%BC%884%EF%BC%89%E6%BC%94%E7%A4%BA"><span class="toc-text">（4）演示</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#12-2-%E8%BF%AD%E4%BB%A3%E5%99%A8%E5%AF%B9%E8%B1%A1iterator"><span class="toc-text">12.2 迭代器对象iterator</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%EF%BC%881%EF%BC%89%E5%AE%9A%E4%B9%89-4"><span class="toc-text">（1）定义</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%EF%BC%882%EF%BC%89%E8%AF%AD%E6%B3%95-1"><span class="toc-text">（2）语法</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%EF%BC%883%EF%BC%89%E8%AF%B4%E6%98%8E-1"><span class="toc-text">（3）说明</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%EF%BC%884%EF%BC%89%E4%BD%9C%E7%94%A8"><span class="toc-text">（4）作用</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%EF%BC%885%EF%BC%89%E6%BC%94%E7%A4%BA%EF%BC%9A"><span class="toc-text">（5）演示：</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#13-%E7%94%9F%E6%88%90%E5%99%A8generator"><span class="toc-text">13. 生成器generator</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#13-1-%E7%94%9F%E6%88%90%E5%99%A8%E5%87%BD%E6%95%B0"><span class="toc-text">13.1 生成器函数</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%EF%BC%881%EF%BC%89%E5%AE%9A%E4%B9%89-5"><span class="toc-text">（1）定义</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%EF%BC%882%EF%BC%89%E8%AF%AD%E6%B3%95-2"><span class="toc-text">（2）语法</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%EF%BC%883%EF%BC%89%E8%AF%B4%E6%98%8E-2"><span class="toc-text">（3）说明</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%EF%BC%884%EF%BC%89%E6%89%A7%E8%A1%8C%E8%BF%87%E7%A8%8B%EF%BC%9A"><span class="toc-text">（4）执行过程：</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%EF%BC%885%EF%BC%89%E5%8E%9F%E7%90%86"><span class="toc-text">（5）原理</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#13-2-%E5%86%85%E7%BD%AE%E7%94%9F%E6%88%90%E5%99%A8"><span class="toc-text">13.2 内置生成器</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%EF%BC%881%EF%BC%89%E6%9E%9A%E4%B8%BE%E5%87%BD%E6%95%B0enumerate"><span class="toc-text">（1）枚举函数enumerate</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%EF%BC%882%EF%BC%89zip"><span class="toc-text">（2）zip</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#13-3-%E7%94%9F%E6%88%90%E5%99%A8%E8%A1%A8%E8%BE%BE%E5%BC%8F"><span class="toc-text">13.3 生成器表达式</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#14-%E5%87%BD%E6%95%B0%E5%BC%8F%E7%BC%96%E7%A8%8B"><span class="toc-text">14. 函数式编程</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#14-1-%E5%87%BD%E6%95%B0%E4%BD%9C%E4%B8%BA%E5%8F%82%E6%95%B0"><span class="toc-text">14.1 函数作为参数</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%EF%BC%881%EF%BC%89lambda-%E8%A1%A8%E8%BE%BE%E5%BC%8F"><span class="toc-text">（1）lambda 表达式</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%EF%BC%882%EF%BC%89%E5%86%85%E7%BD%AE%E9%AB%98%E9%98%B6%E5%87%BD%E6%95%B0"><span class="toc-text">（2）内置高阶函数</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#14-2-%E5%87%BD%E6%95%B0%E4%BD%9C%E4%B8%BA%E8%BF%94%E5%9B%9E%E5%80%BC"><span class="toc-text">14.2 函数作为返回值</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%EF%BC%881%EF%BC%89%E9%97%AD%E5%8C%85"><span class="toc-text">（1）闭包</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%EF%BC%882%EF%BC%89%E5%87%BD%E6%95%B0%E8%A3%85%E9%A5%B0%E5%99%A8decorator"><span class="toc-text">（2）函数装饰器decorator</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#15-%E6%96%87%E4%BB%B6%E6%93%8D%E4%BD%9C"><span class="toc-text">15. 文件操作</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#15-1-%E6%96%87%E4%BB%B6%E4%B8%8E%E5%AD%97%E8%8A%82%E4%B8%B2"><span class="toc-text">15.1 文件与字节串</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%EF%BC%881%EF%BC%89%E6%96%87%E4%BB%B6"><span class="toc-text">（1）文件</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%EF%BC%882%EF%BC%89%E5%AD%97%E8%8A%82%E4%B8%B2%EF%BC%88bytes%EF%BC%89"><span class="toc-text">（2）字节串（bytes）</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#15-2-%E6%96%87%E4%BB%B6%E8%AF%BB%E5%86%99"><span class="toc-text">15.2 文件读写</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%EF%BC%881%EF%BC%89%E6%89%93%E5%BC%80%E6%96%87%E4%BB%B6"><span class="toc-text">（1）打开文件</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%EF%BC%882%EF%BC%89%E8%AF%BB%E5%8F%96%E6%96%87%E4%BB%B6"><span class="toc-text">（2）读取文件</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%EF%BC%883%EF%BC%89%E5%86%99%E5%85%A5%E6%96%87%E4%BB%B6"><span class="toc-text">（3）写入文件</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%EF%BC%884%EF%BC%89%E5%85%B3%E9%97%AD%E6%96%87%E4%BB%B6"><span class="toc-text">（4）关闭文件</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%EF%BC%885%EF%BC%89with%E6%93%8D%E4%BD%9C"><span class="toc-text">（5）with操作</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#15-2-%E5%85%B6%E4%BB%96%E6%93%8D%E4%BD%9C"><span class="toc-text">15.2 其他操作</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%EF%BC%881%EF%BC%89%E5%88%B7%E6%96%B0%E7%BC%93%E5%86%B2%E5%8C%BA"><span class="toc-text">（1）刷新缓冲区</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%EF%BC%882%EF%BC%89%E6%96%87%E4%BB%B6%E5%81%8F%E7%A7%BB%E9%87%8F"><span class="toc-text">（2）文件偏移量</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%EF%BC%883%EF%BC%89%E6%96%87%E4%BB%B6%E6%8F%8F%E8%BF%B0%E7%AC%A6"><span class="toc-text">（3）文件描述符</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#15-3-%E6%96%87%E4%BB%B6%E7%AE%A1%E7%90%86%E5%87%BD%E6%95%B0"><span class="toc-text">15.3 文件管理函数</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#16-%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B"><span class="toc-text">16. 网络编程</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#16-1-%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B%E5%9F%BA%E7%A1%80"><span class="toc-text">16.1 网络编程基础</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%EF%BC%881%EF%BC%89OSI%E4%B8%83%E5%B1%82%E6%A8%A1%E5%9E%8B"><span class="toc-text">（1）OSI七层模型</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%EF%BC%882%EF%BC%89%E5%9B%9B%E5%B1%82%E6%A8%A1%E5%9E%8B%EF%BC%88TCP-IP%E6%A8%A1%E5%9E%8B%EF%BC%89"><span class="toc-text">（2）四层模型（TCP&#x2F;IP模型）</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#1-gt-%E6%95%B0%E6%8D%AE%E4%BC%A0%E8%BE%93%E8%BF%87%E7%A8%8B"><span class="toc-text">1&gt; 数据传输过程</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#2-gt-%E7%BD%91%E7%BB%9C%E5%8D%8F%E8%AE%AE"><span class="toc-text">2&gt; 网络协议</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#3-gt-%E7%BD%91%E7%BB%9C%E5%9F%BA%E7%A1%80%E6%A6%82%E5%BF%B5"><span class="toc-text">3&gt; 网络基础概念</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%EF%BC%883%EF%BC%89%E4%BC%A0%E8%BE%93%E5%B1%82%E6%9C%8D%E5%8A%A1"><span class="toc-text">（3）传输层服务</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#1-gt-%E5%9F%BA%E4%BA%8ETCP%E5%8D%8F%E8%AE%AE%E7%9A%84%E6%95%B0%E6%8D%AE%E4%BC%A0%E8%BE%93"><span class="toc-text">1&gt;  基于TCP协议的数据传输</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#2-gt-%E5%9F%BA%E4%BA%8EUDP%E5%8D%8F%E8%AE%AE%E7%9A%84%E6%95%B0%E6%8D%AE%E4%BC%A0%E8%BE%93"><span class="toc-text">2 &gt; 基于UDP协议的数据传输</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#16-2-socket%E5%A5%97%E6%8E%A5%E5%AD%97%E7%BC%96%E7%A8%8B"><span class="toc-text">16.2 socket套接字编程</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%EF%BC%881%EF%BC%89%E5%A5%97%E6%8E%A5%E5%AD%97%E4%BB%8B%E7%BB%8D"><span class="toc-text">（1）套接字介绍</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%EF%BC%882%EF%BC%89tcp%E5%A5%97%E6%8E%A5%E5%AD%97%E7%BC%96%E7%A8%8B"><span class="toc-text">（2）tcp套接字编程</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#1-gt-%E6%9C%8D%E5%8A%A1%E7%AB%AF%E6%B5%81%E7%A8%8B"><span class="toc-text">1&gt; 服务端流程</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#2-gt-%E5%AE%A2%E6%88%B7%E7%AB%AF%E6%B5%81%E7%A8%8B"><span class="toc-text">2&gt; 客户端流程</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#3-gt-tcp-%E5%A5%97%E6%8E%A5%E5%AD%97%E6%95%B0%E6%8D%AE%E4%BC%A0%E8%BE%93%E7%89%B9%E7%82%B9"><span class="toc-text">3&gt; tcp 套接字数据传输特点</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#4-gt-%E7%BD%91%E7%BB%9C%E6%94%B6%E5%8F%91%E7%BC%93%E5%86%B2%E5%8C%BA"><span class="toc-text">4&gt; 网络收发缓冲区</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#5-gt-tcp%E7%B2%98%E5%8C%85"><span class="toc-text">5&gt; tcp粘包</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%EF%BC%883%EF%BC%89UDP%E5%A5%97%E6%8E%A5%E5%AD%97%E7%BC%96%E7%A8%8B"><span class="toc-text">（3）UDP套接字编程</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#1-gt-%E6%9C%8D%E5%8A%A1%E7%AB%AF%E6%B5%81%E7%A8%8B-1"><span class="toc-text">1&gt; 服务端流程</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#2-gt-%E5%AE%A2%E6%88%B7%E7%AB%AF%E6%B5%81%E7%A8%8B-1"><span class="toc-text">2&gt; 客户端流程</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%EF%BC%884%EF%BC%89socket%E5%A5%97%E6%8E%A5%E5%AD%97%E5%B1%9E%E6%80%A7"><span class="toc-text">（4）socket套接字属性</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#16-3-struct%E6%A8%A1%E5%9D%97%E8%BF%9B%E8%A1%8C%E6%95%B0%E6%8D%AE%E6%89%93%E5%8C%85"><span class="toc-text">16.3 struct模块进行数据打包</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#16-4-HTTP%E4%BC%A0%E8%BE%93"><span class="toc-text">16.4 HTTP传输</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%EF%BC%881%EF%BC%89HTTP%E5%8D%8F%E8%AE%AE-%EF%BC%88%E8%B6%85%E6%96%87%E6%9C%AC%E4%BC%A0%E8%BE%93%E5%8D%8F%E8%AE%AE%EF%BC%89"><span class="toc-text">（1）HTTP协议 （超文本传输协议）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%EF%BC%882%EF%BC%89HTTP%E8%AF%B7%E6%B1%82%EF%BC%88request%EF%BC%89"><span class="toc-text">（2）HTTP请求（request）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%EF%BC%883%EF%BC%89http%E5%93%8D%E5%BA%94%EF%BC%88response%EF%BC%89"><span class="toc-text">（3）http响应（response）</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#17-%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B"><span class="toc-text">17. 并发编程</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#17-1-%E5%A4%9A%E4%BB%BB%E5%8A%A1%E7%BC%96%E7%A8%8B"><span class="toc-text">17.1 多任务编程</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#17-2-%E8%BF%9B%E7%A8%8B%EF%BC%88process%EF%BC%89"><span class="toc-text">17.2 进程（process）</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%EF%BC%881%EF%BC%89%E8%BF%9B%E7%A8%8B%E7%90%86%E8%AE%BA%E5%9F%BA%E7%A1%80"><span class="toc-text">（1）进程理论基础</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%AE%9A%E4%B9%89-%EF%BC%9A-%E7%A8%8B%E5%BA%8F%E5%9C%A8%E8%AE%A1%E7%AE%97%E6%9C%BA%E4%B8%AD%E7%9A%84%E4%B8%80%E6%AC%A1%E8%BF%90%E8%A1%8C%E3%80%82"><span class="toc-text">定义 ： 程序在计算机中的一次运行。</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E7%B3%BB%E7%BB%9F%E4%B8%AD%E5%A6%82%E4%BD%95%E4%BA%A7%E7%94%9F%E4%B8%80%E4%B8%AA%E8%BF%9B%E7%A8%8B"><span class="toc-text">系统中如何产生一个进程</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E8%BF%9B%E7%A8%8B%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5"><span class="toc-text">进程基本概念</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#17-3-%E5%9F%BA%E4%BA%8Efork%E7%9A%84%E5%A4%9A%E8%BF%9B%E7%A8%8B%E7%BC%96%E7%A8%8B"><span class="toc-text">17.3 基于fork的多进程编程</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%EF%BC%881%EF%BC%89fork%E4%BD%BF%E7%94%A8"><span class="toc-text">（1）fork使用</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%EF%BC%882%EF%BC%89%E8%BF%9B%E7%A8%8B%E7%9B%B8%E5%85%B3%E5%87%BD%E6%95%B0"><span class="toc-text">（2）进程相关函数</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%EF%BC%883%EF%BC%89%E5%AD%A4%E5%84%BF%E5%92%8C%E5%83%B5%E5%B0%B8"><span class="toc-text">（3）孤儿和僵尸</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%EF%BC%884%EF%BC%89%E7%BE%A4%E8%81%8A%E8%81%8A%E5%A4%A9%E5%AE%A4"><span class="toc-text">（4）群聊聊天室</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#17-4-multiprocessing-%E6%A8%A1%E5%9D%97%E5%88%9B%E5%BB%BA%E8%BF%9B%E7%A8%8B"><span class="toc-text">17.4 multiprocessing 模块创建进程</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%EF%BC%881%EF%BC%89%E8%BF%9B%E7%A8%8B%E5%88%9B%E5%BB%BA%E6%96%B9%E6%B3%95"><span class="toc-text">（1）进程创建方法</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%B5%81%E7%A8%8B%E7%89%B9%E7%82%B9"><span class="toc-text">流程特点</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%9F%BA%E6%9C%AC%E6%8E%A5%E5%8F%A3%E4%BD%BF%E7%94%A8"><span class="toc-text">基本接口使用</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E8%BF%9B%E7%A8%8B%E5%AF%B9%E8%B1%A1%E5%B1%9E%E6%80%A7"><span class="toc-text">进程对象属性</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%EF%BC%882%EF%BC%89%E8%87%AA%E5%AE%9A%E4%B9%89%E8%BF%9B%E7%A8%8B%E7%B1%BB"><span class="toc-text">（2）自定义进程类</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA%E6%AD%A5%E9%AA%A4"><span class="toc-text">创建步骤</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8%E6%96%B9%E6%B3%95"><span class="toc-text">使用方法</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%EF%BC%883%EF%BC%89%E8%BF%9B%E7%A8%8B%E6%B1%A0%E5%AE%9E%E7%8E%B0"><span class="toc-text">（3）进程池实现</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%BF%85%E8%A6%81%E6%80%A7"><span class="toc-text">必要性</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%8E%9F%E7%90%86"><span class="toc-text">原理</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E8%BF%9B%E7%A8%8B%E6%B1%A0%E5%AE%9E%E7%8E%B0%E8%BF%87%E7%A8%8B"><span class="toc-text">进程池实现过程</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#17-5-%E8%BF%9B%E7%A8%8B%E9%97%B4%E9%80%9A%E4%BF%A1%EF%BC%88IPC%EF%BC%89"><span class="toc-text">17.5 进程间通信（IPC）</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%EF%BC%881%EF%BC%89%E7%AE%A1%E9%81%93%E9%80%9A%E4%BF%A1-Pipe"><span class="toc-text">（1）管道通信(Pipe)</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E9%80%9A%E4%BF%A1%E5%8E%9F%E7%90%86"><span class="toc-text">通信原理</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%AE%9E%E7%8E%B0%E6%96%B9%E6%B3%95"><span class="toc-text">实现方法</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%EF%BC%882%EF%BC%89%E6%B6%88%E6%81%AF%E9%98%9F%E5%88%97"><span class="toc-text">（2）消息队列</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%EF%BC%883%EF%BC%89%E5%85%B1%E4%BA%AB%E5%86%85%E5%AD%98"><span class="toc-text">（3）共享内存</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E9%80%9A%E4%BF%A1%E5%8E%9F%E7%90%86%EF%BC%9A"><span class="toc-text">通信原理：</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%AE%9E%E7%8E%B0%E6%96%B9%E6%B3%95-1"><span class="toc-text">实现方法</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%EF%BC%884%EF%BC%89%E4%BF%A1%E5%8F%B7%E9%87%8F%EF%BC%88%E4%BF%A1%E5%8F%B7%E7%81%AF%E9%9B%86%EF%BC%89"><span class="toc-text">（4）信号量（信号灯集）</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#17-6-%E7%BA%BF%E7%A8%8B%E7%BC%96%E7%A8%8B%EF%BC%88Thread%EF%BC%89"><span class="toc-text">17.6 线程编程（Thread）</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%EF%BC%881%EF%BC%89%E7%BA%BF%E7%A8%8B%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5"><span class="toc-text">（1）线程基本概念</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%EF%BC%882%EF%BC%89threading%E6%A8%A1%E5%9D%97%E5%88%9B%E5%BB%BA%E7%BA%BF%E7%A8%8B"><span class="toc-text">（2）threading模块创建线程</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%EF%BC%883%EF%BC%89%E7%BA%BF%E7%A8%8B%E5%AF%B9%E8%B1%A1%E5%B1%9E%E6%80%A7"><span class="toc-text">（3）线程对象属性</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%EF%BC%884%EF%BC%89%E8%87%AA%E5%AE%9A%E4%B9%89%E7%BA%BF%E7%A8%8B%E7%B1%BB"><span class="toc-text">（4）自定义线程类</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#17-7-%E5%90%8C%E6%AD%A5%E4%BA%92%E6%96%A5"><span class="toc-text">17.7 同步互斥</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%EF%BC%881%EF%BC%89%E7%BA%BF%E7%A8%8B%E9%97%B4%E9%80%9A%E4%BF%A1%E6%96%B9%E6%B3%95"><span class="toc-text">（1）线程间通信方法</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%EF%BC%882%EF%BC%89%E7%BA%BF%E7%A8%8B%E5%90%8C%E6%AD%A5%E4%BA%92%E6%96%A5%E6%96%B9%E6%B3%95"><span class="toc-text">（2）线程同步互斥方法</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#1-gt-%E7%BA%BF%E7%A8%8BEvent"><span class="toc-text">1&gt; 线程Event</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#2-gt-%E7%BA%BF%E7%A8%8B%E9%94%81-Lock"><span class="toc-text">2&gt; 线程锁 Lock</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%EF%BC%883%EF%BC%89%E6%AD%BB%E9%94%81%E5%8F%8A%E5%85%B6%E5%A4%84%E7%90%86"><span class="toc-text">（3）死锁及其处理</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%AE%9A%E4%B9%89"><span class="toc-text">定义</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%AD%BB%E9%94%81%E4%BA%A7%E7%94%9F%E6%9D%A1%E4%BB%B6"><span class="toc-text">死锁产生条件</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#17-8-python%E7%BA%BF%E7%A8%8BGIL"><span class="toc-text">17.8 python线程GIL</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#17-9-%E8%BF%9B%E7%A8%8B%E7%BA%BF%E7%A8%8B%E7%9A%84%E5%8C%BA%E5%88%AB%E8%81%94%E7%B3%BB"><span class="toc-text">17.9 进程线程的区别联系</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%EF%BC%881%EF%BC%89%E5%8C%BA%E5%88%AB%E8%81%94%E7%B3%BB"><span class="toc-text">（1）区别联系</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%EF%BC%882%EF%BC%89%E4%BD%BF%E7%94%A8%E5%9C%BA%E6%99%AF"><span class="toc-text">（2）使用场景</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%EF%BC%883%EF%BC%89%E8%A6%81%E6%B1%82"><span class="toc-text">（3）要求</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#17-10-%E5%B9%B6%E5%8F%91%E7%BD%91%E7%BB%9C%E9%80%9A%E4%BF%A1%E6%A8%A1%E5%9E%8B"><span class="toc-text">17.10 并发网络通信模型</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%EF%BC%881%EF%BC%89%E5%B8%B8%E8%A7%81%E7%BD%91%E7%BB%9C%E6%A8%A1%E5%9E%8B"><span class="toc-text">（1）常见网络模型</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%EF%BC%882%EF%BC%89%E5%9F%BA%E4%BA%8Efork%E7%9A%84%E5%A4%9A%E8%BF%9B%E7%A8%8B%E7%BD%91%E7%BB%9C%E5%B9%B6%E5%8F%91%E6%A8%A1%E5%9E%8B"><span class="toc-text">（2）基于fork的多进程网络并发模型</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%EF%BC%883%EF%BC%89%E5%9F%BA%E4%BA%8Ethreading%E7%9A%84%E5%A4%9A%E7%BA%BF%E7%A8%8B%E7%BD%91%E7%BB%9C%E5%B9%B6%E5%8F%91"><span class="toc-text">（3）基于threading的多线程网络并发</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%EF%BC%884%EF%BC%89ftp-%E6%96%87%E4%BB%B6%E6%9C%8D%E5%8A%A1%E5%99%A8"><span class="toc-text">（4）ftp 文件服务器</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#17-11-IO%E5%B9%B6%E5%8F%91"><span class="toc-text">17.11 IO并发</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%EF%BC%881%EF%BC%89IO-%E5%88%86%E7%B1%BB"><span class="toc-text">（1）IO 分类</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#1-gt-%E9%98%BB%E5%A1%9EIO"><span class="toc-text">1&gt; 阻塞IO</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#2-gt-%E9%9D%9E%E9%98%BB%E5%A1%9EIO"><span class="toc-text">2&gt; 非阻塞IO</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%EF%BC%882%EF%BC%89IO%E5%A4%9A%E8%B7%AF%E5%A4%8D%E7%94%A8"><span class="toc-text">（2）IO多路复用</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#1-gt-select-%E6%96%B9%E6%B3%95"><span class="toc-text">1&gt; select 方法</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#2-gt-poll%E6%96%B9%E6%B3%95"><span class="toc-text">2&gt; poll方法</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#3-gt-epoll%E6%96%B9%E6%B3%95"><span class="toc-text">3&gt; epoll方法</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%EF%BC%883%EF%BC%89%E5%8D%8F%E7%A8%8B%E6%8A%80%E6%9C%AF"><span class="toc-text">（3）协程技术</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#1-gt-%E5%9F%BA%E7%A1%80%E6%A6%82%E5%BF%B5"><span class="toc-text">1&gt; 基础概念</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#2-gt-%E7%AC%AC%E4%B8%89%E6%96%B9%E5%8D%8F%E7%A8%8B%E6%A8%A1%E5%9D%97"><span class="toc-text">2&gt; 第三方协程模块</span></a></li></ol></li></ol></li></ol></li></ol></div></div></div></div></main><footer id="footer" style="background-image: url('/img/python_topImg1.jpg')"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2023 By Durango</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div><div class="footer_custom_text">Hi,welcome to my <a href="https://www.durango.cn/">blog</a>!</div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="font-plus" type="button" title="放大字体"><i class="fas fa-plus"></i></button><button id="font-minus" type="button" title="缩小字体"><i class="fas fa-minus"></i></button><button id="translateLink" type="button" title="简繁转换">简</button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="chat_btn" type="button" title="rightside.chat_btn"><i class="fas fa-sms"></i></button><a id="to_comment" href="#post-comment" title="直达评论"><i class="fas fa-comments"></i></a><button id="go-up" type="button" title="回到顶部"><i class="fas fa-arrow-up"></i></button></div></div><div id="local-search"><div class="search-dialog"><div class="search-dialog__title" id="local-search-title">本地搜索</div><div id="local-input-panel"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"/></div></div></div><hr/><div id="local-search-results"></div><span class="search-close-button"><i class="fas fa-times"></i></span></div><div id="search-mask"></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.js"></script><script src="/js/search/local-search.js"></script><script>var preloader = {
  endLoading: () => {
    document.body.style.overflow = 'auto';
    document.getElementById('loading-box').classList.add("loaded")
  },
  initLoading: () => {
    document.body.style.overflow = '';
    document.getElementById('loading-box').classList.remove("loaded")

  }
}
window.addEventListener('load',preloader.endLoading())</script><div class="js-pjax"><script>if (document.getElementsByClassName('mermaid').length) {
  if (window.mermaidJsLoad) mermaid.init()
  else {
    getScript('https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js').then(() => {
      window.mermaidJsLoad = true
      mermaid.initialize({
        theme: 'default',
      })
      true && mermaid.init()
    })
  }
}</script><script>function loadValine () {
  function initValine () {
    const valine = new Valine(Object.assign({
      el: '#vcomment',
      appId: 'krF5kMcSSzhBp49rUb2CjNu2-gzGzoHsz',
      appKey: 'VJnaTN0zWPbBeDLnEaP8wDWF',
      placeholder: '记得留下你的昵称和邮箱...可以快速收到回复',
      avatar: 'monsterid',
      meta: 'nick,mail,link'.split(','),
      pageSize: '10',
      lang: 'en',
      recordIP: true,
      serverURLs: '',
      emojiCDN: '',
      emojiMaps: "",
      enableQQ: true,
      path: window.location.pathname,
      requiredFields: ["nick,mail"],
      visitor: false
    }, null))
  }

  if (typeof Valine === 'function') initValine() 
  else getScript('https://cdn.jsdelivr.net/gh/HCLonely/Valine@latest/dist/Valine.min.js').then(initValine)
}

if ('Valine' === 'Valine' || !true) {
  if (true) btf.loadComment(document.getElementById('vcomment'),loadValine)
  else setTimeout(loadValine, 0)
} else {
  function loadOtherComment () {
    loadValine()
  }
}</script></div><script defer="defer" id="ribbon" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/dist/canvas-ribbon.min.js" size="150" alpha="0.6" zIndex="-1" mobile="false" data-click="true"></script><script id="canvas_nest" defer="defer" color="0,0,255" opacity="0.7" zIndex="-1" count="99" mobile="false" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/dist/canvas-nest.min.js"></script><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/dist/activate-power-mode.min.js"></script><script>POWERMODE.colorful = true;
POWERMODE.shake = true;
POWERMODE.mobile = false;
document.body.addEventListener('input', POWERMODE);
</script><script id="click-heart" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/dist/click-heart.min.js" async="async" mobile="true"></script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js"></script><script src="https://cdn.jsdelivr.net/gh/metowolf/MetingJS@1.2/dist/Meting.min.js"></script><script src="https://cdn.jsdelivr.net/npm/pjax/pjax.min.js"></script><script>let pjaxSelectors = [
  'title',
  '#config-diff',
  '#body-wrap',
  '#rightside-config-hide',
  '#rightside-config-show',
  '.js-pjax'
]

if (false) {
  pjaxSelectors.unshift('meta[property="og:image"]', 'meta[property="og:title"]', 'meta[property="og:url"]')
}

var pjax = new Pjax({
  elements: 'a:not([target="_blank"])',
  selectors: pjaxSelectors,
  cacheBust: false,
  analytics: false,
  scrollRestoration: false
})

document.addEventListener('pjax:send', function () {

  // removeEventListener toc scroll 
  window.removeEventListener('scroll', window.tocScrollFn)

  typeof preloader === 'object' && preloader.initLoading()
  
  if (window.aplayers) {
    for (let i = 0; i < window.aplayers.length; i++) {
      if (!window.aplayers[i].options.fixed) {
        window.aplayers[i].destroy()
      }
    }
  }

  typeof typed === 'object' && typed.destroy()

  //reset readmode
  const $bodyClassList = document.body.classList
  $bodyClassList.contains('read-mode') && $bodyClassList.remove('read-mode')

})

document.addEventListener('pjax:complete', function () {
  window.refreshFn()

  document.querySelectorAll('script[data-pjax]').forEach(item => {
    const newScript = document.createElement('script')
    const content = item.text || item.textContent || item.innerHTML || ""
    Array.from(item.attributes).forEach(attr => newScript.setAttribute(attr.name, attr.value))
    newScript.appendChild(document.createTextNode(content))
    item.parentNode.replaceChild(newScript, item)
  })

  GLOBAL_CONFIG.islazyload && window.lazyLoadInstance.update()

  typeof chatBtnFn === 'function' && chatBtnFn()
  typeof panguInit === 'function' && panguInit()

  // google analytics
  typeof gtag === 'function' && gtag('config', '', {'page_path': window.location.pathname});

  // baidu analytics
  typeof _hmt === 'object' && _hmt.push(['_trackPageview',window.location.pathname]);

  typeof loadMeting === 'function' && document.getElementsByClassName('aplayer').length && loadMeting()

  // Analytics
  if (false) {
    MtaH5.pgv()
  }

  // prismjs
  typeof Prism === 'object' && Prism.highlightAll()

  typeof preloader === 'object' && preloader.endLoading()
})

document.addEventListener('pjax:error', (e) => {
  if (e.request.status === 404) {
    pjax.loadUrl('/404.html')
  }
})</script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div><script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"model":{"jsonPath":"/live2dw/assets/wanko.model.json"},"display":{"position":"left","width":180,"height":250},"mobile":{"show":false},"log":false,"pluginJsPath":"lib/","pluginModelPath":"assets/","pluginRootPath":"live2dw/","tagMode":false});</script></body></html>